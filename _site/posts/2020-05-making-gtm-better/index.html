<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Making GTM better</title>

    <!-- META SEM/SHARING  --> 
    <meta property="og:locale" content="en_GB" />
    <meta property="og:url" content="http://www.pixelthing.se/posts/2020-05-making-gtm-better/?utm_campaign=link-shared" />
    <meta property="og:site_name" content="pixelthing" />
    <meta property="og:title" content="Making GTM better" />
    <meta property="og:description" content="A few tweaks from Google would really improve my day." />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="http://www.pixelthing.se/img/2020-05-makinggtmbetter-tb.jpeg" />
    <meta property="og:image:width" content="665" />
    <meta property="og:image:height" content="500" />
    <meta itemprop="name" content="Making GTM better" />
    <meta itemprop="description" content="A few tweaks from Google would really improve my day." />
    <meta name="twitter:card" content="summary" />
    <meta name="robots" content="index,follow" />
    <meta name="DC.Language" content="en" />

    <!-- META APP  -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#fdf6e3" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#001a25" media="(prefers-color-scheme: dark)" />
    <link rel="icon" type="image/png" sizes="32x32" href="http://www.pixelthing.se/img/icon-512.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="http://www.pixelthing.se/img/icon-512.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="pixelthing" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="pixelthing" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="apple-touch-icon" sizes="512-512" href="/img/icon-512.png" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#000000" />
    <meta name="msapplication-config" content="none" />
    <meta name="msapplication-navbutton-color" content="#ffffff" />
    <meta name="msapplication-starturl" content="/" />
    <meta name="msapplication-TileColor" content="#001a25" />
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-THTS63B');</script>
    <!-- End Google Tag Manager -->
    
    <link rel="stylesheet" href="/css/styles.css">

    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="pixelthing">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="pixelthing">
  </head>
  <body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-THTS63B"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
  
    <script src="/js/viewport.js" async></script>
    <script src="/js/cookies.js"></script>

    
    <header class="header">
    
      <h3 class="header__home"><a href="/">pixelthing</a></h3>
      <h3 class="post-title-scrolled">
        <span class="post-title-scrolled__inner">here here here</span>
      </h3>
      <ul class="nav">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/posts/">Archive</a></li>
        <li class="nav-item"><a href="/about/">About Me</a></li>
      </ul>
    </header>
    

    <main class="post">
      
<figure class="post__hero">
  <div class="header__doppel" aria-hidden="true">
    <h3 class="header__home"><a href="/">pixelthing</a></h3>
  </div>
  <picture>
    <source media="(max-width:599px)" srcset="../../img/2020-05-makinggtmbetter-sm.jpeg" />
    <source media="(max-width:1799px)" srcset="../../img/2020-05-makinggtmbetter-lg.jpeg" />
    <source media="(min-width:1800px)" srcset="../../img/2020-05-makinggtmbetter-xl.jpeg" />
    <img src="../../img/2020-05-makinggtmbetter-xl.jpeg" loading="eager" />
  </picture>
</figure> 

<div class="post__content">

<div class="post__meta">
  <a href="/" class="post__back">&#9666; <span>back</span></a>
  <time class="post__date" datetime="2020-05-20">20 May 2020</time>
  <span class="post__tags"><a href="/tags/datananalysis/" class="post-tag">datananalysis</a><a href="/tags/googletagmanager/" class="post-tag">googletagmanager</a></span>
</div>

<h1 class="post__title">Making GTM better</h1><h3 class="post__sub">A few tweaks from Google would really improve my day.</h3><p>Google Tag Manager is a strange beast. Its purpose is essentially abstraction -- to provide a layer between a website and multiple types of site measurement. It’s been used brilliantly, loosely, badly and plain-old abusively in many cases, but it is trying to make it possible for non-developers to (for instance) be able to quickly set-up Google Analytics tracking on a button, as well as experts to set up more in-depth measurement. But like all interfaces that try and simplify things without losing complex functionality, it can quickly dissolve into very domain specific language that seems unintelligible from the outside.</p>
<p>And that’s where I am at the moment, using GTM to try and build logical tags of reliable data from horribly un-semantic, React-built spaghetti-code web sites that needs lots of custom JS in GTM to interpret them.</p>
<p>Because I was a front-end developer in a previous life with some UX background, I understand that no UI/UX is perfect and there is always more that you learn the more you fix it. I’d like to think I could make a few suggestions to the GTM team at Google that would make my day (and hopefully yours) much easier:</p>
<p>Having a &quot;preview&quot; button in a tag/trigger/var panel (plus a &quot;save&quot; button in the expanded code panel) would save a huge amount of time in the round trip of trying to build or debug something (see below). The current roundtrip for doing this is an unnecessary cognitive load, I often get back to the tagged page and wonder what it was I changed because of all the steps I’d taken since I’d made the change. Plus it’s a huge time-sink when you multiply it by the many, many times a day you have to carry out a round trip. Imagine a button saving 30 minutes off your day, every day -- that would be worth celebrating.</p>
<p>The edit-preview-edit round trip (sorry, you’ll need sound -- haven’t captioned it yet)</p>
<p>Similar to the above -- I really like the orange banner that reminds me I’m in preview mode -- it’s good use of &quot;ugly&quot; UX (forgive me -- I mean &quot;in your face&quot; is not often pretty, but it’s useful). But I can’t count how many times I have been looking at a tagged page and have been confused as to why some tag isn’t working, before wondering if I actually refreshed the preview state or not. I’d suggest making the preview button and refresh link aware of the status of updates, as below:</p>
<p>The preview button and preview refresh link if no changes since the last refresh.</p>
<p>Suggested preview button and refresh link style if updates have been made and not yet previewed.</p>
<p>Could the debug panel in the tagged page also be made aware of changes that have been previewed, and even have an optional setting to hot-reload the page if the preview is refreshed?</p>
<p>Suggestion for the a &quot;reload&quot; button in the debug panel to be aware of preview refreshes, prompting you to re-load the page to see the update.</p>
<p>Working on laptop screens means a lot of scrolling up and down to click on the &quot;preview&quot; button, and then down a long list to try and find the tag or variable you were working on. I’d debate that the preview button should be sticky to the top of the window, even if it does take up a small amount of screen space. Suggestion: a height-based CSS media query resulting in relative positioned preview button/bar up until about 500px viewport height, and then position:sticky for any taller. This would not steal space from the smallest viewports but provide a better UX for most laptops.</p>
<p>Alternatively, or additionally, to the above point, highlight the last tags, triggers and variables you were working on in the lists (eg, a yellow row highlight, as below) to reduce cognitive load when scrolling through a long list and assisting you to quickly return to the items you are currently editing.</p>
<p>Highlighting items that have recently been updated to make them easier to return to in a long list.</p>
<p>Really important: In lists of tags/triggers/variables, I wish columns remembered the way I sorted them. When I’m at my busiest, I like the columns sorted by &quot;last edited&quot; -- that way I can see the items I’m working on right now. But I have to click the column twice every time I come back to the list because they always return to ascending name order. And honestly -- about those two clicks -- I’d debate there are more people who are developing tags and want to see the latest tags first (and so first click should be latest first), and less people trying to root out old tags (as is currently, with first click resulting in oldest first). But I’m hoping Google could correct me on that by consulting their own metrics of GTM usage.</p>
<p>I wish every time I came back to this list, it was still sorted as &quot;last edited first&quot;.</p>
<p>The two tables of variables. Having them split into &quot;Built-in&quot; and &quot;User defined&quot; (as below) still confuses me many times a day -- I often search for the variable I’m working on in the top table, and then realise my mistake and have to do it all over again in the bottom table -- because that’s the chemical memory I have learnt from the other lists. I’d debate the benefit of splitting the tables at all. They could be just be mixed up together and then we can have another column for &quot;built-in/user&quot; (and an icon, text boldness or text colour could also discriminate clearly between the two types). If the difference between the two types was of utmost important to an GTM dev/admin, you could sort by that column -- and if column sorting was remembered (as in the point above), that would essentially give you the same UI as you have now, only as a user setting instead of a default.</p>
<p>The Variables panel -- split into &quot;Built-in&quot; and &quot;User-defined&quot;. My nemesis.<br>
The trigger list has a column for &quot;number of tags using this trigger&quot; (see below). Please, please could we have a similar column in the variables list (&quot;number of times this variable is used&quot;) -- it helps us clean the vars as we prune older tags, and sweep up discarded vars whilst we are developing new tags. It would also help us understand quickly if we were using more built-in variables than we needed.</p>
<p>The &quot;usage number&quot; in the trigger list. Could we have this in the Variable list too?</p>
<p>Having a name search across all tags/triggers/vars. Often I’m developing tags which work in concert with triggers and vars, so I name them in a similar way, eg &quot;accordion-click-tag&quot;, &quot;accordion-click-trigger&quot;. But to see them all, I need to go into three different panels (tags, triggers, vars). You might say that they would all appear together in the &quot;overview&quot; panel, but thats only the case if I’ve made changes to all three of them since the last deploy.<br>
Search (and even at a push -- replace) across all content in text fields &amp; custom JS. On a regular basis I know that I have already built a method somewhere in my workspace, but I’m not able to find it without opening up lots of tags or vars. We can see from the amazing job GTM does with tokenising and auto-replacing var names in our custom scripts that the content is indexed, so could we search that index as well?</p>
<p>Copying and pasting from the data layer in the debug panel. You can’t, and it’s a real pain:</p>
<p>You can’t copy and paste from the data layer in the debug panel.</p>
<p>I love that I can be editing a tag, click on the trigger at the of the panel bottom, edit the trigger in a slide-over panel, then return instantly to the tag. This is how the slide-over panel UI of GTM really wins. But so often I’d like to have the same ability to do this with moustached variables in text fields or in custom JS. Consider the one below. Sometimes I’d simply like to check what  actually is, and sometimes I know I’ve got to edit it before I save this tag. But that means closing this tag (often in a half finished state), loading the list of variables, finding the variable you want, opening it, reviewing or editing the var, saving it, loading the list of tags, finding the tag you want, and finally reopening it in a new panel. That’s quite a round trip -- considering if I wanted to review the trigger for the same tag, I’d just click it then close it. My suggestion is a contextual menu to open the variable in a new slide-over. All the code to build that UI is in the GTM web app already. Quickest UX win ever.</p>
<p>I wish I could inspect  without spending the next two minutes clicking buttons.</p>
<p>Here’s a real loopy idea. Tabs. So you can work on the tag, trigger and vars all at the same time, without having to jump between panels. I know it’s probably a UI convention that doesn’t work well with the &quot;endless slide-over panels&quot; UI that exists in GTM -- and maybe the previous point would reduce the need for it -- but just consider the workflow efficiencies. Some of us are working around this already with multiple tabs in the browser -- and that can only lead to bad syncing and state problems.</p>


</div>

 <!--<hr>
<ul class="otherposts"><li>Next: <a href="/posts/2020-05-ipados14-wish-list-for-web-devs/">iPadOS14 wish list for web devs</a></li><li>Previous: <a href="/posts/2020-01-ipad-webdev19-vscode-hosted/">2019 iPad Webdev - remote VS Code</a></li>
</ul> -->

    </main>

    <footer class="footer">
      <div class="footer__inner">
        <div class="footer__author">
          <h3>Pixelthing</h3>
          <p> I'm <span rel="author">Craig Morey</span>, a data analyst & developer from Gothenburg, Sweden (but originally from the UK). This is my place for collecting ramblings and curiosities, you're welcome/välkomna!</p>        
          <p>Site made with <a href="https://11ty.dev">Eleventy</a> on iPad. Images are my own or from <a href="https://unsplash.com">unsplash</a>.</p> 
        </div>
        <address class="footer__social social">
          <h3>Links</h3>
          <ul class="social__list">
            <li class="social__item social__item--rss">
              <a href="/feed/feed.xml" download="rss-feed.xml" class="social__link">
                <svg class="social__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 -256 1792 1792"><path d="M596.61 1154.17q0 80-56 136t-136 56q-80 0-136-56t-56-136q0-80 56-136t136-56q80 0 136 56t56 136zm512 123q2 28-17 48-18 21-47 21h-135q-25 0-43-16.5t-20-41.5q-22-229-184.5-391.5t-391.5-184.5q-25-2-41.5-20t-16.5-43v-135q0-29 21-47 17-17 43-17h5q160 13 306 80.5t259 181.5q114 113 181.5 259t80.5 306zm512 2q2 27-18 47-18 20-46 20h-143q-26 0-44.5-17.5t-19.5-42.5q-12-215-101-408.5t-231.5-336q-142.5-142.5-336-231.5t-408.5-102q-25-1-42.5-19.5t-17.5-43.5v-143q0-28 20-46 18-18 44-18h3q262 13 501.5 120t425.5 294q187 186 294 425.5t120 501.5z" fill="currentColor"/></svg>
                Site RSS feed
              </a>
            </li>
            <li class="social__item social__item--twitter">
              <a href="https://www.twitter.com/pixelthing" target="_blank" rel="noopener" class="social__link">
                <svg class="social__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 171.505 139.378"><path d="M171.505 16.499a70.337 70.337 0 01-20.208 5.54c7.264-4.354 12.844-11.25 15.47-19.466a70.437 70.437 0 01-22.344 8.538A35.136 35.136 0 00118.74 0C99.308 0 83.553 15.754 83.553 35.185c0 2.758.311 5.444.912 8.019C55.22 41.737 29.295 27.728 11.94 6.44a35.019 35.019 0 00-4.764 17.69c0 12.207 6.211 22.977 15.653 29.286a35.047 35.047 0 01-15.937-4.4c-.004.146-.004.294-.004.442 0 17.048 12.129 31.268 28.225 34.503a35.224 35.224 0 01-15.89.602c4.478 13.979 17.472 24.152 32.87 24.435-12.042 9.438-27.214 15.063-43.7 15.063-2.84 0-5.64-.167-8.393-.492 15.572 9.984 34.067 15.81 53.938 15.81 64.72 0 100.113-53.616 100.113-100.114 0-1.526-.035-3.043-.102-4.553a71.483 71.483 0 0017.556-18.213z" fill="currentColor"/></svg>
                Twitter @pixelthing
              </a>
            </li>
            <li class="social__item social__item--instagram">
              <a href="https://www.instagram.com/pixelthing" target="_blank" rel="noopener" class="social__link">
                <svg class="social__icon" xmlns="http://www.w3.org/2000/svg" viewBox="18 18 96 96"><path fill="currentColor" d="M66 18c-13 0-14.7 0-19.8.3a35 35 0 00-11.6 2.2 23.5 23.5 0 00-8.5 5.6 23.6 23.6 0 00-5.6 8.5c-1.2 3-2 6.5-2.2 11.6C18 51.3 18 53 18 66s0 14.7.3 19.8a35 35 0 002.2 11.6 23.5 23.5 0 005.6 8.5 23.5 23.5 0 008.5 5.6c3 1.2 6.5 2 11.6 2.2 5.1.2 6.8.3 19.8.3s14.7 0 19.8-.3a35 35 0 0011.6-2.2 23.5 23.5 0 008.5-5.6 23.6 23.6 0 005.6-8.5c1.2-3 2-6.5 2.2-11.6.2-5.1.3-6.8.3-19.8s0-14.7-.3-19.8c-.2-5.1-1-8.6-2.2-11.6a23.6 23.6 0 00-5.6-8.5 23.5 23.5 0 00-8.5-5.6c-3-1.2-6.5-2-11.6-2.2C80.7 18 79 18 66 18zm-4.3 8.7H66c12.8 0 14.3 0 19.4.2 4.7.2 7.2 1 9 1.7 2.1.8 3.7 1.9 5.4 3.6a14.9 14.9 0 013.6 5.5c.7 1.7 1.5 4.2 1.7 8.9.2 5 .3 6.6.3 19.4s-.1 14.3-.3 19.4c-.2 4.7-1 7.2-1.7 8.9a14.8 14.8 0 01-3.6 5.5 14.8 14.8 0 01-5.5 3.6 27 27 0 01-8.9 1.6c-5 .3-6.6.3-19.4.3-12.8 0-14.3 0-19.4-.2-4.7-.3-7.2-1-8.9-1.7a14.9 14.9 0 01-5.5-3.6 14.9 14.9 0 01-3.6-5.5c-.7-1.7-1.5-4.2-1.7-9-.2-5-.2-6.5-.2-19.3s0-14.4.2-19.4c.2-4.7 1-7.2 1.7-9a14.9 14.9 0 013.6-5.5 14.9 14.9 0 015.5-3.5c1.7-.7 4.2-1.5 8.9-1.7 4.4-.2 6.2-.3 15.1-.3zm30 8a5.8 5.8 0 105.7 5.7 5.8 5.8 0 00-5.8-5.8zM66 41.2a24.6 24.6 0 100 49.4 24.6 24.6 0 000-49.3zm0 8.7a16 16 0 110 32 16 16 0 010-32z"/></svg>
                Instagram @pixelthing
              </a>
            </li>
            <li class="social__item social__item--linkedin">
              <a href="https://www.linkedin.com/in/craigmorey/" target="_blank" rel="noopener" class="social__link">
                <svg  class="social__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 455 455"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M246.4 204.35v-.665c-.136.223-.324.446-.442.665h.442z"/><path d="M0 0v455h455V0H0zm141.522 378.002H74.016V174.906h67.506v203.096zm-33.753-230.816h-.446C84.678 147.186 70 131.585 70 112.085c0-19.928 15.107-35.087 38.211-35.087 23.109 0 37.31 15.159 37.752 35.087 0 19.5-14.643 35.101-38.194 35.101zM385 378.002h-67.524V269.345c0-27.291-9.756-45.92-34.195-45.92-18.664 0-29.755 12.543-34.641 24.693-1.776 4.34-2.24 10.373-2.24 16.459v113.426h-67.537s.905-184.043 0-203.096H246.4v28.779c8.973-13.807 24.986-33.547 60.856-33.547 44.437 0 77.744 29.02 77.744 91.398v116.465z"/></g></svg>
                Linked In
              </a>
            </li>
          </ul>
        </address>
        <div class="footer__cookies">
          <div id="cookie-dialog-1">
            <h3>Cookies & Tracking</h3>
            <p>This site uses a few cookies & yes, Google Analytics.<p>
            <p>Because it's nice to know if anyone is reading this stuff.</p>
            <p>If you accept cookies, your data is never sold & you are never targeted or tracked cross-site.</p>
          </div>
          
          <div id="cookie-dialog-2" class="cookies__buttons">
            <button type="submit" id="dialog-cookie-accept" class="cookies__button cookies__button--accept"> Accept </button>
            <button type="submit" id="dialog-cookie-reject" class="cookies__button cookies__button--reject">No to cookies</button>
          </div>
        </div>
        <div class="footer__settings">
          <h3>Settings</h3>
          
          <fieldset class="cookies__settings">
            <legend class="cookies__settings__legend">Your cookie settings</legend>
            <div class="cookies__item">
              <p class="cookies__item__text">Accept functional cookies needed to run the site (required)</p>
              <div class="toggle">
                <input type="radio" class="toggle__input toggle__input--no" disabled />
                <input type="radio" class="toggle__input toggle__input--yes" checked disabled />
                <span class="toggle__slug"></span>
              </div>
            </div>
            <div class="cookies__item">
              <p class="cookies__item__text">Accept Google Analytics cookies </p>
              <div class="toggle">
                <input id="settings-cookie-reject" type="radio" class="toggle__input toggle__input--no" name="cookies-analytics" />
                <label for="settings-cookie-reject" class="toggle__text">Opt-out</label>
                <input id="settings-cookie-accept" type="radio" class="toggle__input toggle__input--yes" name="cookies-analytics" />
                <label for="settings-cookie-accept" class="toggle__text">Accept</label>
                <input type="radio" class="toggle__input toggle__input--maybe" name="cookies-analytics" disabled checked />
                <label class="toggle__text">Undecided</label>
                <span class="toggle__slug"></span>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
    </footer>
    
    
    <script src="/js/post-title-scroll.js" async></script>
    
    
  </body>
</html>