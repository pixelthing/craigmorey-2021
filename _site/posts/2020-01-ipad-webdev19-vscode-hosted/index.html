<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2019 iPad Webdev - remote VS Code</title>
    <meta name="description" content="I am writing about my experiences as a naval navel-gazer.">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="pixelthing">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="pixelthing">
  </head>
  <body>
  
    <script src="/js/viewport.js" async></script>
  
    <header class="header">
    
      <h3 class="header__home"><a href="/">pixelthing</a></h3>
      <h3 class="post-title-scrolled">
        <span class="post-title-scrolled__inner">here here here</span>
      </h3>
      <ul class="nav">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/posts/">Archive</a></li>
        <li class="nav-item"><a href="/about/">About Me</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      
<figure class="post__hero">
  <div class="header__doppel" aria-hidden="true">
    <h3 class="header__home"><a href="/">pixelthing</      a></h3>
  </div>
  <picture>
    <source media="(max-width:599px)" srcset="../../img/2020-01-ipadwebdev-vscode-sm.jpeg" />
    <source media="(max-width:1799px)" srcset="../../img/2020-01-ipadwebdev-vscode-lg.jpeg" />
    <source media="(min-width:1800px)" srcset="../../img/2020-01-ipadwebdev-vscode-xl.jpeg" />
    <img src="../../img/2020-01-ipadwebdev-vscode-xl.jpeg" loading="eager" />
  </picture>
</figure> 

<div class="post">
  <div class="post__meta">
    <span class="post__tags"><a href="/tags/ipadpro/" class="post-tag">ipadpro</a><a href="/tags/webdev/" class="post-tag">webdev</a></span>
    </div>
  <h1>2019 iPad Webdev - remote VS Code</h1>

<aside class="aside--less">
<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>
</aside>
<aside class="aside--update">
<h4 id="update-2020%E2%80%9304%E2%80%9317">Update 2020–04–17 <a class="direct-link" href="#update-2020%E2%80%9304%E2%80%9317">#</a></h4>
<p>Checkout <a href="https://servediter.app">serveediter.app</a>, a neat native app that wraps up everything mentioned below along with a super cheap VPS subscription. It’s early days but it’s much more stable than the experience I had and it looks promising.</p>
</aside>
<aside class="aside--update">
<h4 id="update-2020%E2%80%9301%E2%80%9310">Update 2020–01–10 <a class="direct-link" href="#update-2020%E2%80%9301%E2%80%9310">#</a></h4>
<p>Reddit users have pointed me in the direction of <a href="https://visualstudio.microsoft.com/services/visual-studio-online/">Visual Studio Online</a>, which is Microsoft’s official online version of VS Code, and has been in public preview since November 2019. It works great in desktop browsers (including having keyboard shortcuts)-- but so far it is not letting me access it with iPadOS; it says &quot;currently unsupported&quot; and tries to download &quot;undefined&quot; on sign-in. But along with the release notes talking about testing on iPad, it seems to be a good sign that Visual Studio Online will soon be supported on iPadOS. Until then, the below method (or Owen Williams’ method) seems the only way of achieving VS Code on an iPad.</p>
</aside>
<aside class="aside--update">
<h4 id="update-2021%E2%80%9301%E2%80%9304">Update 2021–01–04 <a class="direct-link" href="#update-2021%E2%80%9301%E2%80%9304">#</a></h4>
<p>Also check out <a href="https://gitpod.io/">gitpod.io</a>, an online service that also gives you a super quick way of accessing and editing github repos.</p>
</aside>
<aside>
<p>This review uses VS Code 1.39.0 In the <a href="https://github.com/cdr/code-server/releases/tag/2.1692-vsc1.39.2">cdr server package release 2.1692</a></p>
</aside>
<p>So this is a bombshell.</p>
<p>I can run <a href="https://code.visualstudio.com/">Microsoft VS Code</a> on my iPad. Real, actual VS Code, down to the built-in git client, terminal, extensions and multi-file search. I was first alerted to the possibility by <a href="https://link.medium.com/4nycoirfU2">Owen Williams</a>’ article back in June.</p>
<p>Well, don’t get too excited, it’s 90% the real thing.</p>
<p>Running VS Code (hosted) as a standalone web app.</p>
<p>You see, the earliest versions of VS Code were based on a fork of <a href="https://atom.io/">GitHub’s Atom</a>, a JS based editor. And even though VS Code has come a long way, it’s interface is still just HTML, CSS and JS, even if the heavy lifting is dealt with behind the scenes (mostly in GO?). And that means it’s essentially a web app that can be served to a web browser and even linked from your home screen as a standalone web-app.</p>
<p>But the problem with it being not only a web-app but a relatively unsanctioned one at that, is that the developer experience has a few downsides:</p>
<ul>
<li>You need to be online (or at least serve it from a separate computer).</li>
<li>You need to keep it running on the server (we’ll talk about this in a moment), as well as secure from other users.</li>
<li>Every time you return to the app, you briefly see a &quot;reconnecting&quot; dialog as the app wakes and looks for the VS code app server.</li>
<li>Your experience is directly related to the speed of connection to your server.</li>
<li>You can’t use any keyboard short-cuts (that’s a big ouch).</li>
<li>You can’t touch/drag scroll bars.</li>
<li>The settings menu is currently buggy (you can’t change any setting, but there’s a workaround here in the footnotes)</li>
<li>The main hamburger menu disappears once you’ve used it (oops).</li>
<li>Various repaint glitches, touch-targets not all sized for touch screen usage, other small weirdnesses of running a very complex beta web-app.</li>
</ul>
<p>Extensions in VS Code. In terms of functionality, the hosted version is missing almost nothing over the app.</p>
<p>Many of these are purely beta-testing bugs, but <a href="https://code.visualstudio.com/updates/v1_41#_browser-support">there’s evidence that Microsoft are actively testing this set-up with iPads</a>, so expect to see improvements in the future. Could this eventually be a native app? I’d venture that getting it to work in a native app package with the file picker API etc is definitely within sight, but forking the capabilities of the app to be so very different when running natively on the iPad (eg could the iOS version do debugging, git, terminal, extensions in the same way?) are more likely to be holding Microsoft back from launching it. Who knows, but if anyone could get Apple to bend rules to suit webdev, it’s 2020 Microsoft.</p>
<p>Now we’ve covered the downsides, what are the benefits?</p>
<ul>
<li>Built in git-client, so you can pull, commit and push demo from your IDE directly on the remote server.</li>
<li>Built in terminal, so you can run your Node.js toolchain on the remote server from within your IDE.</li>
<li>err.. VS Code -- that means a top-tier code editor with almost endless extensions and theming.</li>
</ul>
<p>Multi file search and replace. One of many things missing in native iOS code editor apps.</p>
<p>In practice, once you’re set-up and in a flow, you’re pulling, editing, saving, running Node.js tool chains all within VS Code as a standalone web-app (without need to think that it’s all happening remotely), then alt-tabbing to Safari/<a href="https://apps.pdyn.net/inspect/">Inspect Browser</a> to check the results, then alt-tabbing back to VS Code exactly where you left it, to commit and push right there in the IDE. You’ll get used to briefly seeing the &quot;reconnecting&quot; dialogs, but on a good connection, it’s a minor annoyance. It’s surprisingly seamless.</p>
<p>Starting up and using VS Code on a VPS from an iPad.</p>
<h3 id="but-hang-on%E2%80%A6">But hang on… <a class="direct-link" href="#but-hang-on%E2%80%A6">#</a></h3>
<p>This is technically impressive, but in truth it has nothing to do with the iPad -- everything is happening on the server, so your precious iPad could be replaced by any web browser on any platform -- from a Chrome OS laptop to a Raspberry Pi mini-PC. It’s the browser equivalent of firing up Emacs, ssh-ing to a server and only leaving it to check the results.</p>
<p>That doesn’t mean it doesn’t hit our main requirement (ie, doing &quot;real work&quot; on my mobile device of choice), it’s just that it feels a little like cheating.</p>
<p>Running a simple python web server within the terminal inside VS Code.</p>
<h3 id="how-to.">How to. <a class="direct-link" href="#how-to.">#</a></h3>
<ol>
<li>First you need a Linux server to run it from. It could be a computer on your internal network, a remote server you have access to, or most probably a VPS (a Virtual Private Server -- a remote Linux account that your rent). This will probably take some sys-admin knowledge to set-up and prepare.</li>
<li>To even start with a VPS, you’ll need a decent SSH/Mosh client on your iPad. Use <a href="https://termius.com/">Termius</a> if you like a slick iOS GUI, or <a href="https://www.blink.sh/">Blink</a> if you live and die by the command line (and you want the stickiest connections ever).</li>
<li>If you are using a remote server, the chances are that you will be starting up the VSCode server via an SSH connection, and if that connection is severed, your access to VSCode will eventually also time-out with your dead connection. So it’s best to make that connection as stable as possible by adding a <a href="https://mosh.org/">Mosh</a> to your remote server.</li>
<li>Now you need to get the hosted VSCode binary onto your remote server. If your server supports a recent version of Docker, there’s a <a href="https://github.com/cdr/code-server">simple Docker command you can run here</a>. But for my VPS, it didn’t work, but <a href="https://github.com/cdr/code-server">downloading, expanding and running the binary version worked</a> just fine.</li>
<li>We’re ready to test it all out. Log into the remote server and run the code-server binary (or the docker command if that’s the version you downloaded). It will start up VSCode on port 8008, and will tell you the random password to use to log-in. Because this version of VSCode is often served in public, it defaults to needing a password, before nasty people start doing nasty things to your code.</li>
<li>In Safari on your iPad you can go to the IP or domain of your remote server at port 8008, and you’ll see a log-in screen (see below). Before you enter the password, go into the Safari action/share sheet and save this web app to your homescreen. It’s not a full PWA, but it will make a standalone web app link that will give you more screen space (none of the Safari UI) and make it easier to switch between editor and browser.</li>
<li>Now you can open the VSCode web app from your homescreen and enter the random password that was shown to you in the command line when you started up the VSCode server. And suddenly you have VSCode on your iPad!</li>
<li>If you have a project already checked out on your remote server, you can open it up using &quot;File&quot; in the hamburger menu top-left of the VSCode screen. If you don’t yet have a project on your remote server, use an SFTP client or even a code editor like <a href="https://www.textasticapp.com/">Textastic</a> to transfer your project up to the server.</li>
<li>If that project is a Git repo, VSCode will attempt to get the git status of the project (if your remote server doesn’t have an SSH key for your git service, your terminal app will be sitting there requesting your Git password).</li>
<li>One last thing. You’ll get pretty fed up quickly with that password on VSCode. If you’re running VSCode in a safe enviroment (LAN server, Raspberry Pi), the instructions to remove the password are given on the command line where you see the randomized password. Otherwise, pick a password and set it up in what they call an environment variable. On the remote server, type:<br>
echo &quot;export PASSWORD=YourPassword&quot; &gt;&gt; /etc/profile<br>
…where YourPassword is… well you get the idea. Next time you start up the VSCode server and get to the log-in, you won’t need to copy/paste that random password, you’ll have your own.</li>
<li>Ok, this is the last thing. Using this out in the open is still a security risk even with the password on it. I wouldn’t risk setting it up to run all the time if I can help it. Shut it down when you’ve finished your session.</li>
</ol>
<p>The password entry for hosted VSCode as seen in a browser. By default, the password is set randomly and shown in the terminal session that started the server.</p>
<h3 id="optional-extras">Optional Extras <a class="direct-link" href="#optional-extras">#</a></h3>
<ul>
<li>Could I marry this workflow with a Raspberry Pi (or any local Linux computer) instead of a VPS? Heck yes, and you wouldn’t need the Mosh server or passwords every time you launch VS Code. A Raspberry Pi 4B with decent memory should be more than capable -- although I haven’t tried it… yet.</li>
<li>I haven’t tried it yet, but I suspect it’s not impossible to make a siri shortcut that uses Blink to open the connection to the VPS, start up the VSCode server and then opens the standalone web app on you iPad, all in one icon tap. And then you might need another to shut the server down once you’ve finished.</li>
</ul>
<p>Raspberry Pi 3B+ powered by an Anker battery pack. Could it be your VSCode in a box?</p>
<h3 id="links">Links <a class="direct-link" href="#links">#</a></h3>
<ul>
<li><a href="https://github.com/cdr/code-server">GitHub - cdr/code-server: VS Code in the browser</a></li>
<li><a href="https://link.medium.com/4nycoirfU2">Owen Williams’ Medium article on using hosted VS Code with an iPad</a></li>
<li><a href="https://code.visualstudio.com/">Full Microsoft Visual Studio site</a></li>
</ul>
<h3 id="footnote">Footnote <a class="direct-link" href="#footnote">#</a></h3>
<p>There’s a classic front end bug in the settings in the current version of hosted VS Code (that’s bound to be fixed soon) where you can’t interact with the settings (select menus, checkboxes,etc). It’s probably a z-index thing, you know the bug. But happily, the VS code team have done a great job with accessibility, so you can click on the settings section you want, then use the tab key to cycle through the settings options, arrow keys to use select menus, and the space key to action things like checkboxes.</p>
<aside class="aside--less aside--bottom">
<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>
</aside>

</div>

 <!--<hr>
<ul class="otherposts"><li>Next: <a href="/posts/2020-05-making-gtm-better/">Making GTM better</a></li><li>Previous: <a href="/posts/2020-01-ipad-webdev19-raspberry-pi/">2019 iPad Webdev - Raspberry Pi</a></li>
</ul> -->

    </main>

    <footer>
      <address class="footer-author">
        <em>pixelthing</em> is the personal blog of <span rel="author">Craig Morey</span> - data analyst snd visualiser from Gothenburg, Sweden. 
        <div> Blog template is my own, feel free to view source and use it for 
      </address>
      non-commercial reasons.</div>
    </footer>
    
    <script src="/js/post-title-scroll.js" async></script>

    <!-- Current page: /posts/2020-01-ipad-webdev19-vscode-hosted/ -->
  </body>
</html>
