{
  "version": "https://jsonfeed.org/version/1",
  "title": "pixelthing",
  "home_page_url": "https://pixelthing.se/",
  "feed_url": "https://pixelthing.se/feed/feed.json",
  "description": "Hi, I&#39;m Craig Morey, a data analyst &amp; developer at Polestar in Gothenburg, Sweden (but originally from the UK). This is my place for collecting ramblings and curiosities, you&#39;re welcome/välkomna!",
  "author": {
    "name": "Craig Morey",
    "url": "https://pixelthing.se/about-me/"
  },
  "items": [{
      "id": "https://pixelthing.se/posts/2021-09-gtm-tracking-internal/",
      "url": "https://pixelthing.se/posts/2021-09-gtm-tracking-internal/",
      "title": "Flagging internal remote users in GTM",
      "content_html": "<p>It was all so easy in the old world. You could just add an IP filter to your Google Analytics view and suddenly all of your average-skewing internal traffic to your site would be gone.</p>\n<p>But now most teams have a large proportion of remote work, so how do we filter out developers and project managers from our data when we know they are refreshing pages endlessly and making a mess of our &quot;time on site&quot; averages?</p>\n<p>At <a href=\"https://www.polestar.com\">Polestar</a>, we use a set of signals that in any one session would definitely mark out a user standing apart from a &quot;regular&quot; web user, and then persist that information long term.</p>\n<p>The most successful signal for us is if anyone visits a staging or a development server. All types of non-production servers at Polestar are protected behind various mechanisms, so if you successfully load a web page on one of these domains, you're definitely beyond a level of suspicion of being an &quot;internal&quot; user. We start with a GTM variable (we'll call it &quot;visitor type - cookie&quot; for now) that returns the value of a cookie called &quot;gtm.visitorType&quot;, and then use that in another GTM variable that evaluates it and adds some logic:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// GTM var \"visitor type - var\"</span><br><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token comment\">// if the user type is cookied</span><br>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>visitor type <span class=\"token operator\">-</span> cookie<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>visitor type <span class=\"token operator\">-</span> cookie<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>  <span class=\"token comment\">// spot the users coming in to staging/dev or are debugging</span><br>  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Page Hostname<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stage'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Page Hostname<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'local'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> <span class=\"token string\">'internal'</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br>  <span class=\"token keyword\">return</span> <span class=\"token string\">'public'</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span>  </code></pre>\n<p>This is checking for a long-term cookie first (only the internal users will be cookied, limiting the consent required), and if no cookie is found, it checks if the host was any non-production url (stage, localhost, etc), before returning what type of visitor this is - although there's currently only two types - &quot;public&quot; and &quot;internal&quot;.</p>\n<p>A GTM tag/trigger combination then fires if the variable is &quot;internal&quot; but no cookie is found - a sure sign that we've just caught a new internal user at the start of their session. This tag sets a long term cookie to complete the cycle, and it means we don't need to re-evaluate them from now on. I'm normally an advocate of using local/sessionStorage, but in this case a cookie is the best tool, as localStorage is scoped to a single sub domain (eg <a href=\"http://www.google.com\">www.google.com</a>), whereas an appropriately set first-party JS cookie can cover the whole domain (eg <a href=\"http://google.com\">google.com</a>), so that it can be set on one subdomain (eg <a href=\"http://stage.google.com\">stage.google.com</a>) and then read it back on a different subdomain (eg <a href=\"http://www.google.com\">www.google.com</a>).</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- trigger for this tag set for when the {{visitor type - cookie}} is undefined &amp; {{visitor type - var}} is NOT \"public\" --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> visitorType <span class=\"token operator\">=</span> <span class=\"token string\">'{{visitor type - var}}'</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>visitorType <span class=\"token operator\">&amp;&amp;</span> visitorType <span class=\"token operator\">!==</span> <span class=\"token string\">'public'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token comment\">// Set cookie for all subdomains for one year.</span><br>      document<span class=\"token punctuation\">.</span>cookie <span class=\"token operator\">=</span> <span class=\"token string\">'gtm.visitorType={{visitor type - var}}; path=/; max-age='</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token operator\">*</span><span class=\"token number\">60</span><span class=\"token operator\">*</span><span class=\"token number\">24</span><span class=\"token operator\">*</span><span class=\"token number\">365</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'; domain=.polestar.com'</span><span class=\"token punctuation\">;</span> <br>    <span class=\"token punctuation\">}</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  </code></pre>\n<p>The last thing we do is to include this piece of information (The GTM variable &quot;visitor type - var&quot;) in any GA hit data, for instance in Universal Analytics we add it to the GA settings variable in GTM as a custom dimension scoped to the user. In GA4, we send it as a user parameter. Setting it as a user scoped dimension means you'll be able to filter (or segment) out these users as long as they have that device until it's cookies are cleared or the browser obfuscates the GA cookie.</p>\n<h3 id=\"caveats\">Caveats <a class=\"direct-link\" href=\"#caveats\">#</a></h3>\n<p>It's not a perfect solution - visiting production URLs in incognito mode will make you look like a normal non-alien user again.</p>\n<p>Then there is the question of multiple devices. Because we're only using cookies, we're only flagging internal users per device, which might at least capture those devs doing responsive design testing on their phones, but probably not the copywriter checking their update to the news page on the bus to pick up the kids.</p>\n<p>And that's where we need more signals...</p>\n<h3 id=\"more-signals-that-can-flag-internal-users\">More signals that can flag internal users <a class=\"direct-link\" href=\"#more-signals-that-can-flag-internal-users\">#</a></h3>\n<ul>\n<li>Intranets are great for flagging internal users if they are on the same top level domain as the rest of the public site. If the intranet is on a different domain (hello Sharepoint!), you could try spotting users on your main site that have an intranet URL in the <em>referral</em> string, all it takes is one click from an intranet news item to a press release and whammo, you're flagged as an &quot;internal&quot;.</li>\n<li>Internal IP addresses are not a daft idea. Javascript (thankfully) can not natively detect your IP address, but it's a simple job for a backend dev to insert a piece of markup into a page when your browser is coming from a set IP range. GTM can then spot that marker to flag the user as &quot;internal&quot;. This is still the best solution for collecting &quot;internal&quot; users that rarely get their hands dirty with non-production content, and they only need to visit the office once to become flagged for the life of the cookie.</li>\n<li>Last but not least, it's easy to set up a tag in GTM that you can use to <em>manually</em> flag anyone you send a URL to. For instance, if you ask colleagues to go to a url with a <code>?flag-as-internal</code> query string, a tag/trigger combination could drop the cookie that will do the job:</li>\n</ul>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- trigger for this tag set for when the {{Page URL}} contains 'flag-as-internal' --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><br>      <span class=\"token comment\">// Set cookie for all subdomains for one year.</span><br>      document<span class=\"token punctuation\">.</span>cookie <span class=\"token operator\">=</span> <span class=\"token string\">'gtm.visitorType=internal; path=/; max-age='</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token operator\">*</span><span class=\"token number\">60</span><span class=\"token operator\">*</span><span class=\"token number\">24</span><span class=\"token operator\">*</span><span class=\"token number\">365</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'; domain=.polestar.com'</span><span class=\"token punctuation\">;</span> <br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  </code></pre>\n<h3 id=\"building-an-audience\">Building an audience <a class=\"direct-link\" href=\"#building-an-audience\">#</a></h3>\n<p>Remember it's a game of odds, you need to reduce the amount of internal users to bring your average metrics back to reality, so spotting 80% of internal users is probably good enough. I like to flag internal users instead of remove them from results, as it gives another level of context to the data, a story of it's own.</p>\n",
      "date_published": "2021-09-07T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2021-09-gtm-onscreentime/",
      "url": "https://pixelthing.se/posts/2021-09-gtm-onscreentime/",
      "title": "Honest on-screen timing in GTM",
      "content_html": "<p>One question that UX &amp; PMs often ask about in analytics is &quot;how long is a user on page before they do X action&quot;. This has always been something thats easy to set up but results in thoroughly underwhelming results, the average time often seems absurdly long.</p>\n<p>The average appears crazy because there is a very long tail of extremely high recorded on-screen times. The reason being that plenty of users will hide a tab, walk away from their computer and let it sleep, or switch to other applications before returning to the page. The time between page load and click event will therefore be very, very long - when our expectations are that it will only be when the page has the users attention.</p>\n<p>Here we're going to explain one way to get around this to have a useful on-screen page time, by spotting when the window is - and is not - in front of the user.</p>\n<h2 id=\"how-it-works\">How it works <a class=\"direct-link\" href=\"#how-it-works\">#</a></h2>\n<ul>\n<li>At page load time, we do a bit of set-up in a custom HTML tag. This does two things - first it sets a timer (I like using <code>performance.now()</code> because it can be used to give a good indication of when the page actually first appeared - not when the GTM container loaded). This value appears on the DL as <code>meta.time.start</code>. The second thing is to set up some event listeners to spot when the page is hidden or unhidden.</li>\n</ul>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- GTM custom HTML tag triggered by page load--></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// start a timer. Set here direct on the DL to reduce DL event noise.</span><br>    <span class=\"token keyword\">var</span> gtm <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>google_tag_manager<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Container <span class=\"token constant\">ID</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.start'</span><span class=\"token punctuation\">,</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token comment\">// Handle page visibility change - send a DL push when it changed</span><br>    <span class=\"token keyword\">var</span> hidden<span class=\"token punctuation\">,</span> visibilityChange<span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> document<span class=\"token punctuation\">.</span>hidden <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      hidden <span class=\"token operator\">=</span> <span class=\"token string\">\"hidden\"</span><span class=\"token punctuation\">;</span><br>      visibilityChange <span class=\"token operator\">=</span> <span class=\"token string\">\"visibilitychange\"</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> document<span class=\"token punctuation\">.</span>msHidden <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      hidden <span class=\"token operator\">=</span> <span class=\"token string\">\"msHidden\"</span><span class=\"token punctuation\">;</span><br>      visibilityChange <span class=\"token operator\">=</span> <span class=\"token string\">\"msvisibilitychange\"</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> document<span class=\"token punctuation\">.</span>webkitHidden <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      hidden <span class=\"token operator\">=</span> <span class=\"token string\">\"webkitHidden\"</span><span class=\"token punctuation\">;</span><br>      visibilityChange <span class=\"token operator\">=</span> <span class=\"token string\">\"webkitvisibilitychange\"</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">handleVisibilityChange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">[</span>hidden<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        window<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  \t    event<span class=\"token operator\">:</span> <span class=\"token string\">'pagehidden'</span><br>  \t  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        window<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  \t    event<span class=\"token operator\">:</span> <span class=\"token string\">'pageunhidden'</span><br>  \t  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br>    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>visibilityChange<span class=\"token punctuation\">,</span> handleVisibilityChange<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  </code></pre>\n<ul>\n<li>When the user hides the window (either by selecting another tab, hiding the browser, obscuring the window, sleeping the computer, etc), a <code>window.hidden</code> JS event is sent by the browser and our eventListener above swaps this for a <code>pagehidden</code>DL push. A GTM custom HTML tag takes another <code>performance.now()</code> measurement at this point. You’ll see this in the dataLayer as <code>meta.time.hiddenlast</code>.</li>\n</ul>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- GTM custom HTML tag triggered by the pagehidden DL event --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> gtm <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>google_tag_manager<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Container <span class=\"token constant\">ID</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.hiddenlast'</span><span class=\"token punctuation\">,</span>performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<ul>\n<li>When the user returns to the window, a similar event is fired, and a final GTM custom HTML tag takes a third <code>performance.now()</code> measurement, does some calcs and adds the time away (including any previous time away) to the dataLayer as <code>meta.time.hiddentotal</code>.</li>\n</ul>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- GTM custom HTML tag triggered by the pageunhidden DL event --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> gtm <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>google_tag_manager<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Container <span class=\"token constant\">ID</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">var</span> timeNow <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">var</span> timeLast <span class=\"token operator\">=</span> gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.hiddenlast'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">var</span> timeTotalSoFar <span class=\"token operator\">=</span> gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.hiddentotal'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">var</span> timeTotalNow <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>timeNow <span class=\"token operator\">-</span> timeLast<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> timeTotalSoFar<span class=\"token punctuation\">;</span><br>    gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.hiddenlast'</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.hiddentotal'</span><span class=\"token punctuation\">,</span>timeTotalNow<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<ul>\n<li>The last piece of the puzzle is a GTM variable that calculates the total time since the page was loaded, minus all the time it was hidden. I've also changed from milliseconds (in decimals) into seconds, because do we really need that level of accuracy - plus how big a number do we want to store in GA?<br>\n<strong>NB</strong> this number is rounded DOWN, so if the value is 0, it means the time on-screen is between 0 &amp; 1 second.</li>\n</ul>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/* GTM custom JS variable */</span><br><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">var</span> gtm <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>google_tag_manager<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Container <span class=\"token constant\">ID</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> timeStarted <span class=\"token operator\">=</span> gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.start'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> timeHidden <span class=\"token operator\">=</span> gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.hiddentotal'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> timeOnScreen <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> timeStarted <span class=\"token operator\">-</span> timeHidden<span class=\"token punctuation\">;</span><br>  timeOnScreen <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>timeOnScreen <span class=\"token operator\">/</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">return</span> timeOnScreen<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>You can use this variable in any tracking tags to be an honest value of page onscreen time, or use it in further calculations you might want to carry out.</p>\n<h2 id=\"spas\">SPAs <a class=\"direct-link\" href=\"#spas\">#</a></h2>\n<p>As usual Single Page Applications (SPAs) tend to ruin the party. The above tags and variables only work in a &quot;regular&quot; multi page application, because when the user moves between pages, the timer is not reset. To get around this, if you are running this in an SPA, you'll need a further GTM custom HTML tag to &quot;clean up&quot; when a virtual page view occurs (often spotted from a <code>history</code> event, but check what works best in your application). Note that we're using <code>undefined</code> to remove some of the DL keys.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- GTM custom HTML tag triggered by a history event, or similar in your app --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> gtm <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>google_tag_manager<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Container <span class=\"token constant\">ID</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// timing</span><br>    gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.start'</span><span class=\"token punctuation\">,</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.hiddenlast'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta.time.hiddentotal'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Be a little wary of setting dataLayer values in the <code>.dataLayer.set()</code> method - I use it here because we have so many events in the DL that I'm trying not to confuse the event flow with small maintenance jobs. But doing it this way can make debugging difficult - you could end up looking at GTM debugging for hours, wondering why you're setting a DL value, only to find it set as something else in the final DL - not realising a variable is updating the DL out of sight.</p>\n<h2 id=\"that's-it\">That's it <a class=\"direct-link\" href=\"#that's-it\">#</a></h2>\n<p>There are any number of reasons you might want to collect good page onscreen timings. I'm hoping to use it to undertand the time that users spend in different sections of a page, or in pop-over dialogs, and also to uncover how people struggle in long forms.</p>\n<p>But what I'm really looking forward to is usable, understandable averages and numbers that I can use in some more honest distribution analysis.</p>\n",
      "date_published": "2021-09-01T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2021-06-getting-analytics-into-dev-team/",
      "url": "https://pixelthing.se/posts/2021-06-getting-analytics-into-dev-team/",
      "title": "Getting analytics into a dev sprint",
      "content_html": "<p>Web analytics want to have data layer pushes in the app. The web development team - whose job it is to make these changes - is under huge pressure, with their final sprints full of urgent fixes and loud stakeholders moving priorities around.</p>\n<p>So it's inevitable sometimes that crucial measurement points fall out of the sprint and don't get to launch day.</p>\n<p>This is so often the case in the web analytics business, that I'm not going to even address the &quot;were analytics a priority from the start&quot; question. Even if a KPIs, a measurement plan and  docs were agreed early in the process, it often comes down to the last two weeks to implement and QA analytics in the site for the simple reason that many of the crucial processes to measure are still being finalised at that stage.</p>\n<p>So how can we try to avoid this?</p>\n<h2 id=\"1.-patrons\">1. Patrons <a class=\"direct-link\" href=\"#1.-patrons\">#</a></h2>\n<p>The most obvious thing you can do is to have one of the of those <em>loud stakeholders</em> in the process on your side. This means having a champion, a patron that will fight for your position in sprint grooming sessions. Don't assume that because you have a chummy relationship with the developers or the product manager that that is enough - they are often just foot soldiers in the battle of the priority lists and their protestations are often weak sauce.</p>\n<blockquote>\n<p>They can take the fight for you</p>\n</blockquote>\n<p>What you ideally need are big guns with responsibilities for the success of the project. Your team needs to find the people with the business goals of a successful launch - the Customer Experience heads, the Business Analyst leads, the people who will be called upon to prove and report on a professional and successful product. They can take the fight for you with just a couple of emails or Slack messages into the right team leads.</p>\n<p>This is pitched as not only being able prove &amp; celebrate a successful launch, but also to spot the (just as common) less successful ones early on and be able to tweak the way to a better product. It's not a good look to realise something was a dud only when the quarterlies come in. Good web analytics are the best way to optimise a short-term negative result into a long-term positive one and keep everyone in the group looking good in front of their boss. The more people know this, the more they'll fight for you.</p>\n<h2 id=\"2.-relationships\">2. Relationships <a class=\"direct-link\" href=\"#2.-relationships\">#</a></h2>\n<p>Having said that you may need to go around the dev team, you also can't treat them like a service. If you have a poor relationship with the devs - you are not going to get the data you want.</p>\n<p>You need to be able to have the dev team on your side and let them know that you're working towards the same goals, whether it be business (ie, revenue, customer satisfaction) or personal (ie, doing the job right).</p>\n<p>Having experience yourself in website dev is not essential to talk to a dev team - although I admit I've found it very helpful (and I've leant on the &quot;don't hold back, I'm also a front-end dev&quot; line more than once). But by being able to show some knowledge of what single-page-application (SPA) frameworks are, what affects web performance, how to use CSS selectors or the &quot;critical page load path&quot; - or even just showing willing to meet in the middle by asking the dev team about such things - you'll get better response and results.</p>\n<p>The other thing that dev teams love is documentation. If you can create a doc about what dataLayer pushes you need, why and when they should occur (important - should an event happen when a button is clicked, or when the resulting dialog appears?), they'll have an instruction set and also a way of estimating work to add to a job ticket.</p>\n<blockquote>\n<p>Plus &quot;It's in the docs&quot; is the ultimate meeting shortener.</p>\n</blockquote>\n<p>In my experience, good implementation documentation is never worth dropping when time is tight - it helps you focus better on what you want, helps implementation happen, and can then be tweaked to show the resulting analytics details (eg GA events) that analysts can then use to understand what happened and why.</p>\n<p>What do you get out of all of this? A mutual respect helps the dev team know they aren't about to have jobs parachuted in that will block their sprint, slow the site down or make maintenance trickier. If you can work with them, they will much more likely assist you achieve your goals, and call on you when something changes in the future.</p>\n<p>Don't take this as a purely affirmative relationship, either. As a &quot;problem solver&quot;, I have a tendancy to bend over backwards, creating custom Tag Manager tags to fill gaps that a team is unwilling to implement in the simple dataLayer push. Remember that if a measurement point is not found worthy to prioritise in a dev sprint, it might also not be worth your time to find a workaround on the data engineering side either.</p>\n<p>And if a dev team is really unwilling to schedule analytics before a launch, sometimes the lack of data to present to their bosses is the only thing that will get them to prioritise it in future sprints. As a colleague succinctly put it, &quot;sometimes only a little pain works&quot;.</p>\n<h2 id=\"3.-negotiation\">3. Negotiation <a class=\"direct-link\" href=\"#3.-negotiation\">#</a></h2>\n<p>When writing an implementation doc for a team, you'll rarely get it right the first time. Sometimes your mental model is different from the business model (or the app model), sometimes what you want is just not possible without lots of extra development work.</p>\n<p>Being pragmatic means starting with an ideal situtaion, and then negotiating with the dev team to come to an agreement that leaves everyone satisfied.</p>\n<p>To do that, you need to set expectations - state early on that you'll get some docs together, but that they're just <em>&quot;version one&quot;</em> and they'll be plenty of opportunity to revise them once the dev team has looked over them. They might decide that they need to negotiate the docs <em>before</em> sprint grooming (ie, they may feel the need to make serious changes that effect estimations). Or they might <em>after</em> a sprint has started (ie, it looks like just small changes need checking over) - so the negotiation might be with just the devs or their project managers too if it affects scheduling.</p>\n<blockquote>\n<p>Negotiation has to take place in good faith</p>\n</blockquote>\n<p>Negotiation has to take place in good faith, so if the dev team doesn't seem to understand why some measurements are requiring their time to work on, or web analytics don't believe that the dev team's work will give reliable readings, maybe you need a third party such as a product manager or team lead in the conversation anyway.</p>\n<p>Starting with creating a &quot;perfect world&quot; instrumentation doc - where the ideal analytics events are listed without thought about the implemetation effort - is not just a theoretical starting point. Sometimes its easy to overthink what may be hard for the dev team to build, and miss out on potential signals that could be useful. As long as the dev team know it's starting at the top end of requirements and you're flexible, it's rarely a problem to start this way.</p>\n<hr>\n<p>If you need a few points to give away as bargaining chips, try these:</p>\n<ul>\n<li>Prioritise your requests. Don't compromise on contributions to KPIs, but be prepared to lose or greatly refactor minor measure-points.</li>\n<li>In fact, where some interesting actions take place in the site that we don't intend to initially report on, add them in, but be prepared to lose them. This isn't only for some evil bargaining reason, but more future-proofing - we all know instances of UX in websites that suddenly become an unexpected priority for management, and having existing hooks ready to measure without hacks or panic are often a godsend.</li>\n<li>If there are any states you need in the dataLayer that don't change very often, get them set them when the web app starts, instead of every time you make a dataLayer push. It'll remain in the dataLayer as long as the page is loaded anyway. And the web app then doesn't need to find a state unrelated to a running function every time it is run. For instance:</li>\n</ul>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// set this state once in the dataLayer early</span><br>dataLayer<span class=\"token punctuation\">.</span>push<span class=\"token punctuation\">{</span><br>  <span class=\"token string\">'event'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'app.setup'</span><span class=\"token punctuation\">,</span><br>  <span class=\"token string\">'layout'</span><span class=\"token operator\">:</span> <span class=\"token string\">'mobile'</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">// ...instead of asking the app to find the layout state each time an event occurs:</span><br>dataLayer<span class=\"token punctuation\">.</span>push<span class=\"token punctuation\">{</span><br>  <span class=\"token string\">'event'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'app.addToBasket'</span><span class=\"token punctuation\">,</span><br>  <span class=\"token string\">'value'</span> <span class=\"token operator\">:</span> <span class=\"token number\">99.99</span><span class=\"token punctuation\">,</span><br>  <span class=\"token string\">'layout'</span><span class=\"token operator\">:</span> <span class=\"token string\">'mobile'</span><br><span class=\"token punctuation\">}</span></code></pre>\n<ul>\n<li>Be flexible about swapping between asking for dataLayer pushes and markup changes. dataLayer pushes are essential for state changes and complex states with lots of information, but they often need devs to create new detailed methods where they never existed before. If you're looking for something simpler, like notification of a click with a small amount of data, asking devs to add a data attribute to their HTML component (and attaching a GTM trigger to that css selector) is often a much quicker task for devs to complete. You could even create generic markup-hooks that mean the dev team's workload is simpler, and eliminates yours [<a href=\"/posts/2021-04-generic-gtm-click-tracking/\">see article here</a>]. For instance:</li>\n</ul>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// you can compromise on asking for a simple dataLayer push like:</span><br>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  <span class=\"token string\">'event'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'cta1.click'</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- ...by instead asking for a markup change - normally quicker to implement by a dev team --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/promo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-track-click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>cta1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Click me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><br><span class=\"token comment\">&lt;!-- now attach a trigger to the CSS selector [data-track-click=\"cta1\"] --></span></code></pre>\n<ul>\n<li>Sometimes you need to listen to how the devs have created the app to find the most pragmatic solution. If you want to capture what's been updated in a basket, but the app just returns the latest basket object (with no idication what's changed), you might consider diffing the object [check back for article on that soon] to understand whats changed. It might remove a lot of potential dev time that you could then ask to put towards other things in your list.</li>\n<li>Labelling values is always deceptively tricky. If you want a customer type in the dataLayer as <code>B2B</code>, but the app code calls the same thing <code>business</code>, you might want to use the devs description instead of yours, it removes the need for them to write dictionary lookups, and definitely reduces exposure to bugs (especially as new values could be added in the future that your schema may not deal with). This applies to naming both keys and values in the dataLayer - try and sync them with something existing instead of creating new paradigms.</li>\n<li>On occasion, when an idea really didn't get any traction with sprint grooming, I've built complex solutions purely in custom tags that monitor &amp; report app state from markup &amp; clicks without any assistance from the dev team. After gathering data and displaying the benefits, I've then asked again for time to implement dataLayer pushes (much more reliable). It's not ideal - but sometimes you need to show how tasty the result is before everyone is convinced.</li>\n<li>Ask if there are any things that devs would like to see in a dashboard (eg, what browsers, devices or resolutions use the app), you could use it to gain trust.</li>\n</ul>\n<p>Try to make it clear what you're compromising on, none of your decisions are free of cost and others should be aware of that. And explain why you want each point of data, it often overlaps with what the dev team also want to know, and helps contextualize how much effort it's worth.</p>\n<h2 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h2>\n<p>If a lot of the above sounds like compromising, you'd be right. If it sounds a lot like business school politics 101 - you <em>might</em> be right. But it doesn't need to be so cynical, if we're talking about wanting to get the job done <em>or</em> having respect for your co-workers, there's no reason those two beliefs can't be held simultaneously.</p>\n<p>What we're trying to do is to develop communications that don't just create short-term success, but long-term effectiveness - the more that both web analytics and web dev respect each other, the better the data will be to come from the products. And that was always the goal.</p>\n",
      "date_published": "2021-06-01T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2021-05-diffing-datalaters/",
      "url": "https://pixelthing.se/posts/2021-05-diffing-datalaters/",
      "title": "Diffing objects in GTM",
      "content_html": "<p>A large amount of the most critical work in Google Tag Manager (GTM) is in the monitoring of changes in state, particularly objects like eCommerce baskets, filter settings or user editable configurations. In these cases we generally want to know what caused a change to an object (and I'm using <em>&quot;object”</em> in compsci terms here - ie, <em>a JS object</em>), and what changes are made to it.</p>\n<p>Let's take a real example. One list page that we deal with has a list of cars and a filter UI. In this app, the internal logic is not exposed to GTM, the only thing we see is a JS object that describes the current state of the filter - and when it's updated we see a new version appear:</p>\n<pre class=\"language-js\"><code class=\"language-js\"></code></pre>\n<p>In a perfect world the webapp would give us a dataLayer detailing what changed, not just the current state in full. But it's not a perfect world and providing that extra info is often quite a chunk of extra work for webdevs.</p>\n<p>How do we report what has changed if we're not told? In our case we <em>&quot;diff&quot;</em> between the previous and the newest filter state - spotting any changes that have occured. We do this by triggering a tag when the above dataLayer push occurs. Before I describe how it works, here's the tag itself:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- tag fired by a trigger that spots a `filterUpdated` dataLayer event  --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>  <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// a name of a variable that we'll use in the global scope (ie window.gtmFilterPrev) to hold the \"old\" state object, so that we can diff the \"new\" state object against it</span><br>    <span class=\"token keyword\">var</span> globalVar <span class=\"token operator\">=</span> <span class=\"token string\">'gtmFilterPrev'</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// the root in the dataLayer to the keys we're interested in - eg, the monitoring the key \"sort\" would actually be monitoring the dataLayer value \"preconf.filter.sort\"</span><br>    <span class=\"token keyword\">var</span> objectRoot <span class=\"token operator\">=</span> <span class=\"token string\">'preconf.filter'</span><span class=\"token punctuation\">;</span> <br>    <span class=\"token comment\">// setup what we want to monitor in the state object (all other keys that change will be ignored)</span><br>    <span class=\"token keyword\">var</span> objectKeys <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><br>      <span class=\"token string\">'sort'</span><span class=\"token punctuation\">,</span><br>      <span class=\"token string\">'model'</span><span class=\"token punctuation\">,</span><br>      <span class=\"token string\">'delivery'</span><span class=\"token punctuation\">,</span><br>      <span class=\"token string\">'customer'</span><span class=\"token punctuation\">,</span><br>      <span class=\"token string\">'payment'</span><span class=\"token punctuation\">,</span><br>      <span class=\"token string\">'config.exterior'</span><span class=\"token punctuation\">,</span><br>      <span class=\"token string\">'config.interior'</span><span class=\"token punctuation\">,</span><br>      <span class=\"token string\">'config.packages'</span><span class=\"token punctuation\">,</span><br>      <span class=\"token string\">'config.rims'</span><br>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// diff the filter state object in a shared helper function (a GTM JS variable)</span><br>    <span class=\"token keyword\">var</span> changes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token constant\">ENV</span> <span class=\"token operator\">-</span> helper <span class=\"token keyword\">function</span> <span class=\"token operator\">-</span> diff object <span class=\"token operator\">-</span> <span class=\"token keyword\">var</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span>objectRoot<span class=\"token punctuation\">,</span> objectKeys<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// if any useful filter state changes have been found</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>changes <span class=\"token operator\">&amp;&amp;</span> changes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token comment\">// create a dataLayer push for each change</span><br>      changes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">change</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>          event <span class=\"token operator\">:</span> <span class=\"token string\">'preconf.filter.choose.'</span> <span class=\"token operator\">+</span> change<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">,</span><br>          <span class=\"token string\">'preconf.change'</span><span class=\"token operator\">:</span> change<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span><br>          <span class=\"token string\">'preconf.changeold'</span><span class=\"token operator\">:</span> change<span class=\"token punctuation\">.</span>valueOld<span class=\"token punctuation\">,</span><br>          <span class=\"token string\">'preconf.changenew'</span><span class=\"token operator\">:</span> change<span class=\"token punctuation\">.</span>valueNew<br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The lifecycle then becomes:</p>\n<ul>\n<li>When a state update is fired (like the one detailed earlier), this tag will be triggered.</li>\n<li>Using a shared helper function, it will trawl through a list of predefined object keys to spot what has changed in the dataLayer. This is reported back as an array of all the monitored keys that have been updated in the array variable <code>changes</code>.</li>\n<li>If the <code>changes</code> var has any values in the array, we'll loop through it to fire subsequent dataLayer pushes - one for each change - each listing what changed, plus the old &amp; new value.</li>\n</ul>\n<p>So what is in this magical diffing helper method? It's... er, big.</p>\n<h2 id=\"the-code\">The code <a class=\"direct-link\" href=\"#the-code\">#</a></h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token comment\">// helper method to get a deep object value with a string key </span><br>  <span class=\"token comment\">// (eg \"filter.price.low\" finds the object value OBJ['filter']['price']['low'])</span><br>  <span class=\"token comment\">// o = the object to resolve, s = string of the key to find</span><br>  Object<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">byString</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">o<span class=\"token punctuation\">,</span> s</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    s <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\[(\\w+)\\]</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.$1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// convert indexes to properties</span><br>    s <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\.</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>           <span class=\"token comment\">// strip a leading dot</span><br>    <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> n <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">var</span> k <span class=\"token operator\">=</span> a<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>k <span class=\"token keyword\">in</span> o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        o <span class=\"token operator\">=</span> o<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br>    <span class=\"token keyword\">return</span> o<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br>  <span class=\"token comment\">// this is the actual diffing helper method</span><br>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">objectRoot<span class=\"token punctuation\">,</span> objectKeys<span class=\"token punctuation\">,</span> globalVar</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> gtm <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>google_tag_manager<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Container <span class=\"token constant\">ID</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">var</span> prevObject <span class=\"token operator\">=</span> window<span class=\"token punctuation\">[</span>globalVar<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">var</span> currentPush <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">[</span>window<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">//console.log('---')</span><br>    <span class=\"token comment\">//console.log('prevObject',prevObject)</span><br>    <span class=\"token comment\">//console.log('currentPush',currentPush)</span><br>    <span class=\"token keyword\">var</span> changes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    objectKeys<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <br>      <span class=\"token keyword\">var</span> changeAction<span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">var</span> changeKey<span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">var</span> changeValue<span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">var</span> oldValue<span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">var</span> newValue<span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">var</span> pipeDelim<span class=\"token punctuation\">;</span><br><br>      <span class=\"token comment\">// the values (before &amp; current) for the section of this event</span><br>      <span class=\"token keyword\">var</span> prevValues<span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// NOTE!!! This uses a method Object.byString() </span><br>        <span class=\"token comment\">// that needs you to load a helper method var</span><br>        <span class=\"token comment\">// \"ENV - helper function - resolve object from string - tag\"</span><br>        <span class=\"token comment\">// to be loaded before this is carried out. It's </span><br>        <span class=\"token comment\">// suggested you do it at app/container load if you</span><br>        <span class=\"token comment\">// intend to use this!</span><br>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>Object<span class=\"token punctuation\">.</span>byString <span class=\"token operator\">||</span> <span class=\"token keyword\">typeof</span> Object<span class=\"token punctuation\">.</span>byString <span class=\"token operator\">!==</span> <span class=\"token string\">'function'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>          <span class=\"token comment\">//console.log('method Object.byString() not available, make sure it\\'s helper var \"ENV - helper function - resolve object from string - tag\" is loaded before this diff is run',object,Object.byString,typeof Object.byString);</span><br>          <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>        prevValues <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">byString</span><span class=\"token punctuation\">(</span>prevObject<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        prevValues <span class=\"token operator\">=</span> prevObject<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>      <span class=\"token keyword\">var</span> currentValues <span class=\"token operator\">=</span> currentPush<span class=\"token punctuation\">[</span>objectRoot <span class=\"token operator\">+</span> <span class=\"token string\">'.'</span> <span class=\"token operator\">+</span> key<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>      <span class=\"token comment\">//console.log('-prevValues',key,prevValues)</span><br>      <span class=\"token comment\">//console.log('-currentValues',key,currentValues)</span><br>      <br>      <span class=\"token comment\">// some values are in the form of pipe delimited strings (eg \"A01068|A00492\")</span><br>      <span class=\"token comment\">// so treat those as arrays</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> prevValues <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span> <span class=\"token operator\">&amp;&amp;</span> prevValues<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'|'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> currentValues <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span> <span class=\"token operator\">&amp;&amp;</span> currentValues<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'|'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        prevValues <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> prevValues <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span> <span class=\"token operator\">?</span> prevValues<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'|'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        currentValues <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> currentValues <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span> <span class=\"token operator\">?</span> currentValues<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'|'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        pipeDelim <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>      <span class=\"token keyword\">var</span> prevValuesIsArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>prevValues <span class=\"token operator\">?</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>prevValues<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">var</span> currentValuesIsArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>currentValues <span class=\"token operator\">?</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>currentValues<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <br>      <span class=\"token comment\">//console.log('+prevValues',key,prevValues)</span><br>      <span class=\"token comment\">//console.log('+prevValuesIsArray',key,prevValuesIsArray)</span><br>      <span class=\"token comment\">//console.log('+currentValues',key,currentValues)</span><br>      <span class=\"token comment\">//console.log('+currentValuesIsArray',key,currentValuesIsArray)</span><br>      <br>      <span class=\"token comment\">// if this key doesn't exist in prev or latest, exit.</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevValues <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><br>        <span class=\"token operator\">&amp;&amp;</span> currentValues <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>      <span class=\"token comment\">// if we can evaluate no difference, skip.</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevValues <span class=\"token operator\">!=</span> <span class=\"token keyword\">undefined</span><br>        <span class=\"token operator\">&amp;&amp;</span> currentValues <span class=\"token operator\">!=</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// if array</span><br>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevValuesIsArray <span class=\"token operator\">&amp;&amp;</span> currentValuesIsArray<br>            <span class=\"token operator\">&amp;&amp;</span> currentValues<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> prevValues<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><br>        <span class=\"token comment\">// if string</span><br>        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentValues <span class=\"token operator\">===</span> prevValues<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>      <span class=\"token punctuation\">}</span><br>      <span class=\"token comment\">// if no value before, it's a \"choose\" action</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevValues <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">||</span> prevValues <span class=\"token operator\">===</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        changeAction <span class=\"token operator\">=</span> <span class=\"token string\">'choose'</span><span class=\"token punctuation\">;</span><br>        changeKey <span class=\"token operator\">=</span> key<span class=\"token punctuation\">;</span><br>        changeValue <span class=\"token operator\">=</span> currentValues<span class=\"token punctuation\">;</span><br>        oldValue <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span><br>        newValue <span class=\"token operator\">=</span> currentValues<span class=\"token punctuation\">;</span><br><br>      <span class=\"token comment\">// if value before, now gone, it's a \"remove\" action</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentValues <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">||</span> currentValues <span class=\"token operator\">===</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        changeAction <span class=\"token operator\">=</span> <span class=\"token string\">'remove'</span><span class=\"token punctuation\">;</span><br>        changeKey <span class=\"token operator\">=</span> key<span class=\"token punctuation\">;</span><br>        changeValue <span class=\"token operator\">=</span> prevValues<span class=\"token punctuation\">;</span><br>        oldValue <span class=\"token operator\">=</span> prevValues<span class=\"token punctuation\">;</span><br>        newValue <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span><br>        <span class=\"token comment\">// technical problem where pushing an array with less</span><br>        <span class=\"token comment\">// keys does not remove a key, so we address GTM direct</span><br>        gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>objectRoot <span class=\"token operator\">+</span> <span class=\"token string\">'.'</span> <span class=\"token operator\">+</span> changeKey<span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <br>      <span class=\"token comment\">// we're comparing two arrays</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevValuesIsArray <span class=\"token operator\">&amp;&amp;</span> currentValuesIsArray<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        oldValue <span class=\"token operator\">=</span> prevValues<span class=\"token punctuation\">;</span><br>        newValue <span class=\"token operator\">=</span> currentValues<span class=\"token punctuation\">;</span><br>        <span class=\"token comment\">// if both 1 index each, it's a \"choose\"</span><br>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>prevValues<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> currentValues<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>          changeAction <span class=\"token operator\">=</span> <span class=\"token string\">'choose'</span><span class=\"token punctuation\">;</span><br>          changeKey <span class=\"token operator\">=</span> key<span class=\"token punctuation\">;</span><br>          changeValue <span class=\"token operator\">=</span> currentValues<span class=\"token punctuation\">;</span><br>        <span class=\"token comment\">// if we're increasing the length of the array, it's a \"choose\"</span><br>        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentValues<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> prevValues<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>          changeAction <span class=\"token operator\">=</span> <span class=\"token string\">'choose'</span><span class=\"token punctuation\">;</span><br>          changeKey <span class=\"token operator\">=</span> key<span class=\"token punctuation\">;</span><br>          changeValue <span class=\"token operator\">=</span> currentValues<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span>prevValues<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token comment\">// else if we're decreasing the length of an array, it's a \"remove\"</span><br>        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>          changeAction <span class=\"token operator\">=</span> <span class=\"token string\">'remove'</span><span class=\"token punctuation\">;</span><br>          changeKey <span class=\"token operator\">=</span> key<span class=\"token punctuation\">;</span><br>          changeValue <span class=\"token operator\">=</span> prevValues<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span>currentValues<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>          <span class=\"token comment\">// technical problem where pushing an array with less</span><br>          <span class=\"token comment\">// keys does not remove a key, so we address GTM direct</span><br>          gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>objectRoot <span class=\"token operator\">+</span> <span class=\"token string\">'.'</span> <span class=\"token operator\">+</span> changeKey<span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>          gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>objectRoot <span class=\"token operator\">+</span> <span class=\"token string\">'.'</span> <span class=\"token operator\">+</span> changeKey<span class=\"token punctuation\">,</span> currentValues<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br><br>      <span class=\"token comment\">// if we're comparing two strings</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        changeAction <span class=\"token operator\">=</span> <span class=\"token string\">'choose'</span><span class=\"token punctuation\">;</span><br>        changeKey <span class=\"token operator\">=</span> key<span class=\"token punctuation\">;</span><br>        changeValue <span class=\"token operator\">=</span> currentValues<span class=\"token punctuation\">;</span><br>        oldValue <span class=\"token operator\">=</span> prevValues<span class=\"token punctuation\">;</span><br>        newValue <span class=\"token operator\">=</span> currentValues<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>      <span class=\"token comment\">// if any of the values are pipe delimited arrays, stick them back together</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pipeDelim<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        changeValue <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>changeValue <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">?</span> changeValue<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'|'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> changeValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        oldValue <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>oldValue<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> oldValue<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'|'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> oldValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        newValue <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>newValue<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> newValue<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">'|'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> newValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>      <span class=\"token comment\">// add the change to the list</span><br>      <span class=\"token keyword\">var</span> changesNode <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>changeAction<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        changesNode <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>          action <span class=\"token operator\">:</span> changeAction<span class=\"token punctuation\">,</span><br>          key<span class=\"token operator\">:</span> changeKey<span class=\"token punctuation\">,</span><br>          value <span class=\"token operator\">:</span> changeValue<span class=\"token punctuation\">,</span><br>          valueOld <span class=\"token operator\">:</span> oldValue<span class=\"token punctuation\">,</span><br>          valueNew <span class=\"token operator\">:</span> newValue<br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>        changes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>changesNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">var</span> objectInDl <span class=\"token operator\">=</span> gtm<span class=\"token punctuation\">.</span>dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>objectRoot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">//console.log('**objectInDl',objectInDl)</span><br>    window<span class=\"token punctuation\">[</span>globalVar<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>objectInDl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">return</span> changes<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>So what is all the above stuff doing?</p>\n<ol>\n<li>retrieve the previous version of the state object that we stored in a global JS variable that we already named (in the above case <code>window.gtmFilterPrev</code>).</li>\n<li>then retrieve the latest version of the state object - and this is important - <em>directly from the dataLayer push array</em>, <strong>not</strong> from the &quot;final&quot; dataLayer model held internally in GTM, because... well we'll get to that...</li>\n<li>loop through the list of keys that we're interested in and figure out if they have had a value added, removed or modified.</li>\n</ol>\n<p>The magic lies in that last step. We have to deal with comparing objects, arrays, strings, numbers and booleans. We have to address deep objects with string notation (that's the <code>.byString()</code> prototype that helps use look up a deep object with a string like <code>'preconf.filter.sortBy'</code>).</p>\n<h3 id=\"dealing-with-array-values-in-the-datalayer\">Dealing with array values in the dataLayer <a class=\"direct-link\" href=\"#dealing-with-array-values-in-the-datalayer\">#</a></h3>\n<p>The diff helper method also has to deal with one particularly weird problem. A regular dataLayer value - a <em>&quot;version 2&quot;</em> dataLayer - will add items to an array, but not remove them. So for instance a list of filter checkboxes could be represented in a dataLayer as such:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span><br>  filtersChecked<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>...and then a dataLayer event could show one of the checkboxes has been unchecked:</p>\n<pre class=\"language-js\"><code class=\"language-js\">dataLayer<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  event<span class=\"token operator\">:</span> filterUpdated<span class=\"token punctuation\">,</span><br>  filtersChecked<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>...when you check the dataLayer, you'll see that the key has not been removed:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span><br>  filtersChecked<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p><a href=\"https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/\">Smarter people than me can explain why this happens</a>, but I'm more interested in how to get around it.</p>\n<p>The version 2 dataLayer problem gives us two problems to solve:</p>\n<ul>\n<li>Firstly, we can't rely on the GTMs final representation of the dataLayer - a dataLayer push event might <em>say</em> that a value is being removed from an array, but the final dataLayer won't reflect that. So when we talk about the &quot;latest&quot; state object, we need to pull it from <em>the dataLayer push array in the JS global scope</em> (ie, the array you see if you just type in <code>dataLayer</code> into the browser console). Hence the routine in the helper method that steps back through the dataLayer pushes to find the event that triggered the tag in the first place (because you can't assume it was the &quot;last&quot; dataLayer push - there's an amount of ansynchronicity in GTM that means it's not always true).</li>\n<li>Secondly, we need to have a way of setting the <em>real</em> array value on the dataLayer in a reliable way. We do this by addressing the final dataLayer directly and using a GTM method <code>dataLayer.set()</code>, to change the value in JS. We use it first to <em>unset</em> an array value (by setting it as <code>undefined</code>), then reset to the correct value - this way we're guaranteed the final dataLayer reflects the original push, even if we're removing values from an array.</li>\n</ul>\n<h3 id=\"that's-all-well-and-good%2C-but-what-do-you-do-it-it%3F\">That's all well and good, but what do you do it it? <a class=\"direct-link\" href=\"#that's-all-well-and-good%2C-but-what-do-you-do-it-it%3F\">#</a></h3>\n<p>Anything you want. You now have new dataLayer events that tell you when state changes and what has changed:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span><br>  event <span class=\"token operator\">:</span> 'preconf<span class=\"token punctuation\">.</span>filter<span class=\"token punctuation\">.</span>choose<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">,</span><br>  <span class=\"token string\">'preconf.change'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Polestar2'</span><span class=\"token punctuation\">,</span><br>  <span class=\"token string\">'preconf.changeold'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Polestar1'</span><span class=\"token punctuation\">,</span><br>  <span class=\"token string\">'preconf.changenew'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Polestar2'</span> <span class=\"token comment\">// almost always the same as preconf.change, but not always...</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>You can use these events to trigger analytics, optimisation or marketing tags only when something you've predefined (in the <code>objectKeys</code> settings in the tag) as important, changes. That's a lot more useful than triggering a tag everytime a state change occurs - even if nothing interesting has changed - and <em>still</em> not be able to tell analytics <em>what</em> changed.</p>\n<p>Being a helper method means that we can reuse the same pattern in lots of different situations - list page filters, driving range calculators, car configuration states - all referring to the same JS code, to diff any updates to a state object.</p>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>At Polestar, we consider this as much a part of good developer relations as it is a technical solution. We need dev teams to assist us analysts in getting useful and reliable dataLayer pushes into their web apps. But they have backlogs and pressure that often leave any extra work for analytics way down the priority list. By offering to diff a state object on the GTM side instead of their side, we have the option of asking them to just place a state object (that probably already exists - eg Flux, JSON, etc) into a dataLayer push - and we can take it from there. We can then use any dev time saved to ask them for other more specific requests.</p>\n<p>As an added bonus, when the web app code changes and a new option appears in the state object, we don't need to re-schedule more web app team dev-time to update the dataLayer push - if it's just their state object they're pushing, the extra key just appears in the dataLayer, and we just need to tweak our tag to recognise it.</p>\n",
      "date_published": "2021-05-17T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2021-04-generic-gtm-click-tracking/",
      "url": "https://pixelthing.se/posts/2021-04-generic-gtm-click-tracking/",
      "title": "Generic click tracking in GTM",
      "content_html": "<p>The larger a Google Tag Manager (GTM) container becomes, the more you realise that many tags, triggers and variables are doing roughly the same job. So it's worthwhile refactoring some of them away into a few generic tags that make your life easier.</p>\n<p>This article details one such technique to reduce most of your click tracking to a simple reusable pattern, so all it takes is a small piece of markup to start collecting data. At <a href=\"https://www.polestar.com?utm_campaign=craigs.blog\" target=\"_blank\" rel=\"noopener\">Polestar</a>, we use it on reusable React components, so that devs and editors have the ability to roll them out without needing to do any work in GTM at all.</p>\n<h2 id=\"1.-the-markup\">1. The markup <a class=\"direct-link\" href=\"#1.-the-markup\">#</a></h2>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">data-track</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>click:MyCategory:MyLabel<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>arrow-icon<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn-text<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Click me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The markup is just a data attribute of the element thats clickable/tappable. Here its a button, but it could just as easily be an anchor, input or div (please don't). The markup inside is incidental, it's just here to remind you that markup is not always clean, and that javascript sees the actual target element you click, which might be a child of the element you <em>think</em> you're clicking (we'll cover that later).</p>\n<p>I don't like using ids, aria or classes to target GTM triggers - or even existing data attributes like <code>data-tmpl</code>. They're too easily refactored away by some future front-end dev for perfectly valid reasons - and then you're left wondering where the data went. Instead, I like data attributes that clearly separate themselves in purpose from other markup, that way anyone looking to tweak or re-write the code has a good chance of retaining the analytics.</p>\n<p>The attribute value is a colon separated list of:</p>\n<ul>\n<li>event action</li>\n<li>event category</li>\n<li>event label</li>\n</ul>\n<p>This is tailored towards Google Universal Analytics, but could just as easily be consumed by GA4 hit event tags.</p>\n<p>the action always starts with &quot;click&quot; (but could, for instance, be <code>click_tab</code>), but the other two can be set to whatever you like. And there's no reason you shouldn't add event value, or in-tag text substitutions (see &quot;extending the idea&quot; later).</p>\n<p>That's it. Easy enough for any developer to drop into an HTML component. All you need now are the GTM tags/triggers/vars to consume it.</p>\n<h2 id=\"2.-the-trigger\">2. The trigger <a class=\"direct-link\" href=\"#2.-the-trigger\">#</a></h2>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2021-04-generic-gtm-click-tracking-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2021-04-generic-gtm-click-tracking-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2021-04-generic-gtm-click-tracking-1-lg.jpeg\" />\n              <img src=\"../../img/2021-04-generic-gtm-click-tracking-1-xl.jpeg\" loading=\"lazy\" width=\"1947\" height=\"1162\" class=\"post__img__img\" />\n            </picture>\n          </a>\n        </figure><p>The trigger is an element click with a couple of simple CSS selectors, comma separated.</p>\n<pre class=\"language-css\"><code class=\"language-css\">[data-track^=<span class=\"token string\">\"click\"</span>]<span class=\"token punctuation\">,</span>[data-track^=<span class=\"token string\">\"click\"</span>] *</code></pre>\n<p>The first part is a CSS attribute selector for the click element we labelled in the markup, the second is to catch any clicks on any child elements inside the first element, such as icons, text wrappers and so on.</p>\n<h2 id=\"3.-the-event-variables\">3. The event variables <a class=\"direct-link\" href=\"#3.-the-event-variables\">#</a></h2>\n<p>You remember that we said their were three parts to the attribute value in the markup? To capture each one of those, we need three GTM custom JS variables. Below is the one to collect the event category:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token comment\">// the try/catch is only to stop any browser-based bugs from causing disruptions to the site. It's also helpful for debugging</span><br>  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// quick exit - if this variable is not called for a click event, stop here</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Event<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>    <span class=\"token comment\">// quick exit - if this variable is not called for a click event on the correct element, stop here (same as above, but the first quick exit needs a tiny amount less time/CPU as it doesn't need to do do the querySelector - #webperf)</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Click Element<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[data-track^=\"click\"],[data-track^=\"click\"] *'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>    <span class=\"token keyword\">var</span> clickRoot<span class=\"token punctuation\">,</span>labelComplete<span class=\"token punctuation\">,</span>labelNode<span class=\"token punctuation\">,</span>labelTranslated<span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// clickRoot assumes you might have clicked on a child element of the button that we want to focus on. So it uses a helper function to step back up the DOM tree to find it.</span><br>    <span class=\"token comment\">// This helper function could be replaced by the .closest() method, but that is only supported in ES6, so won't compile in GTM (which only supports ES5), so think of this helper function as a polyfill.</span><br>    <span class=\"token comment\">// Read the Simo Ahava article on this helper function (link in description)</span><br>    clickRoot <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token constant\">ENV</span> <span class=\"token operator\">-</span> helper <span class=\"token keyword\">function</span> <span class=\"token operator\">-</span> find closest<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Click Element<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token string\">'[data-track^=\"click:\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>clickRoot<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span> <span class=\"token string\">'unknown'</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>    <span class=\"token comment\">// now get the value of the attribute</span><br>    labelComplete <span class=\"token operator\">=</span> clickRoot<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-track'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// and finally split it into an array and get the second (index1) node</span><br>    labelNode <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>labelComplete <span class=\"token operator\">?</span> labelComplete<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">':'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">return</span> labelNode<span class=\"token punctuation\">;</span><br><br>  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ENV - generic click tracking - category - var'</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>Event<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br></code></pre>\n<p>Similar GTM variables wil be needed for action and label - the only difference will be the number in the <code>labelNode</code> line, <code>[0]</code> for the action, <code>[2]</code> for the label.</p>\n<p>Note this code uses a helper function that needs it's own GTM var - this is explained in detail in this <a href=\"https://www.google.se/amp/s/www.simoahava.com/amp/analytics/capturing-the-correct-element-in-google-tag-manager/\">Simo Ahava article</a>.</p>\n<p>Also note that there are a couple of &quot;quick exits&quot; at the start of the function. GTM variables are evaluated <em>every single time a event occurs in GTM</em>, so I find it best to ruthlessly limit what events get beyond the first couple of lines, to reduce the amount of uneccessary CPU cycles spent.</p>\n<h2 id=\"4.-putting-it-together-in-a-tag\">4. Putting it together in a tag <a class=\"direct-link\" href=\"#4.-putting-it-together-in-a-tag\">#</a></h2>\n<p>Now we have a triggers, and values to use in the form of GTM variables, we can can build the tag to send data to GA. As mentioned, this is a Universal Analytics tag, but it could easily be a GA4 hit event too.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2021-04-generic-gtm-click-tracking-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2021-04-generic-gtm-click-tracking-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2021-04-generic-gtm-click-tracking-2-lg.jpeg\" />\n              <img src=\"../../img/2021-04-generic-gtm-click-tracking-2-xl.jpeg\" loading=\"lazy\" width=\"1966\" height=\"1380\" class=\"post__img__img\" />\n            </picture>\n          </a>\n        </figure><p>Now you have this tag set up, you might never have to make another tag again to track a button click...</p>\n<h2 id=\"extending-the-idea\">Extending the idea <a class=\"direct-link\" href=\"#extending-the-idea\">#</a></h2>\n<p>At Polestar we've used variations on this technique to create a suite of generic trackers, from CTA clicks to email and download clicks.</p>\n<p>It means that the need to build many simple tracking tasks can be decoupled from the business of building a large, multi-team site. A dev team can build a new landing page, drop in and label a standard CTA component, and the first we in Web Analytics know about it is when the data starts coming in.</p>\n<p>We've extended it in several ways, for instance by adding text substitution to the values that can inject dataLayer values. This way, we can have a dumb piece of markup such as:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">data-track</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>click:[MODEL]_config:blue_btn<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>... that substitutes <code>[MODEL]</code> with the car model that is held in the dataLayer model. In the above example we receive a GA event category of <code>ps2_config</code>.</p>\n<p>This sort of substitution can be done by just replacing the <code>return</code> line in the custom variable code with a few more lines of code:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// this block of code replaces the \"return\" line in any of the GTM variables where you want substitution.</span><br>labelTranslated <span class=\"token operator\">=</span> labelNode<span class=\"token punctuation\">;</span><br><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>labelNode<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[MODEL]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token comment\">// below we swap [MODEL] with a dataLayer value held in a GTM variable.</span><br>  labelTranslated <span class=\"token operator\">=</span> labelNode<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'[MODEL]'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token constant\">ENV</span> <span class=\"token operator\">-</span> car <span class=\"token function\">model</span> <span class=\"token punctuation\">(</span>short<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span><br><span class=\"token keyword\">return</span> labelTranslated<span class=\"token punctuation\">;</span><br></code></pre>\n<p>I'm sure you can think of potential uses for similar substitutions.</p>\n",
      "date_published": "2021-04-24T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-12-ipad-webdev20/",
      "url": "https://pixelthing.se/posts/2020-12-ipad-webdev20/",
      "title": "Web dev with an iPad in 2020",
      "content_html": "<p>At this time of the year I normally go deep on what’s changed if you’re a front-end web developer with an iPad. This year, I’m not going to do that, largely because I don’t have a set-up that’s representative of a 2020 iPad Pro (I have a 10.5”), but also because this year of all years, I think I’m justified in taking time off over the christmas holiday and not spending it explaining every possible workflow.</p>\n<p>But 2020 - despite feeling like a flat curve of time - has been surprisingly busy in the iPad world. Here are some highlights that effect you as a developer with an iPad in the hand.</p>\n<h3 id=\"ios13.4-%26-magic-keyboard\">iOS13.4 &amp; Magic keyboard <a class=\"direct-link\" href=\"#ios13.4-%26-magic-keyboard\">#</a></h3>\n<p>I know that iOS14.4 is already appearing as a Public beta, but it was only back in March that the previous point4 upgrade dropped with the largest change for Pro iPads since the pencil. We received pointer support and (eventually) the Magic keyboard, which further blurred the lines between MacBook and iPad, both in functionality, and - for some - less favourably in portability.</p>\n<blockquote>\n<p>Text workers such as us developers could stop smudging our fingers at a screen, hoping for accurate text selection</p>\n</blockquote>\n<p>Instead, we could finally position a cursor accurately. Plus the magic keyboard was a quantum leap over the previous fabric design (if you don’t mind the reduction in crumb and liquid protection), and came with a killer trackpad built in, on top of a unique design.</p>\n<p>The innovative cursor morphing felt very iOS, but it had split reviews. Apps supported the new pointer in slightly esoteric ways - not surprising considering the many ways text selection has worked in only a short period of time on this platform. But I don’t doubt that this is the single biggest - and most unexpected - Pro iPad upgrade this year.</p>\n<h3 id=\"m1-macs\">M1 Macs <a class=\"direct-link\" href=\"#m1-macs\">#</a></h3>\n<p>The M1 is a watershed for Macintosh. But it’s also probably a turning point for iPads. Will the next iPad Pro have an under-clocked M1 8GB under an “A14X” moniker? If future Macs get a touch screen - seeing as they already run iOS apps - do MacBooks get to be an iPad Pro Pro? Will having M1 compiled pro apps on MacOS increase the amount that make the jump to iOS?</p>\n<p><strong>But the big point this makes is that MacOS isn’t going anywhere</strong>, and the Mac’s positioning as “the truck” (in Steve Jobs parlance) compared to iOS’ “car” is not changing. M1 Macs finally made it clear that Apple is never going to ride to the rescue and suddenly make the iPad an open, developer-friendly platform - they already have a roadmapped platform for that. So this is it, some small incremental improvements in the environment and ow volume third party apps are what you’re getting. iPadOS is finally becoming a neat secondary dev platform, but forget the idea that it could ever be anything more.</p>\n<p>However, could there be a meeting point in five years where the two OS’ merge (in some sense), even if the hardware stays on two tracks? Well, the M1 definitely makes this more - not less - possible.</p>\n<h3 id=\"ipad-air-4th-gen\">iPad Air 4th gen <a class=\"direct-link\" href=\"#ipad-air-4th-gen\">#</a></h3>\n<p>All agreed that the iPad Pro 2020 was a very mild tweak of the two year old 2018 Pro. So the big upgrade in 2020 was the iPad Air. If you can live without the 120Hz screen and FaceID, it’s basically the 2020 Pro, but 40% quicker in single core and only 10% slower in multi-core. And you could throw in another basic iPad on top before you get to the price of current Pro.</p>\n<p>If you can find an original 2018 Pro for a good price - and there’s still a lot out there - it’s a much closer run thing. But it’s a good sign that the Pro experience is continuing to move down the range, and that the 2021 Pro has got to raise the bar again to justify its price.</p>\n<h3 id=\"code-by-the-baselab\">Code by the Baselab <a class=\"direct-link\" href=\"#code-by-the-baselab\">#</a></h3>\n<p>This is the app surprise of the year for me. It started as a simple enough little playground project - lets take the interface of VSCode and see if it can be reproduced in SwiftUI. But with continual updates, it has progressed in nine months to the point that it’s pretty damned close in core functionality to it’s role model. It has intellisense style hints &amp; suggestions, a command palette, and code running options including node.js and python. There are still some problems that need attention, but this could be the star of next year’s IDE crowd at this rate - it’s certainly got my attention.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-12-ipad-webdev20-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-12-ipad-webdev20-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-12-ipad-webdev20-1-lg.jpeg\" />\n              <img src=\"../../img/2020-12-ipad-webdev20-1-xl.jpeg\" loading=\"lazy\" width=\"2000\" height=\"940\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Code app by The BaseLab</p>\n\n        </figure><h3 id=\"playjs-2.0\">PlayJS 2.0 <a class=\"direct-link\" href=\"#playjs-2.0\">#</a></h3>\n<p>Play.js 1.0 was innovative and quirky, but more importantly was the only way you could build a node.js or React project on iOS. This year, a complete rewrite resulted in v2.0, ironing out a lot of the quirks and adding a whole lot of functionality. Between enabling vue.js and next.js projects, to having the best devtools outside of inspect browser, Play.js has grown beyond expectations in 2020. Every aspect has improved, but the biggest thing you notice is that it fits together better, and looks and feels like a top tier iOS app. I even like that it has in-app optional tip payment - if you buy and use these apps over years, there’s no better way to say thanks for the updates.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-12-ipad-webdev20-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-12-ipad-webdev20-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-12-ipad-webdev20-2-lg.jpeg\" />\n              <img src=\"../../img/2020-12-ipad-webdev20-2-xl.jpeg\" loading=\"lazy\" width=\"2000\" height=\"1050\" class=\"post__img__img\" />\n            </picture>\n          </a><p>play.js</p>\n\n        </figure><h3 id=\"the-apple-store-small-business-program\">The Apple store small business program <a class=\"direct-link\" href=\"#the-apple-store-small-business-program\">#</a></h3>\n<p>Almost all the apps mentioned in this article are from one-person or small-team developers. A large amount of these teams only build apps as a side-job, because the volumes just don’t make full-time app development financially viable. With the advent of the small business program (which reduces Apple’s cut from 30% to 15%), the developers effectively get a 20% pay rise. That might not make them rich, but it might mean it’s worthwhile to carry on maintaining these apps, or even devote more time to them - and surprise us all with the results.</p>\n<h2 id=\"honourable-mentions\">Honourable mentions <a class=\"direct-link\" href=\"#honourable-mentions\">#</a></h2>\n<h3 id=\"working-copy\">Working Copy <a class=\"direct-link\" href=\"#working-copy\">#</a></h3>\n<p>Still the hub of any source control project on iOS, this year the git client/IDE gained loads of functionality including stashing, large file support, direct file editing in Textastic, and a reliable way of running background servers (yay).</p>\n<h3 id=\"shellfish\">Shellfish <a class=\"direct-link\" href=\"#shellfish\">#</a></h3>\n<p>The other essential app from Andreas, author of Working Copy, Shellfish pivoted in 2020 from being “just” an invaluable file provider for ssh and sftp connections into also being one of the most extraordinary ssh clients on any platform. Drag-n-drop files from a shell? Shellfish can do that.</p>\n<h3 id=\"textastic\">Textastic <a class=\"direct-link\" href=\"#textastic\">#</a></h3>\n<p>Textastic remains the best all round IDE on iPadOS, it’s mature, well integrated and has just enough functionality to deal with most types of work, without having too much to get in the way. This year it can now work in multiple windows and became even closer integrated with Working Copy.</p>\n<h3 id=\"serveeditor\">Serveeditor <a class=\"direct-link\" href=\"#serveeditor\">#</a></h3>\n<p>Last year I got deep into installing VSCode onto a remote server to use it as an IDE on iPad, and since then someone has made it exactly this process into a Native (well, ish) app, including a subscription to the server so you don’t need to do a thing. And it works pretty well. Not all of the problems with using a remote application in a local setting are fixed - or could be - but at it’s core it really is actual VSCode running on an iPad, and that’s impressive.</p>\n<h3 id=\"inspect-browser\">Inspect browser <a class=\"direct-link\" href=\"#inspect-browser\">#</a></h3>\n<p>Still the best option for web devtools on iOS, and still coming out with additional functionality and interface updates. Building an entire browser just so that you can add devtools to it is an insane amount of work that you undertake only if you didn’t realise how much work was involved when you started - support them as much as you can so that they continue on this crazy quest that is so essential to any web dev on iPadOS.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-12-ipad-webdev20-3.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-12-ipad-webdev20-3-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-12-ipad-webdev20-3-lg.jpeg\" />\n              <img src=\"../../img/2020-12-ipad-webdev20-3-xl.jpeg\" loading=\"lazy\" width=\"2000\" height=\"1040\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Inspect Browser</p>\n\n        </figure><h2 id=\"what-we-still-need\">What we still need <a class=\"direct-link\" href=\"#what-we-still-need\">#</a></h2>\n<p>It seems almost unbelievable to me that only a couple of years ago, I was clutching for the basic apps to do some part of my job on an iPad. Now almost all of those holes have been filled.</p>\n<p>It’s at a point where the solving of the major blockages just throws iPadOS’ fundamental workflow quirks into sharp relief. And the main one is the the same one I had three years ago;</p>\n<p><strong><em>iOS is ruthless at killing background processes.</em></strong></p>\n<p>iOS works quite differently from MacOS - it was built for limited CPU, limited memory and minimal battery drain. As such, iOS is built around being super efficient at saving an app state to storage when you leave it for more than a few minutes, then re-hydrating it when you return - so quickly that you barely notice it. This works great for your native photo editing app, but it’s not so good for many electron or webview-based apps, and just impossible for running dev servers unless you keep them in the foreground continually.</p>\n<blockquote>\n<p>We need to have an API that allows at least some part of them to run in the background.</p>\n</blockquote>\n<p>If we want to run dev servers or node toolchains in apps like Play.js or Working Copy on an iPad, we need to have an API that allows at least some part of them to run in the background. Hacks like pinging for location to prevent the app being killed must be replaced with a better solution. Music apps like Spotify have had an exception to allow background processing for years, and we need it now.</p>\n<p>The other solution is the least talked about iPad Pro update of 2020 - 6GB of RAM. Even with the 4GB on my 10.5”, flicking between heavy web apps has tabs reloading because they were purged from memory after only minutes (thereby losing scroll position, page state, text caret position and even login tokens). More memory has always been the big difference between consumer and Pro computers - iPads are no exception - I’d love to see 8GB in the 2021 Pro.</p>\n<hr>\n<p>Of course we could still do with a real command line. A sandboxed environment - possibly virtualised now that iPadOS allows that (and the M1 even has accelerators for it). Come on Apple, ISH and aShell show the way - let me run straight nodeJS on your Pro devices.</p>\n<p>Just to put the cherry on the top, Docker, Homebrew and countless other packages are being compiled at this moment for the M1 - which is essentially an iOS A14 chip with some extras. If Apple just provided the iOS sandbox for them to play in...</p>\n<hr>\n<p>Devtools are absolutely essential to the web development process and it’s still not possible in Safari on iPad unless you connect up to a Mac. Apple don’t look like they’re going to suddenly include devtools in Safari on iPadOS - so we have either the do it ourself option with apps such as Inspect Browser, or the hope that Apple will eventually allow other browser engines onto the platform, so that big vendors such as Google or Firefox have the opportunity to fill the gap. Even that is a hope on top of a hope (Chrome doesn’t even support devtools on Android, even if it does on ChromeOS), but I still feel that Apple will have their hand forced by regulators to open up to other browsers at some point.</p>\n<hr>\n<p>The 12.9” iPad with Magic keyboard is the same weight as a MacBook Pro. The 11” is much more portable but screen space is really tight to work off for any period. What I want is to have real monitor spanning in iOS, not the half strength support we currently have. With pointer support in iOS, we don’t need touch monitors, in fact any USB3 screen would do. We know the GPU can do it. We just need the support in iOS.</p>\n<p>A super compact, powerful computer on the go, and a large screen experience at the desktop.</p>\n<hr>\n<p>Have a good 2021...</p>\n",
      "date_published": "2020-12-30T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-08-getting-critical-data-noticed/",
      "url": "https://pixelthing.se/posts/2020-08-getting-critical-data-noticed/",
      "title": "Getting critical data noticed",
      "content_html": "<p>It feels like we’ve crossed a threshold. Businesses (and the general public) are increasingly calling for more data, and for it to be presented in a smart and pedagogic way.</p>\n<p>But we are living in a seriously distracted time. Knowing we need to be looking at data is very different from having the trigger to actually do it. Too often, the idea that we need to check on the progress of a chart is so far down the list of shiny new things to look at that it remains a noble effort, like signing up for the gym but never finding the time to go.</p>\n<p>How do we wedge business critical data into this distraction disaster zone, especially when the real insight from the data often can’t be explained in a 140 character chunk?</p>\n<p><em>I thought this was a solved problem</em>. A well designed physical dashboard (eg a large wall display) in full view of the team could provide intuitive visuals to let people spot a “what”, and then understand the “why” in the data.</p>\n<p>And then came COVID, and suddenly the people who would see these dashboards were no longer sitting in the same room.</p>\n<p>We already know that just sending a URL out to people is not enough — it won’t be looked at — at least enough to be worthwhile, so how do we solve this?</p>\n<hr>\n<p>When you (eventually) go back to the cinema to watch a two hour epic, you will probably decide to go whilst watching a two minute trailer. And you probably only watched that trailer because you saw a poster or a twenty second advert. The cinema trip wouldn’t happen without the trailer or poster, and you might see twenty different posters a day, but the one that attracts you won’t satisfy your appetite for the film on its own.</p>\n<p>This is the flow that we’ve got to get ourselves into, a sort of a system 1 (“intuitive”) thinking pattern to lead into system 2 (cognitive thought) when it’s required.</p>\n<p>Let’s call these two ends of the chain “<strong>the bite</strong>”, and “<strong>the body</strong>”.</p>\n<p>“<strong>The body</strong>” is a variant on the dashboard we build already, it should be giving multiple indicators and insights to form an opinion or decision. But it differs in two ways to what we would usually build. Firstly it <em>can</em> be found at the end of a URL/link, because “the bite” does the work of attracting interest to it. Secondly, because it doesn’t need to do double-duty of attracting attention <em>and</em> serving up depth, it can be re-configured assuming the viewer already has a view on the data when they start looking into it. In an ideal world, you could have variants of dashboard for different analysis, depending on the link in message of “the bite”.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-08-getting-critical-data-noticed-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-08-getting-critical-data-noticed-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-08-getting-critical-data-noticed-1-lg.jpeg\" />\n              <img src=\"../../img/2020-08-getting-critical-data-noticed-1-xl.jpeg\" loading=\"lazy\" width=\"2000\" height=\"848\" class=\"post__img__img\" />\n            </picture>\n          </a><p>chartyios.app in an iOS14 widget</p>\n\n        </figure><p>“<strong>The bite</strong>” is more interesting, because there are so many options available to us. Let’s talk about the medium before we get into the message.</p>\n<p>Push notifications (SMS, email, adhoc Slack messages) have baggage. They have a very important place in alerting people to conditions that need immediate attention, but if you use them as a way to simply update people, they quickly become ignored. Preference and psychology play a part here — I tried automating daily SMS updates and it fell flat, but sending a daily screenshot of a simple dashboard into a Slack channel provided a team with some really good context for their daily conversations.</p>\n<p>However, my current favourite option is with smartphone home screen widgets. Living in an iOS centric country, I missed out on creating these in Android, but now I’m fully onboard with the upcoming iOS14 update, testing it with some third-party software that will launch alongside the OS (Scriptable, Charty, WidgetPack) to present simple data on a user’s home screen amongst their regular icons.</p>\n<blockquote>\n<p>the audience already chooses to look at this screen an average of 58 times a day...</p>\n</blockquote>\n<p>This approach has multiple advantages. The first is this the audience already <em>chooses</em> to look at this screen an average of 58 times a day. Who needs a daily push update, when the viewer is already looking at these pixels several times an hour. And that means viewers start to see realtime patterns (for instance daily routines in global markets), leading to deeper insights and helping to spot breaks in the expected results.</p>\n<p>Our problem will eventually be more competition with distraction — when your viewers have shiny home screen widgets for other data (screen time, health data, etc), will your data widget be pushed onto the third screen that never gets viewed?</p>\n<p>If that’s the medium, what about the message? First we need to get attention, and this is where the format of a widget is more useful than a notification, because the background colour can show at a glance it’s worth noticing or ignoring. This is more crucial than any KPI displayed, because viewers need to be given permission to ignore data, so that when it’s important they are more disposed to notice it.</p>\n<p>In the foreground, we’ve found that a single KPI with some sort of comparison context is most useful. For example, “sales today so far” vs “sales at this time yesterday”. That seems to give users enough context to decide if the widget background colour represents a significant change, worthy of investigation. Going further by clicking from the widget to a dashboard is often not necessary, positive outcomes are often taken at face value, whereas unusually negative results tend to make viewers want to know “why”.</p>\n<p>In tests, widgets also turned out to be the best goal tracker we had, viewers can check them quickly, as much as they want, wherever they are, to see if their preferred KPI has hit target (useful in competitive sales environments). This also means the more complex dashboards (“the body”) are under much less load.</p>\n<p>Very soon you will see lots of screenshots of these widgets in social media as a shorthand to a humblebrag.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-08-getting-critical-data-noticed-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-08-getting-critical-data-noticed-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-08-getting-critical-data-noticed-2-lg.jpeg\" />\n              <img src=\"../../img/2020-08-getting-critical-data-noticed-2-xl.jpeg\" loading=\"lazy\" width=\"2000\" height=\"1229\" class=\"post__img__img\" />\n            </picture>\n          </a><p>JS script running in a scriptable.app iOS14 widget</p>\n\n        </figure><hr>\n<p>Just like the cinema example earlier, you could have more constituent parts than just two — you might have “the bite” leading to an in-app overview that helps you decide if it’s just an anomaly, or needs further investigation in a third dashboard. Just so long as the user gets the right messages <em>promptly</em> that leads to the right outcome.</p>\n<p>What we’re trying to do is to bring data to the screens the audience is <em>already looking at</em> — instead of forcing the audience to <em>journey</em> to the data. By doing this, we could start to not only deliver on the idea of “more data”, but to deliver a non-intrusive way of actually getting it noticed.</p>\n<p>The results of data getting regular attention will lead to it being much, much more useful.</p>\n",
      "date_published": "2020-08-20T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-05-ipados14-wish-list-for-web-devs/",
      "url": "https://pixelthing.se/posts/2020-05-ipados14-wish-list-for-web-devs/",
      "title": "iPadOS14 wish list for web devs",
      "content_html": "<p>Historically, I’ve had a rotten track record for predicting future features. And everyone has their take for iPadOS14 — many focusing on the UI or fabled iPad Pro apps like Xcode or Logic Pro. As a web/data developer with iPads in the hands of various family members, I guess I have a slightly different list of wishes:</p>\n<h2 id=\"what-would-make-ipados-a-good-web-dev-platform\">What would make iPadOS a good web dev platform <a class=\"direct-link\" href=\"#what-would-make-ipados-a-good-web-dev-platform\">#</a></h2>\n<ul>\n<li>Real multi-monitor support. With pointer now implemented in iPadOS, all the pieces are in place. We don’t need desktop spanning, just the ability to adjust where the cursor leaves one screen and appears on another, so we can drop apps across a wider canvas of screens. A 11&quot; in my bag and a 27&quot; on the desktop — but without the compromises that currently means.</li>\n<li>More classes of app that are allowed to run in the background. This is so very important for web dev — we desperately need web servers and compilers to run reliably in the background without requiring hacks like building location awareness into apps to fool the OS into allowing it.</li>\n<li>A first party sand-boxed (virtualised?) command line. Actually, it’s not as impossible as it sounds, ISH does this already, but wow, Node/NPM compatibility would be nice.</li>\n<li>Other web browser engines to be blessed for use in iOS (Chromium/Firefox), or alternatively Safari web inspector to make the jump to iPadOS. Top level devtools are desperately needed on iOS.</li>\n<li>An onscreen keyboard that was tailored to coding would be amazing. Tempted to create one myself.</li>\n<li>Microsoft to walk on stage at the keynote and announce VSCode for iPad (or Panic to announce Nova for iPad — either would do!)</li>\n<li>Slack to similarly come on stage and announce video conferencing and screen sharing is coming to iOS.</li>\n</ul>\n<h2 id=\"and-also%E2%80%A6\">And also… <a class=\"direct-link\" href=\"#and-also%E2%80%A6\">#</a></h2>\n<ul>\n<li>Shipping with multi window &amp; gestures off by default. 80% of the audience don’t care &amp; don’t like it, but want the old, simple iPad experience. The remaining 20% of us want so much more from iPadOS. We can find the settings to turn on those super powers.</li>\n<li>Data back-up options (even if it’s limited to just time machine).</li>\n<li>Of course, tweaks for more coherent multi-tasking. There have been some amazing demos recently online tying to pull the concepts together and make them discoverable, and I’d take any of them.</li>\n<li>Multi user — a stretch I know and it would mean a very long beta. But really, not many in reality can afford a device per child.</li>\n<li>Recognising hardware keyboards and allowing different settings for them, or shortcuts access to swapping keyboard layouts (non-english typists would appreciate this).</li>\n<li>Having some control over audio — like being able choose the mic at OS level. Handy for these WFH times, and also podcasting.</li>\n</ul>\n",
      "date_published": "2020-05-24T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-05-making-gtm-better/",
      "url": "https://pixelthing.se/posts/2020-05-making-gtm-better/",
      "title": "Making GTM better",
      "content_html": "<aside class=\"aside--update\">\n<h3 id=\"update-2020-10-24\">Update 2020-10-24 <a class=\"direct-link\" href=\"#update-2020-10-24\">#</a></h3>\n<p>GTM now has a brand new Tag Assistant workflow that touches almost every part of the GTM UI. It definitely addresses some of the fundamental problems I saw, but other smaller fustrations remain. Progress!</p>\n</aside>\n<p>Google Tag Manager is a strange beast. Its purpose is essentially abstraction -- to provide a layer between a website and multiple types of site measurement. It’s been used brilliantly, loosely, badly and plain-old abusively in many cases, but it is trying to make it possible for non-developers to (for instance) be able to quickly set-up Google Analytics tracking on a button, as well as experts to set up more in-depth measurement. But like all interfaces that try and simplify things without losing complex functionality, it can quickly dissolve into very domain specific language that seems unintelligible from the outside.</p>\n<p>And that’s where I am at the moment, using GTM to try and build logical tags of reliable data from horribly un-semantic, React-built spaghetti-code web sites that needs lots of custom JS in GTM to interpret them.</p>\n<p>Because I was a front-end developer in a previous life with some UX background, I understand that no UI/UX is perfect and there is always more that you learn the more you fix it. I’d like to think I could make a few suggestions to the GTM team at Google that would make my day (and hopefully yours) much easier:</p>\n<ul>\n<li>Having a &quot;preview&quot; button in a tag/trigger/var panel (plus a &quot;save&quot; button in the expanded code panel) would save a huge amount of time in the round trip of trying to build or debug something (see below). The current roundtrip for doing this is an unnecessary cognitive load, I often get back to the tagged page and wonder what it was I changed because of all the steps I’d taken since I’d made the change. Plus it’s a huge time-sink when you multiply it by the many, many times a day you have to carry out a round trip. Imagine a button saving 30 minutes off your day, every day -- that would be worth celebrating.</li>\n</ul>\n<p><a href=\"https://youtu.be/F6sPK9tOUC4\">https://youtu.be/F6sPK9tOUC4</a></p>\n<p>The edit-preview-edit round trip (sorry, you’ll need sound -- haven’t captioned it yet)</p>\n<ul>\n<li>Similar to the above -- I really like the orange banner that reminds me I’m in preview mode -- it’s good use of &quot;ugly&quot; UX (forgive me -- I mean &quot;in your face&quot; is not often pretty, but it’s useful). But I can’t count how many times I have been looking at a tagged page and have been confused as to why some tag isn’t working, before wondering if I actually refreshed the preview state or not. I’d suggest making the preview button and refresh link aware of the status of updates, as below:</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-05-making-gtm-better-1.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-05-making-gtm-better-1-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-05-making-gtm-better-1-lg.png\" />\n              <img src=\"../../img/2020-05-making-gtm-better-1-xl.png\" loading=\"lazy\" width=\"1075\" height=\"263\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The preview button and preview refresh link if no changes since the last refresh.</p>\n\n        </figure>\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-05-making-gtm-better-2.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-05-making-gtm-better-2-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-05-making-gtm-better-2-lg.png\" />\n              <img src=\"../../img/2020-05-making-gtm-better-2-xl.png\" loading=\"lazy\" width=\"1072\" height=\"262\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Suggested preview button and refresh link style if updates have been made and not yet previewed.</p>\n\n        </figure><ul>\n<li>Could the debug panel in the tagged page also be made aware of changes that have been previewed, and even have an optional setting to hot-reload the page if the preview is refreshed?</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-05-making-gtm-better-3.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-05-making-gtm-better-3-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-05-making-gtm-better-3-lg.png\" />\n              <img src=\"../../img/2020-05-making-gtm-better-3-xl.png\" loading=\"lazy\" width=\"1286\" height=\"297\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Suggestion for the a &quot;reload&quot; button in the debug panel to be aware of preview refreshes, prompting you to re-load the page to see the update.</p>\n\n        </figure><ul>\n<li>\n<p>Working on laptop screens means a lot of scrolling up and down to click on the &quot;preview&quot; button, and then down a long list to try and find the tag or variable you were working on. I’d debate that the preview button should be sticky to the top of the window, even if it does take up a small amount of screen space. Suggestion: a height-based CSS media query resulting in relative positioned preview button/bar up until about 500px viewport height, and then position:sticky for any taller. This would not steal space from the smallest viewports but provide a better UX for most laptops.</p>\n</li>\n<li>\n<p>Alternatively, or additionally, to the above point, highlight the last tags, triggers and variables you were working on in the lists (eg, a yellow row highlight, as below) to reduce cognitive load when scrolling through a long list and assisting you to quickly return to the items you are currently editing.</p>\n</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-05-making-gtm-better-4.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-05-making-gtm-better-4-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-05-making-gtm-better-4-lg.png\" />\n              <img src=\"../../img/2020-05-making-gtm-better-4-xl.png\" loading=\"lazy\" width=\"1023\" height=\"250\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Highlighting items that have recently been updated to make them easier to return to in a long list.</p>\n\n        </figure><ul>\n<li>Really important: In lists of tags/triggers/variables, I wish columns remembered the way I sorted them. When I’m at my busiest, I like the columns sorted by &quot;last edited&quot; -- that way I can see the items I’m working on right now. But I have to click the column twice every time I come back to the list because they always return to ascending name order. And honestly -- about those two clicks -- I’d debate there are more people who are developing tags and want to see the latest tags first (and so first click should be latest first), and less people trying to root out old tags (as is currently, with first click resulting in oldest first). But I’m hoping Google could correct me on that by consulting their own metrics of GTM usage.</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-05-making-gtm-better-5.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-05-making-gtm-better-5-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-05-making-gtm-better-5-lg.png\" />\n              <img src=\"../../img/2020-05-making-gtm-better-5-xl.png\" loading=\"lazy\" width=\"1015\" height=\"319\" class=\"post__img__img\" />\n            </picture>\n          </a><p>I wish every time I came back to this list, it was still sorted as &quot;last edited first&quot;.</p>\n\n        </figure><ul>\n<li>The two tables of variables. Having them split into &quot;Built-in&quot; and &quot;User defined&quot; (as below) still confuses me many times a day -- I often search for the variable I’m working on in the top table, and then realise my mistake and have to do it all over again in the bottom table -- because that’s the chemical memory I have learnt from the other lists. I’d debate the benefit of splitting the tables at all. They could be just be mixed up together and then we can have another column for &quot;built-in/user&quot; (and an icon, text boldness or text colour could also discriminate clearly between the two types). If the difference between the two types was of utmost important to an GTM dev/admin, you could sort by that column -- and if column sorting was remembered (as in the point above), that would essentially give you the same UI as you have now, only as a user setting instead of a default.</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-05-making-gtm-better-6.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-05-making-gtm-better-6-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-05-making-gtm-better-6-lg.png\" />\n              <img src=\"../../img/2020-05-making-gtm-better-6-xl.png\" loading=\"lazy\" width=\"1018\" height=\"909\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The Variables panel -- split into &quot;Built-in&quot; and &quot;User-defined&quot;. My nemesis.</p>\n\n        </figure><ul>\n<li>The trigger list has a column for &quot;number of tags using this trigger&quot; (see below). Please, please could we have a similar column in the variables list (&quot;number of times this variable is used&quot;) -- it helps us clean the vars as we prune older tags, and sweep up discarded vars whilst we are developing new tags. It would also help us understand quickly if we were using more built-in variables than we needed.</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-05-making-gtm-better-7.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-05-making-gtm-better-7-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-05-making-gtm-better-7-lg.png\" />\n              <img src=\"../../img/2020-05-making-gtm-better-7-xl.png\" loading=\"lazy\" width=\"1023\" height=\"255\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The &quot;usage number&quot; in the trigger list. Could we have this in the Variable list too?</p>\n\n        </figure><ul>\n<li>\n<p>Having a name search across all tags/triggers/vars. Often I’m developing tags which work in concert with triggers and vars, so I name them in a similar way, eg &quot;accordion-click-tag&quot;, &quot;accordion-click-trigger&quot;. But to see them all, I need to go into three different panels (tags, triggers, vars). You might say that they would all appear together in the &quot;overview&quot; panel, but thats only the case if I’ve made changes to all three of them since the last deploy.<br>\nSearch (and even at a push -- replace) across all content in text fields &amp; custom JS. On a regular basis I know that I have already built a method somewhere in my workspace, but I’m not able to find it without opening up lots of tags or vars. We can see from the amazing job GTM does with tokenising and auto-replacing var names in our custom scripts that the content is indexed, so could we search that index as well?</p>\n</li>\n<li>\n<p>Copying and pasting from the data layer in the debug panel. You can’t, and it’s a real pain:</p>\n</li>\n</ul>\n<p><a href=\"https://youtu.be/dJmlalz4Yks\">https://youtu.be/dJmlalz4Yks</a></p>\n<ul>\n<li>I love that I can be editing a tag, click on the trigger at the of the panel bottom, edit the trigger in a slide-over panel, then return instantly to the tag. This is how the slide-over panel UI of GTM really wins. But so often I’d like to have the same ability to do this with moustached variables in text fields or in custom JS. Consider the one below. Sometimes I’d simply like to check what  actually is, and sometimes I know I’ve got to edit it before I save this tag. But that means closing this tag (often in a half finished state), loading the list of variables, finding the variable you want, opening it, reviewing or editing the var, saving it, loading the list of tags, finding the tag you want, and finally reopening it in a new panel. That’s quite a round trip -- considering if I wanted to review the trigger for the same tag, I’d just click it then close it. My suggestion is a contextual menu to open the variable in a new slide-over. All the code to build that UI is in the GTM web app already. Quickest UX win ever.</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-05-making-gtm-better-8.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-05-making-gtm-better-8-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-05-making-gtm-better-8-lg.png\" />\n              <img src=\"../../img/2020-05-making-gtm-better-8-xl.png\" loading=\"lazy\" width=\"399\" height=\"160\" class=\"post__img__img\" />\n            </picture>\n          </a><p>I wish I could inspect  without spending the next two minutes clicking buttons.</p>\n\n        </figure><ul>\n<li>Here’s a real loopy idea. Tabs. So you can work on the tag, trigger and vars all at the same time, without having to jump between panels. I know it’s probably a UI convention that doesn’t work well with the &quot;endless slide-over panels&quot; UI that exists in GTM -- and maybe the previous point would reduce the need for it -- but just consider the workflow efficiencies. Some of us are working around this already with multiple tabs in the browser -- and that can only lead to bad syncing and state problems.</li>\n</ul>\n",
      "date_published": "2020-05-20T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-01-ipad-webdev19-vscode-hosted/",
      "url": "https://pixelthing.se/posts/2020-01-ipad-webdev19-vscode-hosted/",
      "title": "2019 iPad Webdev - remote VS Code",
      "content_html": "<aside class=\"aside--less\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n<aside class=\"aside--update\">\n<h4 id=\"update-2020%E2%80%9304%E2%80%9317\">Update 2020–04–17 <a class=\"direct-link\" href=\"#update-2020%E2%80%9304%E2%80%9317\">#</a></h4>\n<p>Checkout <a href=\"https://servediter.app\">serveediter.app</a>, a neat native app that wraps up everything mentioned below along with a super cheap VPS subscription. It’s early days but it’s much more stable than the experience I had and it looks promising.</p>\n</aside>\n<aside class=\"aside--update\">\n<h4 id=\"update-2020%E2%80%9301%E2%80%9310\">Update 2020–01–10 <a class=\"direct-link\" href=\"#update-2020%E2%80%9301%E2%80%9310\">#</a></h4>\n<p>Reddit users have pointed me in the direction of <a href=\"https://visualstudio.microsoft.com/services/visual-studio-online/\">Visual Studio Online</a>, which is Microsoft’s official online version of VS Code, and has been in public preview since November 2019. It works great in desktop browsers (including having keyboard shortcuts)-- but so far it is not letting me access it with iPadOS; it says &quot;currently unsupported&quot; and tries to download &quot;undefined&quot; on sign-in. But along with the release notes talking about testing on iPad, it seems to be a good sign that Visual Studio Online will soon be supported on iPadOS. Until then, the below method (or Owen Williams’ method) seems the only way of achieving VS Code on an iPad.</p>\n</aside>\n<aside class=\"aside--update\">\n<h4 id=\"update-2021%E2%80%9301%E2%80%9304\">Update 2021–01–04 <a class=\"direct-link\" href=\"#update-2021%E2%80%9301%E2%80%9304\">#</a></h4>\n<p>Also check out <a href=\"https://gitpod.io/\">gitpod.io</a>, an online service that also gives you a super quick way of accessing and editing github repos.</p>\n</aside>\n<aside>\n<p>This review uses VS Code 1.39.0 In the <a href=\"https://github.com/cdr/code-server/releases/tag/2.1692-vsc1.39.2\">cdr server package release 2.1692</a></p>\n</aside>\n<p>So this is a bombshell.</p>\n<p>I can run <a href=\"https://code.visualstudio.com/\">Microsoft VS Code</a> on my iPad. Real, actual VS Code, down to the built-in git client, terminal, extensions and multi-file search. I was first alerted to the possibility by <a href=\"https://link.medium.com/4nycoirfU2\">Owen Williams</a>’ article back in June.</p>\n<p>Well, don’t get too excited, it’s 90% the real thing.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-vscode-hosted-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-1-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-vscode-hosted-1-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"933\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Running VS Code (hosted) as a standalone web app.</p>\n\n        </figure><p>You see, the earliest versions of VS Code were based on a fork of <a href=\"https://atom.io/\">GitHub’s Atom</a>, a JS based editor. And even though VS Code has come a long way, it’s interface is still just HTML, CSS and JS, even if the heavy lifting is dealt with behind the scenes (mostly in GO?). And that means it’s essentially a web app that can be served to a web browser and even linked from your home screen as a standalone web-app.</p>\n<p>But the problem with it being not only a web-app but a relatively unsanctioned one at that, is that the developer experience has a few downsides:</p>\n<ul>\n<li>You need to be online (or at least serve it from a separate computer).</li>\n<li>You need to keep it running on the server (we’ll talk about this in a moment), as well as secure from other users.</li>\n<li>Every time you return to the app, you briefly see a &quot;reconnecting&quot; dialog as the app wakes and looks for the VS code app server.</li>\n<li>Your experience is directly related to the speed of connection to your server.</li>\n<li>You can’t use any keyboard short-cuts (that’s a big ouch).</li>\n<li>You can’t touch/drag scroll bars.</li>\n<li>The settings menu is currently buggy (you can’t change any setting, but there’s a workaround here in the footnotes)</li>\n<li>The main hamburger menu disappears once you’ve used it (oops).</li>\n<li>Various repaint glitches, touch-targets not all sized for touch screen usage, other small weirdnesses of running a very complex beta web-app.</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-vscode-hosted-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-2-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-vscode-hosted-2-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"815\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Extensions in VS Code. In terms of functionality, the hosted version is missing almost nothing over the app.</p>\n\n        </figure><p>Many of these are purely beta-testing bugs, but <a href=\"https://code.visualstudio.com/updates/v1_41#_browser-support\">there’s evidence that Microsoft are actively testing this set-up with iPads</a>, so expect to see improvements in the future. Could this eventually be a native app? I’d venture that getting it to work in a native app package with the file picker API etc is definitely within sight, but forking the capabilities of the app to be so very different when running natively on the iPad (eg could the iOS version do debugging, git, terminal, extensions in the same way?) are more likely to be holding Microsoft back from launching it. Who knows, but if anyone could get Apple to bend rules to suit webdev, it’s 2020 Microsoft.</p>\n<p>Now we’ve covered the downsides, what are the benefits?</p>\n<ul>\n<li>Built in git-client, so you can pull, commit and push demo from your IDE directly on the remote server.</li>\n<li>Built in terminal, so you can run your Node.js toolchain on the remote server from within your IDE.</li>\n<li>err.. VS Code -- that means a top-tier code editor with almost endless extensions and theming.</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-vscode-hosted-3.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-3-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-3-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-vscode-hosted-3-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"933\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Multi file search and replace. One of many things missing in native iOS code editor apps.</p>\n\n        </figure><p>In practice, once you’re set-up and in a flow, you’re pulling, editing, saving, running Node.js tool chains all within VS Code as a standalone web-app (without need to think that it’s all happening remotely), then alt-tabbing to Safari/<a href=\"https://apps.pdyn.net/inspect/\">Inspect Browser</a> to check the results, then alt-tabbing back to VS Code exactly where you left it, to commit and push right there in the IDE. You’ll get used to briefly seeing the &quot;reconnecting&quot; dialogs, but on a good connection, it’s a minor annoyance. It’s surprisingly seamless.</p>\n<p><a href=\"https://youtu.be/tCHDQmDn90M\">https://youtu.be/tCHDQmDn90M</a></p>\n<p>Starting up and using VS Code on a VPS from an iPad.</p>\n<h3 id=\"but-hang-on%E2%80%A6\">But hang on… <a class=\"direct-link\" href=\"#but-hang-on%E2%80%A6\">#</a></h3>\n<p>This is technically impressive, but in truth it has nothing to do with the iPad -- everything is happening on the server, so your precious iPad could be replaced by any web browser on any platform -- from a Chrome OS laptop to a Raspberry Pi mini-PC. It’s the browser equivalent of firing up Emacs, ssh-ing to a server and only leaving it to check the results.</p>\n<p>That doesn’t mean it doesn’t hit our main requirement (ie, doing &quot;real work&quot; on my mobile device of choice), it’s just that it feels a little like cheating.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-vscode-hosted-4.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-4-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-4-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-vscode-hosted-4-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"933\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Running a simple python web server within the terminal inside VS Code.</p>\n\n        </figure><h3 id=\"how-to.\">How to. <a class=\"direct-link\" href=\"#how-to.\">#</a></h3>\n<ol>\n<li>First you need a Linux server to run it from. It could be a computer on your internal network, a remote server you have access to, or most probably a VPS (a Virtual Private Server -- a remote Linux account that your rent). This will probably take some sys-admin knowledge to set-up and prepare.</li>\n<li>To even start with a VPS, you’ll need a decent SSH/Mosh client on your iPad. Use <a href=\"https://termius.com/\">Termius</a> if you like a slick iOS GUI, or <a href=\"https://www.blink.sh/\">Blink</a> if you live and die by the command line (and you want the stickiest connections ever).</li>\n<li>If you are using a remote server, the chances are that you will be starting up the VSCode server via an SSH connection, and if that connection is severed, your access to VSCode will eventually also time-out with your dead connection. So it’s best to make that connection as stable as possible by adding a <a href=\"https://mosh.org/\">Mosh</a> to your remote server.</li>\n<li>Now you need to get the hosted VSCode binary onto your remote server. If your server supports a recent version of Docker, there’s a <a href=\"https://github.com/cdr/code-server\">simple Docker command you can run here</a>. But for my VPS, it didn’t work, but <a href=\"https://github.com/cdr/code-server\">downloading, expanding and running the binary version worked</a> just fine.</li>\n<li>We’re ready to test it all out. Log into the remote server and run the code-server binary (or the docker command if that’s the version you downloaded). It will start up VSCode on port 8008, and will tell you the random password to use to log-in. Because this version of VSCode is often served in public, it defaults to needing a password, before nasty people start doing nasty things to your code.</li>\n<li>In Safari on your iPad you can go to the IP or domain of your remote server at port 8008, and you’ll see a log-in screen (see below). Before you enter the password, go into the Safari action/share sheet and save this web app to your homescreen. It’s not a full PWA, but it will make a standalone web app link that will give you more screen space (none of the Safari UI) and make it easier to switch between editor and browser.</li>\n<li>Now you can open the VSCode web app from your homescreen and enter the random password that was shown to you in the command line when you started up the VSCode server. And suddenly you have VSCode on your iPad!</li>\n<li>If you have a project already checked out on your remote server, you can open it up using &quot;File&quot; in the hamburger menu top-left of the VSCode screen. If you don’t yet have a project on your remote server, use an SFTP client or even a code editor like <a href=\"https://www.textasticapp.com/\">Textastic</a> to transfer your project up to the server.</li>\n<li>If that project is a Git repo, VSCode will attempt to get the git status of the project (if your remote server doesn’t have an SSH key for your git service, your terminal app will be sitting there requesting your Git password).</li>\n<li>One last thing. You’ll get pretty fed up quickly with that password on VSCode. If you’re running VSCode in a safe enviroment (LAN server, Raspberry Pi), the instructions to remove the password are given on the command line where you see the randomized password. Otherwise, pick a password and set it up in what they call an environment variable. On the remote server, type:<br>\necho &quot;export PASSWORD=YourPassword&quot; &gt;&gt; /etc/profile<br>\n…where YourPassword is… well you get the idea. Next time you start up the VSCode server and get to the log-in, you won’t need to copy/paste that random password, you’ll have your own.</li>\n<li>Ok, this is the last thing. Using this out in the open is still a security risk even with the password on it. I wouldn’t risk setting it up to run all the time if I can help it. Shut it down when you’ve finished your session.</li>\n</ol>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-vscode-hosted-5.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-5-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-vscode-hosted-5-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-vscode-hosted-5-xl.png\" loading=\"lazy\" width=\"481\" height=\"316\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The password entry for hosted VSCode as seen in a browser. By default, the password is set randomly and shown in the terminal session that started the server.</p>\n\n        </figure><h3 id=\"optional-extras\">Optional Extras <a class=\"direct-link\" href=\"#optional-extras\">#</a></h3>\n<ul>\n<li>Could I marry this workflow with a Raspberry Pi (or any local Linux computer) instead of a VPS? Heck yes, and you wouldn’t need the Mosh server or passwords every time you launch VS Code. A Raspberry Pi 4B with decent memory should be more than capable -- although I haven’t tried it… yet.</li>\n<li>I haven’t tried it yet, but I suspect it’s not impossible to make a siri shortcut that uses Blink to open the connection to the VPS, start up the VSCode server and then opens the standalone web app on you iPad, all in one icon tap. And then you might need another to shut the server down once you’ve finished.</li>\n</ul>\n<p>Raspberry Pi 3B+ powered by an Anker battery pack. Could it be your VSCode in a box?</p>\n<h3 id=\"links\">Links <a class=\"direct-link\" href=\"#links\">#</a></h3>\n<ul>\n<li><a href=\"https://github.com/cdr/code-server\">GitHub - cdr/code-server: VS Code in the browser</a></li>\n<li><a href=\"https://link.medium.com/4nycoirfU2\">Owen Williams’ Medium article on using hosted VS Code with an iPad</a></li>\n<li><a href=\"https://code.visualstudio.com/\">Full Microsoft Visual Studio site</a></li>\n</ul>\n<h3 id=\"footnote\">Footnote <a class=\"direct-link\" href=\"#footnote\">#</a></h3>\n<p>There’s a classic front end bug in the settings in the current version of hosted VS Code (that’s bound to be fixed soon) where you can’t interact with the settings (select menus, checkboxes,etc). It’s probably a z-index thing, you know the bug. But happily, the VS code team have done a great job with accessibility, so you can click on the settings section you want, then use the tab key to cycle through the settings options, arrow keys to use select menus, and the space key to action things like checkboxes.</p>\n<aside class=\"aside--less aside--bottom\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n",
      "date_published": "2020-01-06T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-01-ipad-webdev19-raspberry-pi/",
      "url": "https://pixelthing.se/posts/2020-01-ipad-webdev19-raspberry-pi/",
      "title": "2019 iPad Webdev - Raspberry Pi",
      "content_html": "<aside class=\"aside--less\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n<aside class=\"aside--update\">\n<h3 id=\"update-2021%E2%80%9301%E2%80%9304\">Update 2021–01–04 <a class=\"direct-link\" href=\"#update-2021%E2%80%9301%E2%80%9304\">#</a></h3>\n<p><a href=\"https://medium.com/sausheong/setting-up-a-raspberry-pi-4-as-an-development-machine-for-your-ipad-pro-3813f872fccc\">This Medium article</a> (paywall, unfirtunately) is the best resource I’ve found for setting up all the possible iPad/Pi combinations.</p>\n</aside>\n<p>This could qualify as one of the hacks of the year and has gained quite a lot of traction in the last six months.</p>\n<p>The idea is pretty simple. Once you’ve got used to playing with a VPS (Virtual Private Server — a remote Linux account you rent) as the web development accessory to your iPad, you start to wonder if that Linux server could be closer to you. Much closer. And smaller — almost as if you could carry it in your pocket.</p>\n<p>Well, that describes a Raspberry Pi. Of course any UNIX/Linux computer would do, but it just so happens that Pi’s are cheap ($€£35–100 depending on the level of spec and comfort) and very well supported with community documentation.</p>\n<p>I’d been playing with Raspberry Pi’s as part of dashboard appliances, and was just considering using them as an off-board Linux server to a iPad when I realised smarter people were way ahead of me. The first time I saw a Raspberry Pi used specifically for development with an iPad, it was from the supremely talented Brent Jackson in July:</p>\n<p><a href=\"https://twitter.com/jxnblk/status/1147555688933154816?s=21\">https://twitter.com/jxnblk/status/1147555688933154816?s=21</a></p>\n<p>It blew my mind because I’m not sure how he’d arrived at it, but it was a fully formed workflow using USB-C to not only power the Pi, but as ethernet over USB as well (he even documented the types of cable he had success with and those that didn’t work out). Here’s <a href=\"https://threader.app/thread/1147555688933154816\">the whole Twitter thread on Threader</a>.</p>\n<p>It took off from there. I had an iPad Pro 10.5” with Lighning connectors, so USB-C power and network weren’t going to work for me, but I could connect to them over WiFi easily enough. And I found I didn’t need to stretch to the Pi 4B, the Pi 3B+ model that I already owned was fast enough for most work, and as a bonus had much lower power demands, so using a 10Ah 12Watt Anker battery pack (not a PD one with crazy output) was enough to run it. If you plugged it into a monitor, it would complain about power during boot-up, but in general headless usage, it never hit any limits.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-raspberry-pi-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-raspberry-pi-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-raspberry-pi-2-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-raspberry-pi-2-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"765\" class=\"post__img__img\" />\n            </picture>\n          </a>\n        </figure><p>For a plane trip in September, I decided to try and get it working without any internet — just the iPad, the Pi and the battery pack, totally off-line. I eventually got the Pi to act as a WiFi NAT and DHCP server, essentially acting as a router with no connection to route, leaving just the iPad and the Pi as the only IPs on our mini network. It worked great and I could literally carry it in my pocket whilst working on it. If you’d like to try this “offline” set-up, there’s a link at the bottom of this article.</p>\n<p><a href=\"https://twitter.com/pixelthing/status/1172589731886063616?s=21\">https://twitter.com/pixelthing/status/1172589731886063616?s=21</a></p>\n<p>Once <a href=\"https://secureshellfish.app/\">Secure Shellfish</a> came out, sending files to and from a Raspberry Pi was as easy as if it was an external drive, Shellfish just made it another file provider in the “Files” app.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-raspberry-pi-1-xl.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-raspberry-pi-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-raspberry-pi-1-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-raspberry-pi-1-xl.jpeg\" loading=\"lazy\" width=\"4000\" height=\"2379\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Shellfish set-up to connect to my Rasbperry Pi 3B+</p>\n\n        </figure><p>Shellfish set-up to connect to my Rasbperry Pi 3B+<br>\nAnd since Brent’s first tweet, I’ve seen the Pi pop up again and again as an iPad accessory. Rob at the <a href=\"https://www.youtube.com/channel/UCT-GpMtIFhX9EMA0Eauevhw\">TechCraft YouTube channel</a> has made several videos about setting up the Pi for use with an iPad, both with USB-C and Wifi connections. In fact, I’m not going to try to explain the set-up, because he does a much better job.</p>\n<p><a href=\"https://youtu.be/IR6sDcKo3V8\">https://youtu.be/IR6sDcKo3V8</a></p>\n<h3 id=\"pros\">Pros <a class=\"direct-link\" href=\"#pros\">#</a></h3>\n<ul>\n<li>You get a full Linux server that you can customise in any way you want.</li>\n<li>It’s ridiculously portable, and can even be used in a workflow when you’re fully offline, under battery power.</li>\n<li>Unlike a VPS, the quality of your internet connection is of no consequence.</li>\n<li>You can buy and own it for less than the cost of one years’ rental of a cheap VPS.<br>\nGeek cred.</li>\n</ul>\n<h3 id=\"cons\">Cons <a class=\"direct-link\" href=\"#cons\">#</a></h3>\n<ul>\n<li>It’s another thing to carry, another thing to charge, another thing that can be damaged or lost.</li>\n<li>You need to be willing to get pretty dirty with Linux command line</li>\n<li>Back-up is your responsibility.</li>\n<li>The Pi 4B can get pretty hot — best to bare in mind that if you need to stay mobile, it won’t appreciate working in a pocket or a bag for long periods.</li>\n</ul>\n<h3 id=\"optional-extras\">Optional extras <a class=\"direct-link\" href=\"#optional-extras\">#</a></h3>\n<ul>\n<li>You can spec or modify these suckers until your heart’s content.</li>\n<li>Tether it with USB-C for charging and network? Use Wi-Fi+battery and leave it in the bag? It’s up to you what works best.</li>\n<li>Using a Raspberry Pi with the <a href=\"https://medium.com/p/18f482f3a976\">VPS/VSCode method</a> would be pretty knockout. You might want to use a higher spec Pi 4B with some decent memory though.</li>\n<li>You might want to use the Raspberry Pi as your development process, and then the CD/Netlify method as the next step, when you want to deploy your code to stage or production.</li>\n</ul>\n<h3 id=\"links\">Links <a class=\"direct-link\" href=\"#links\">#</a></h3>\n<ul>\n<li><a href=\"https://threader.app/thread/1147555688933154816\">Thread of Brent Jackson’s USB-C Raspberry Pi 4B</a></li>\n<li><a href=\"https://gist.github.com/pixelthing/2d9d335cdd3632210febf2d2a15b5365\">My set-up instructions to start-up a Pi in “offline” WiFi NAT mode, that you could connect your iPad to</a></li>\n<li><a href=\"https://youtu.be/ebYB9rVHaeg\">TechCraft set-up of a Raspberry Pi for a USB-C iPad</a></li>\n<li><a href=\"https://youtu.be/YbvSS8MJm2s\">TechCraft set-up of a Raspberry Pi for a Lightning iPad</a></li>\n</ul>\n<aside class=\"aside--less aside--bottom\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n",
      "date_published": "2020-01-06T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-01-ipad-webdev19-playjs/",
      "url": "https://pixelthing.se/posts/2020-01-ipad-webdev19-playjs/",
      "title": "2019 iPad Webdev - Play.js",
      "content_html": "<aside class=\"aside--less\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n<aside class=\"aside--update\">\n<h3 id=\"update-2020%E2%80%9305%E2%80%9328\">Update 2020–05–28 <a class=\"direct-link\" href=\"#update-2020%E2%80%9305%E2%80%9328\">#</a></h3>\n<p>Play.js 2.0 has launched and it’s a full re-write with many of the small annoyances that I mention in this article having been fixed. Plus Vue.js is now supported out of the box. <a href=\"https://apps.apple.com/us/app/play-js/id1423330822#?platform=ipad\">It’s well worth checking out</a>, and there’s a short review in this <a href=\"https://link.medium.com/8PoMYziJLcb\">2020 article</a>.</p>\n</aside>\n<aside>\n<p><a href=\"https://playdotjs.com/\">This review uses Play.js 1.14.1</a></p>\n</aside>\n<p><a href=\"https://playdotjs.com/\">Play.js</a> is so close to being my holy grail of iOS webdev apps, and if you are a React front-end dev, it might well be yours right now.</p>\n<p>It’s not just an editor, it’s a fully integrated environment that lets you run Node.js processes and install Node.js modules. Yes really -- this is the app <a href=\"https://blog.usejournal.com/fe-webdev-on-ipad-pro-2018-c55283f01e4c\">I have been imagining for several years</a>.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-playjs-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-1-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-playjs-1-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"933\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Two windows of play.js, running the index.js in the left window, which spawned the internal browser in the right window with the results. And bottom left is the Node.js console.</p>\n\n        </figure><p>But, it has some caveats. It curently has a specific focus on three audiences: Node.js app dev, React Native dev, and React webdev (which is currently marked as in &quot;beta&quot;). There is wiggle room to get some other projects working, but I haven’t had much success trying to get Gulp or Vue.js projects running.</p>\n<p>The way Play.js works is a little unconventional if you’re used to working with front-end tooling in the command line, although if you’ve used <a href=\"http://omz-software.com/pythonista/\">Pythonista</a> on iOS it might be familiar. If your project has a package.json file and an index.js file in the project root -- you click on the play button, and the dependencies will download, and the script will run in an internal browser.</p>\n<p>It’s almost magic.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-playjs-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-2-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-playjs-2-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"722\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Here’s the magic in action. Press &quot;play&quot; and the app installs the modules and runs index.js</p>\n\n        </figure><p>This is running front-end tooling locally on your iPad without any use of a remote or Virtual Private Server (VPS), and without having to limit yourself to developing a flat file site. For this reason alone (plus if you want to develop server-side node apps), play.js has quite a faithful following.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-playjs-3.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-3-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-3-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-playjs-3-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"805\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The default project menu, before you expand it. do you know which is the right React project to run?</p>\n\n        </figure><h3 id=\"in-practice\">In practice <a class=\"direct-link\" href=\"#in-practice\">#</a></h3>\n<p>I have to admit that although I do almost every type of Front-End development, building production ready projects in React remains a blind side for me, so my usage of the app is a little on the surface level. I’ll come back with a new review when it supports VueX ;-)</p>\n<p>But it essentially does what it says on the tin. The test React projects that I’ve checked out from GitHub with Working Copy are easily accessed in Play.js with &quot;edit-in-place&quot;. If the index.js file is in the root and it has a package.json file, pressing play installs the modules and runs the Node.js tool chain.</p>\n<p><a href=\"https://youtu.be/RIOOA6APlZs\">https://youtu.be/RIOOA6APlZs</a></p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-playjs-4.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-4-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-4-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-playjs-4-xl.png\" loading=\"lazy\" width=\"372\" height=\"350\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The file sidebar. The top directory with &quot;..&quot; goes up a level.</p>\n\n        </figure><p>The file sidebar is esoteric by design, and having &quot;back to parent directory&quot; buttons as ellipsis’, it would probably appeal more to Linux junkies than strict <a href=\"https://developer.apple.com/design/human-interface-guidelines/\">iOS HIG</a> followers -- but that’s ok.</p>\n<p>Apps that have their own file list style still have their quirks. When you add new files an folders, there is no affordance that they have been successfully added -- no toast, no scrolling the file list to them, no opening them for editing. In one session, I eventually found 27 new empty files I’d created without knowing, that I would have seen if I wasn’t working in a large project that required you to scroll to see files beginning with &quot;N&quot; for &quot;New_file&quot;. Small stuff, easily fixed (I hope!).</p>\n<p>The editor has come a very long way in a year. Building a code editor is always a case of re-inventing the wheel one spoke at a time, but it has progressed from one where the undo function was actually scrambling code for me, to one which feels like it’s aiming for the best of the best. Symbol auto-suggestion seems solid, as does tabbing and syntax colouring. There’s work to be done -- it’s not my favourite code editor on the iPad (yet) -- but the rate of updates leaves no doubt that more is coming.</p>\n<p>The traffic-light close/minimise buttons (echoing window controls in OSX) make me smile, but I wonder about the utility of any buttons you have to click twice -- once to enlarge them, a second time to use them.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-playjs-5.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-5-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-5-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-playjs-5-xl.png\" loading=\"lazy\" width=\"400\" height=\"403\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The Git controls in the sidebar. Also note the traffic light buttons.</p>\n\n        </figure><p>Unusually for almost any iOS code editor (please tell me if I’m wrong), it has great Git support, allowing you commit and push from within the editor. The benefit of which becomes apparent next.</p>\n<p>Leaving the app will sometimes have iOS killing it from memory -- mainly due to memory pressure I guess. Which is a shame not just because Play.js has to then reload when you return to it, but often because it can’t auto-load the project you left it with. So you have to navigate to the project and file you were working on. The answer to this is of course to try and stay in the app and not leave it-- and the author has done amazing work with adding consoles, browsers and Git support to reduce the need to leave the app.</p>\n<p>The in-app browser (that cleverly opens itself in a new window docked to the side of the code) doesn’t have any special functions apart from having a button to load the same page in an external browser (Safari). I wish we could specify the browser to load the results in -- being able to use <a href=\"https://apps.pdyn.net/inspect/\">Inspect Browser</a> would instead would help a great deal with debugging.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-playjs-6.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-6-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-playjs-6-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-playjs-6-xl.png\" loading=\"lazy\" width=\"386\" height=\"500\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The project/app list (default view).</p>\n\n        </figure><p>If I’m honest, the most confusing part for me is the project menu. By default it’s a row of unlabelled icons. You can optionally expand them to be a grid of labelled icons. I thought I was colour and icon orientated, but I still can’t get used to remembering if it was the pink or the red React project I wanted to load.</p>\n<p>The last thing to mention is that all the example React projects in the app have the code commented that watching has been disabled due to memory constraints. Having a tool chain that isn’t able to live-reload code when a change occurs is a pain -- but I wonder if this is set because Play.js follows the iOS convention of not having a &quot;save&quot; button, but auto-saving on every key change. Certainly, adding watchers back in crashes the app after some quick code edits. I wonder if this is why GoCoEdit is the only IDE that does live-preview -- because it’s also the only IDE that asks you to physically click &quot;save&quot;, so isn’t trying to update all the time you have your hands on the keyboard.</p>\n<h3 id=\"pros\">Pros <a class=\"direct-link\" href=\"#pros\">#</a></h3>\n<ul>\n<li>One iPad is all you need to run and develop your web React project. No servers, no cables, no extra computers. Online or offline.</li>\n<li>And you didn’t even have to type npm i</li>\n<li>With built in Git, you can pull and push changes without leaving the app. I can’t think of another iOS native IDE that does that.</li>\n<li>It’s definitely trying to look at a traditional command line bound problem and solve it in an innovative way.</li>\n</ul>\n<h3 id=\"cons\">Cons <a class=\"direct-link\" href=\"#cons\">#</a></h3>\n<ul>\n<li>The type of projects you can use it for are narrow in breadth (but they are very popular types of project -- React native, React web, Node.js)</li>\n<li>Still developing in lots of ways (functionality, UI, stability). But high goals.</li>\n<li>Probably not as ultimately flexible as a real Linux server.</li>\n</ul>\n<h3 id=\"optional-extras\">Optional extras <a class=\"direct-link\" href=\"#optional-extras\">#</a></h3>\n<ul>\n<li>Add a <a href=\"https://medium.com/p/ed9eb66579ec\">continuous deployment (CD) workflow with Netlify</a> to deploy to an external staging server once you’re happy with your work, just by committing your changes with a branch (or doing a merge). And you can even do that in Play.js itself, you don’t even need to fire up a Got client.</li>\n</ul>\n<h3 id=\"links\">Links <a class=\"direct-link\" href=\"#links\">#</a></h3>\n<ul>\n<li>Link to Play.js</li>\n</ul>\n<aside class=\"aside--less aside--bottom\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n",
      "date_published": "2020-01-06T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-01-ipad-webdev19-panic-coda/",
      "url": "https://pixelthing.se/posts/2020-01-ipad-webdev19-panic-coda/",
      "title": "2019 iPad Webdev - Panic Coda/Code editor",
      "content_html": "<aside class=\"aside--less\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n<aside>\n<p>Using Panic Code Editor (formerly Coda) 2.2.15. And as of May 10th 2021, Panic Code Editor is no longer available for new purchases/download.</p>\n</aside>\n<p><a href=\"https://panic.com/blog/the-future-of-code-editor/\">Panic Coda is now Panic Code Editor</a>. Panic is working on a new Mac code editor called Nova, and so the Coda brandname has been snapped up by someone else — hence the name change. But I’ll keep calling this app “Coda” in this article.</p>\n<p>Coda for iOS is the daddy. It was among the first generation of professional creativity apps on the iPad/iPhone, when the app store was almost exclusively just magazines and games.</p>\n<p>The Coda editing view. Note the tabs and the settings available to each tab.</p>\n<p>It’s still sold by Panic <em>(update - no it's not!)</em>, still supported with bug fixes and security updates. It’s still got some features that don’t exist in any other app. But it’s essentially in maintenance mode. It was built for the pre-iOS11 world and I’m sad to say it barely fits into the iOS13 one.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-panic-coda-1.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-panic-coda-1-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-panic-coda-1-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-panic-coda-1-xl.png\" loading=\"lazy\" width=\"1400\" height=\"1050\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The Coda editing view</p>\n\n        </figure><p>Just scroll a file. The frame rate when you scroll a long script is much lower than Panic would normally allow through QA, and in large files the typing response is not so great. Syntax colouring is similarly laggy. It was built and optimised for iOS hardware that was vastly different from the monster CPUs in the iPad Pro of today.</p>\n<p>Frustratingly, there is no access to any filesystem outside of Coda’s sandbox (remember those days?) so you have to copy files into Coda or commit files individually which makes any source control system very contrived. The file system UI is idiosyncratic not least because you click on a file and it gives you a full screen of of contextural options, when all I want is to see and edit the code.</p>\n<p>If it had a performance sprint or two, gained basic iOS13 file access with edit-in-place, it would still be one of the best options out there. An iOS version of Panic Nova could be years away (it was largely developed before Catalyst was a thing — so a port to iOS is a biiig job), but meanwhile, Coda is barely surviving in its current form.</p>\n<p>Coda set the template all the other editors use today. The all-in-one code editor, remote shell client, remote file client and the in-app browser with a console, and most of those pieces are still great. Almost every part of the app feels extremely iOS-like, and very much that it came from a decently paid, talented team of good product junkies.</p>\n<p>But that’s not enough any longer, it’s not often in my list of editors that I use on a regular basis.</p>\n<h2 id=\"amazon-web-services-s3\">Amazon Web Services S3 <a class=\"direct-link\" href=\"#amazon-web-services-s3\">#</a></h2>\n<p>But Coda has one thing that nothing else does. Remote Amazon Web Service (AWS) S3 file bucket access. Only Panic’s own Transmit (no longer on the app store) has usable S3 access, and if you have a project that uses S3, it could be the one killer feature you need.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-panic-coda-2.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-panic-coda-2-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-panic-coda-2-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-panic-coda-2-xl.png\" loading=\"lazy\" width=\"1400\" height=\"1050\" class=\"post__img__img\" />\n            </picture>\n          </a>\n        </figure><p>The above screenshot shows the file interface in Coda. On the left is the list of files that sit in this project locally on the iPad. On the right is the list of remote files in the AWS S3 bucket. In this view, you can pick files that are either local or remote and edit them, or you can drag and drop them between the two sides.</p>\n<p>You might have noticed the tab bar at the bottom. This allows you to change the view to either see only the local files or only the remote files. If you’re using Coda to work directly on an AWS S3 bucket, it’s recommended you only show the remote column — it’s much less confusing.</p>\n<p>What we haven’t touched on in this article is source control, most commonly Git. That’s a tricky subject with Coda — there is a way of using iCloud to syncronise the whole repo (consult the Working Copy docs), or you can commit individual files into Working Copy using the share/action sheet (see my 2018 review to see how). But neither is a very satisfactory workflow.</p>\n<p>But if you’re working directly with AWS S3, your only real option is to rely on the versioning in the S3 bucket — if that feature is turned on.</p>\n",
      "date_published": "2020-01-06T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-01-ipad-webdev19-gocoedit/",
      "url": "https://pixelthing.se/posts/2020-01-ipad-webdev19-gocoedit/",
      "title": "2019 iPad Webdev - GoCoEdit",
      "content_html": "<aside class=\"aside--less\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n<aside>\n<p><a href=\"https://gocoedit.app/\">This review uses GoCoEdit 16.1</a></p>\n</aside>\n<p>What an extraordinary conundrum GoCoEdit is.</p>\n<p>It’s about as far from a conventional iOS app as it’s possible to make, but it is one of the most complete native IDEs -- in terms of features -- there is on the platform.</p>\n<p>In truth it’s a clever combination of hundreds of hours of work and several different OSS libraries -- primarily <a href=\"https://codemirror.net/\">Codemirror</a>, a mature JS based code editor (and don’t snigger, it’s used in Chrome &amp; Firefox devtools, plus <a href=\"http://brackets.io/\">Brackets</a>, <a href=\"https://codeanywhere.com/\">Codeanywhere</a> and <a href=\"https://jupyter.org/\">Jupyter</a>).</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-gocoedit-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-1-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-gocoedit-1-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"933\" class=\"post__img__img\" />\n            </picture>\n          </a><p>GoCoEdit’s interesting take on UI. Are those buttons wrapped CSS flexbox?</p>\n\n        </figure><p>This OSS base is possibly one of the reasons the app feels so un-iPad-like. The file-list sidebar looks more like a Java app than an iPadOS one, with very few gestures anywhere (there’s no swiping items in lists, for example), dialogs and menu items are in unusual, uppercase, non-rounded rectangles, and every piece of UI is in a very un-iOS monospace font. I almost discarded it as a hobby project before I gave it a chance, because I mistakenly interpreted &quot;different&quot; as &quot;amateurish&quot;.</p>\n<p>But I’m glad I did give it some time, because it has masses of thought put into it’s workflow, and lots of hidden depths.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-gocoedit-2.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-2-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-2-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-gocoedit-2-xl.png\" loading=\"lazy\" width=\"350\" height=\"326\" class=\"post__img__img\" />\n            </picture>\n          </a>\n        </figure><p>Despite not looking like the usual sidebar, it does support OS level file drag and drop, allowing you to copy folders directly into (and out of) it. Dragging folders from the &quot;files&quot; app into the file list works fine and you can drag them into the &quot;external&quot; heading, but they don’t seem to be &quot;edit in place&quot; because if I make any changes, Working Copy doesn’t recognise them, so the files must have been copied -- not linked? It could just be a mistake that you can drag them into &quot;external&quot; at all.</p>\n<p>&quot;Edit in place&quot; is definitely available in the &quot;open from&quot; option at the top of the file sidebar, and it correctly allows me to edit files in a checked-out Working Copy repo and commit/push any changes back (In WC, not in GoCoEdit itself), painlessly.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-gocoedit-3.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-3-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-3-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-gocoedit-3-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"933\" class=\"post__img__img\" />\n            </picture>\n          </a><p>GoCoEdit’s auto-suggest is spot on, here offering the correct symbols to a Vue.js object.</p>\n\n        </figure><p>It also has keyboard shortcuts that have been thoroughly considered to keep your hands away from the screen, as well as a code snippet system that lets you speed up repetitive tasks. On top of that it supports Siri Shortcuts, including having it’s own x-callback hooks. This is an app that is obviously in heavy use by the developer, it seems to scratch so many specific itches, it can only be so.</p>\n<p>The editor interface itself is one of the most full-featured anywhere on iOS. It has auto-complete that is not only accurate (closing the correct tag for instance) but auto-suggests from symbols in the page/script/style sheet you’re editing. Line breaks auto-tab the next line in a useful and predictable manner. The extra symbol keyboard is one of the most comprehensive and easiest to use, and has a mysterious &quot;dot&quot; in the middle that acts like the iOS13 draggable caret -- hold down and drag your finger and the text selection caret moves with your finger, double tap it and it selects the line.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-gocoedit-4.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-4-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-4-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-gocoedit-4-xl.png\" loading=\"lazy\" width=\"1000\" height=\"372\" class=\"post__img__img\" />\n            </picture>\n          </a>\n        </figure><p>That does bring us to text selection, which is closer to the custom style in Panic Coda than to the new standard style in iOS13. Holding your finger down on any piece of text brings up a rectangular magnified loupe of the text. The blue bars at the start and end of a text selection don’t have the customary dots on them (an iOS13 problem?), and the context pop-over when you select text doesn’t have a &quot;select all&quot; option, a weird omission. But’s easier to think that this is a keyboard driven app -- selecting a whole doc of code is easier with command-A.</p>\n<p>Unusually for any iOS app, GoCo doesn’t continuously auto-save but requires you to tap &quot;save&quot; to commit a change to it (either by command-s or by tapping the tick-mark in the top right -- yellow is unsaved, green is saved).</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-gocoedit-5.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-5-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-5-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-gocoedit-5-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"800\" class=\"post__img__img\" />\n            </picture>\n          </a><p>GoCoEdit editing a project directly from Working Copy, with live preview in Safari on the right.</p>\n\n        </figure><p>GoCoEdit has a built in preview flat-file web server, and also offers an internal browser to show the results of your code. The in-app browser is modal, so it takes over the screen, but closing it leaves you back exactly where you left the editor (not always the case in some editors). The browser has a very limited responsive view, and a console that at least displays script line references and shallow JS objects -- so not bad at all.</p>\n<p>But GoCoEdit also lets you choose Safari or Chrome to preview in as well, and this is where it gets really interesting. Many iOS code editors can start up an internal web server that other browsers can use, but GoCoEdit uses the standard port 80 -- not random ports as with most other apps. This makes it easier to test oAuth based apps -- which often require a predetermined host and port, and is the single feature that has made it my go-to editor for the moment.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-gocoedit-6.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-6-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-6-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-gocoedit-6-xl.png\" loading=\"lazy\" width=\"1400\" height=\"1050\" class=\"post__img__img\" />\n            </picture>\n          </a><p>GoCoEdit previewing a page in Safari on the right. Note that the app’s action menu shows &quot;Safari&quot; with a lightning symbol, indicating that it’s in live-preview mode, so will refresh on every save.</p>\n\n        </figure><p>The sugar on the top is the extra option of live preview. If you dock Safari to the side of GoCoEdit, you can makes changes to the code, and every time you hit save, the browser automatically reloads the page. If you keep Safari in the slide-over sheet, every time you hit save, Safari sweeps in from the right as it’s re-loading -- giving you instand feedback without stealing your screen space. If you switch to another app and then return to GoCoEdit, you will be greeted with a red toast saying &quot;live preview disabled&quot;, but all it takes is hitting the &quot;Safari&quot; button in the top right action menu and you’re connected again.</p>\n<p>I love this live-preview feature.</p>\n<p>Of course, Safari has no devtools, so I’d love to see an option in GoCoEdit to have the same behaviour with Inspect Browser.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-gocoedit-7.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-7-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-gocoedit-7-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-gocoedit-7-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"717\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The custom button row in GoCoEdit. The centre dot moves the text selection carat, similar to a how a ThinkPad &quot;pointing stick&quot; works.</p>\n\n        </figure><p>I find myself reminded of the early days of Sublime Text, where the user interface -- especially, as here, the file sidebar-- was so un Mac-like it made me cringe, but the utility of the application was undeniable.</p>\n<p>If I had a 12.9&quot; iPad I’d be tempted to be greedy and ask for vertical split panes so I could see two files at the same time (or multi-window usage as Textastic is working on), even if here on my 10.5&quot;, that would be a crazy idea. But the app is that productive that I’m almost beyond complaining about the basics and I’m starting to ask for more features. Multi-file search and replace would be good though.</p>\n<p>Development of the app seems to be continuing with several updates since iOS 13, so I hope it will continue apace. But this is heroic effort from yet another lone talented developer (so give them a break). The approach taken in this app, of leaning on OSS libraries and bridging them with custom code has allowed it’s feature count to leapfrog some other IDEs in the short term (take tag-closing or auto-suggest as an example), although as iOS11/12/13 has proved to many apps, staying away from the standard UIKit way of building the interface can quickly leave you behind when updates break your code. I hope that’s not the case here, there is some real pro-level functionality in this app, mixed in with some of the latest APIs (iOS13 &quot;edit in place&quot;, drag and drop, Siri Shortcuts).</p>\n<p>It’s well worth the $€£10. And I don’t often say this, but leave a good review on the app store, it seems to be lacking a bit of exposure compared with the other IDEs.</p>\n<p>I’m going to give it a go -- for a source controlled flat file project, it seems to be the whole package. It’s just… idiosyncratic.</p>\n<h3 id=\"pros\">Pros <a class=\"direct-link\" href=\"#pros\">#</a></h3>\n<ul>\n<li>Integrated terminal</li>\n<li>Internal server &amp; browser for flat file preview, with live preview to external browsers.</li>\n<li>Access to remote cloud services (dropbox, Google Drive, Onedrive, FTP/SFTP)</li>\n<li>&quot;edit in place&quot; making it compatible with Git clients like Working Copy, and drag’n’drop copying in and out of the file list.</li>\n<li>19 common themes (molokai, material, solarized, etc, plus the ability to make custom ones)</li>\n<li>Multi-caret editing</li>\n<li>Good tag completion and auto-suggesting from x symbols.</li>\n<li>Siri shortcuts with x-callback</li>\n</ul>\n<h3 id=\"cons\">Cons <a class=\"direct-link\" href=\"#cons\">#</a></h3>\n<ul>\n<li>&quot;Unusual&quot; user interface design.</li>\n<li>A little slow at returning to the foreground after iOS has killed it in the background.</li>\n<li>No multi-file search &amp; replace.</li>\n</ul>\n<h3 id=\"links\">Links <a class=\"direct-link\" href=\"#links\">#</a></h3>\n<ul>\n<li><a href=\"https://gocoedit.app/\">Link to GoCoEdit website</a></li>\n</ul>\n<aside class=\"aside--less\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n",
      "date_published": "2020-01-06T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-01-ipad-webdev19-cd-netlify/",
      "url": "https://pixelthing.se/posts/2020-01-ipad-webdev19-cd-netlify/",
      "title": "2019 iPad Webdev - CD with Netlify",
      "content_html": "<aside class=\"aside--less\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n<p>For web developers using an iPad, it’s best to think of this method as deploying your site to a VPS (virtual private server, a remote Linux account that you rent), without all that command line system administration nonsense. <a href=\"https://www.netlify.com/\">Netlify.com</a> can do the things your iPad is bad at (Node.js tool chains, web serving), without you having to ever SSH to a server.</p>\n<p>The process of getting code to pixels can be summed up as:</p>\n<ol>\n<li>checking out a repo and editing it on your iPad</li>\n<li>pushing the changes on you iPad back to GitHub/GitLab/BitBucket/etc</li>\n<li>somewhere in the cloud, the new change in a your repo triggers your tool chain to run and deploy the results to a web server.</li>\n</ol>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-cd-netlify-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-cd-netlify-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-cd-netlify-1-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-cd-netlify-1-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"818\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Netlify deploy status (in Safari -- on left) and Inspect Browser showing the deployed site (right)</p>\n\n        </figure><p>What we’re using (or &quot;creatively&quot; mis-using) is a Continuous Deployment (CD) system. CD is used to take the pain out of deploying to a staging or production server, the idea being that if the deploy is a simple switch – instead of a long email requesting a sys-admin’s time – there’s minimal friction stopping your site from being kept up-to-date and fresh.</p>\n<p>Netlify (among other services) wrap this CD service up with a web server and CDN, making the whole process as simple as signing up for one free (within limits) service.</p>\n<p>Although CD is generally used at a specific milestone – for example you’ve finished fiddling with the dev server and want to send it to staging – there’s no reason why we can’t use it for the fiddling part. In effect, Netlify can be our development server.</p>\n<h3 id=\"how-to\">How to <a class=\"direct-link\" href=\"#how-to\">#</a></h3>\n<p>(using Netlify, but other CD providers would be similar)</p>\n<ol>\n<li>Have your project in one of the hosted Git services that Netlify works with (eg, GitHub, GitLab, BitBucket)</li>\n<li>Sign-up to Netlify, connect your new account to the hosted Git provider.</li>\n<li>In Netlify, select the project from your Git provider that you want to connect, the branch whose changes will trigger the deploy, the command line to run (eg gulp build), and the resulting folder of files to deploy to the web server.</li>\n<li>Back on your iPad, check out your project with your Git client (eg Working Copy), and either edit the files in that, or in a code editor.</li>\n<li>When you’ve made a change you want to see the result of, commit and push it. This will trigger Netlify to run a deploy.</li>\n<li>Monitor your deploy in your Netlify account in Safari. Full deploy logs are available there for debugging.</li>\n</ol>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-cd-netlify-2.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-cd-netlify-2-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-cd-netlify-2-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-cd-netlify-2-xl.png\" loading=\"lazy\" width=\"1400\" height=\"805\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Build settings for a project in Netlify</p>\n\n        </figure><h3 id=\"in-practice\">In practice <a class=\"direct-link\" href=\"#in-practice\">#</a></h3>\n<p>I liked this method a lot. It was particularly good if you’re really mobile with only a sporadic internet connection – I found myself making small gulpfile changes in Working Copy on my iPhone whilst travelling with my family on a bus, knowing that if I get 30 seconds in the next few miles, I could check if the deploy worked. You can change a line of code locally, commit and push and know some server somewhere isn’t reliant on your connection to it to do it’s job.</p>\n<p>Getting the first deploy on the server can take a while, but subsequent deploys are very quick; if not as instant as a local installation, they are generally closer to the speed of your toolchain rather than any latencies between servers.</p>\n<p>However it still adds one more step to a round trip. If I were running Gulp locally, it would be re-compiling as soon as I hit save. With the CD method here, you additionally need to commit (with a message unless you’re an animal) and push before you have the momentary wait to see the results.</p>\n<p>But the biggest problem I found was juggling all these elements constantly. I ended up with using Working Copy to push a change (and so trigger a deploy) and Textastic or GoCoEdit as the code editor, editing the files in Working Copy. On top of that I had two tabs or windows of Safari, one for viewing the resulting website, and one open with the Netlify deploy status, so I could be sure the deploy had succeeded and I was looking at the right version of the site.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-cd-netlify-3.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-cd-netlify-3-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-cd-netlify-3-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-cd-netlify-3-xl.png\" loading=\"lazy\" width=\"1400\" height=\"1050\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Working Copy (left), Textastic (center), two Safari windows (in slide-over -- right) with the deployed site and deploy status.</p>\n\n        </figure><p>I ended up with the code editor taking the most screen space, Working Copy docked to the left, and Safari in the slide-over window on the right so I could optionally view or dismiss it, and so I could rotate between the two Safari windows. It sort of worked – but the cognitive load of four windows and how and when to view them made me miss the simplicity of old-fashioned windows. Removing one element would make it so much easier – if I could push direct from any iOS editor without having to return to the Git client (nope), or if Netlify had an app that could just show a notification every time it deployed (nope). When I could, I just used the code editor in Working Copy – if you’re doing some bug fixing and need a quick turn-around, I’d recommend it, but it’s not quite the right IDE for long coding projects (not yet, anyway?).</p>\n<h3 id=\"pros\">Pros <a class=\"direct-link\" href=\"#pros\">#</a></h3>\n<ul>\n<li>We get a server that can run our tooling and web server, all in one free (!) service.</li>\n<li>We never have to configure or upgrade that server (or even need to know how to)</li>\n<li>We have a very simple and reliable way of pushing new code to the server.</li>\n<li>Your connection to the internet doesn’t need to be super reliable or fast. Pushing changes to GitHub generally involves relatively small numbers of text files, and deploy progress can be monitored only when you choose to, as it all happens in the cloud.</li>\n</ul>\n<h3 id=\"cons\">Cons <a class=\"direct-link\" href=\"#cons\">#</a></h3>\n<ul>\n<li>You have to be online, at least enough to push Git commits.</li>\n<li>Your project needs to be a repo in GitHub/GitLab/BitBucket.</li>\n<li>You have to be ok with regularly pushing changes to a branch just to see the results of them, where you might normally be refining them before you push.</li>\n<li>Every code round-trip needs one additional step -- to commit and push the change.</li>\n<li>Not a responsive workflow if you’re constantly updating large files.</li>\n<li>As mentioned already, there’s quite a lot of windows to control, you need a code editor and a Git client on the iPad, and need at least two browser tabs for the Netlify deploy status and the deployed site.</li>\n</ul>\n<h3 id=\"optional-extras\">Optional extras <a class=\"direct-link\" href=\"#optional-extras\">#</a></h3>\n<ul>\n<li>You could add a CD process like Netlify on top of the <a href=\"https://medium.com/p/18f482f3a976\">VPS/Visual Code method</a>, where pushing a commit directly in VSCode triggers a deploy, but all the benefits of Netlify being simple would disappear as it would already be on top of managing your own server. You’d only want to do this if you wanted the server that VSCode sits on to act as the development server, and CD to be used more conventionally, ie to deploy to staging/prod only once you’re happy for your dev code to be demonstrated to a wider audience.</li>\n<li>If you’re looking for a simple, reliable, secure blog workflow, this seems to be the perfect method to write your content in a markdown editor like <a href=\"https://ia.net/writer\">iA Writer</a> and use a framework like <a href=\"https://gohugo.io/\">Hugo.js</a> to publish it. You can even collaborate with others on an &quot;editing&quot; branch in Git before you merge with the branch that would trigger the publishing to Netlify.</li>\n</ul>\n<h3 id=\"links\">Links <a class=\"direct-link\" href=\"#links\">#</a></h3>\n<ul>\n<li><a href=\"https://www.netlify.com/\">Netlify.com</a></li>\n<li><a href=\"https://twitter.com/PaulGowder/status/1200927136594513920\">Paul Gowder enthusing about this method on Twitter</a></li>\n</ul>\n<aside class=\"aside--less aside--bottom\">\n<p>This is part of a review of the front-end webdev scene on iPad in 2019, detailing different methods to code in iPadOS. For the full list and more, click here. And be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n",
      "date_published": "2020-01-06T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-01-ipad-webdev19/",
      "url": "https://pixelthing.se/posts/2020-01-ipad-webdev19/",
      "title": "FE webdev on iPad (2019)",
      "content_html": "<aside class=\"aside--less\">\n<p>Be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n<p>What a difference a year makes.</p>\n<p>Last year I lead the 2018 round-up by saying that I could not recommend iOS for doing front-end web-dev unless your project fitted a very narrow list of criteria. A year later and that list of use-cases is not only wider, but the work you can get done is far deeper. We’re getting there.</p>\n<p>What has changed has been a combination of things. iPadOS has – for sure – solved a lot of the fundamental problems that previously infuriated the simplest of workflows. But apps (almost exclusively one-person indie apps) have been incrementally developing to fill the gaps, and the innovative workflows discovered by iPad users have been pretty amazing.</p>\n<p>Don’t be fooled – if I was coming to this platform for the first time as a professional web developer, I would still find iOS extremely limited and frustrating. But having seen where we’ve come from, I’m much more positive about the future.</p>\n<p>This is a journey that – as yet – still has no clear destination. But it’s getting more pleasant by the month.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-1-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-1-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"617\" class=\"post__img__img\" />\n            </picture>\n          </a><p>GoCoEdit and a Brydge 10.5&quot; (the best keyboard for using on your lap)</p>\n\n        </figure><h3 id=\"hardware\">Hardware <a class=\"direct-link\" href=\"#hardware\">#</a></h3>\n<p>In 2019, the regular iPads have essentially jumped a tier. All non-pro iPads are now different price-point compromises of the old 10.5&quot; pro, with out-of-the-box keyboard and pen support. The 2019 iPad Air in particular is a Pro in all but name, but they are all &quot;real-work&quot; ready.</p>\n<p>In the iPad Pro range, the top-end has remained unchanged. Or has it? Because the promised USB-C ecosystem is finally emerging and has collided with the new iPadOS. You can now plug your iPad into 5k monitors, hard drives, mice, microphones, USB-sticks, Raspberry Pis, plus a multitude of cheap, powerful, compact power supplies. And with either store-shelf or iPad-bespoke hubs, even with several peripherals at the same time. Your year-old iPad Pro had a free hardware upgrade in 2019.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-2-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-2-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"696\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Felt iPad carry case with dongles (HDMI, USB3.0, SD card) and Moko foldable stand.</p>\n\n        </figure><h3 id=\"ios-is-forked-for-the-ipad\">iOS is forked for the iPad <a class=\"direct-link\" href=\"#ios-is-forked-for-the-ipad\">#</a></h3>\n<p>iPadOS13 made the biggest difference to our ability to get things done this year. We’ve already talked about how the USB-C IO upgrades were nice for those with the latest iPad Pros. And the files app finally understands that you need to get files on and off your iPad in multiple ways. So many smaller details have made life easier for a developer, from the icons not re-arranging on rotating the screen, to Siri shortcuts being supercharged, to no-lag text selection, to keyboard commands everywhere.</p>\n<p>But the biggest plus is the new Safari, not just purely for it’s &quot;desktop class browsing&quot; but because of the multitude of online tools that this has enabled. From <a href=\"https://www.atlassian.com/software/jira\">Jira</a> and <a href=\"https://analytics.google.com/\">Google Analytics</a> to <a href=\"https://glitch.com/\">glitch.com</a> and the hosted version of Visual Code, it’s made the iPad exponentially more capable. It’s like suddenly getting 80% of a ChromeOS tablet on top of your iPad.</p>\n<p>Not everything is super rosey. The multi-tasking is powerful but cognitively taxing. The sandboxing means that apps still have to jump through crazy hoops to work together in a logical way. Background processes are still killed ridiculously early. iPad Pro RAM is unrealistically low compared to the cheapest of laptops. The command line is still <em>verboten</em>. App Store rules are still vague and punitive.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-3.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-3-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-3-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-3-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"631\" class=\"post__img__img\" />\n            </picture>\n          </a><p>A reminder to myself.</p>\n\n        </figure><h3 id=\"one-browser%2C-and-still-only-one\">One browser, and still only one <a class=\"direct-link\" href=\"#one-browser%2C-and-still-only-one\">#</a></h3>\n<p>One thing that didn’t change this year was the range of browsers on the platform. WebKit is still the only rendering engine available on iOS, Safari still has no devtools and you still can’t have Safari Technical Preview on iOS.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-4.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-4-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-4-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-4-xl.png\" loading=\"lazy\" width=\"1169\" height=\"512\" class=\"post__img__img\" />\n            </picture>\n          </a>\n        </figure><p>The <a href=\"https://twitter.com/slightlylate\">Google engineer Alex Russell</a> has strong views on Safari and iOS – and a lot of fan boys (like me) can get twitter-rage as a response. But although I might not always agree, I like Alex. Not only is he smart but he backs up points with data, and that should always deserve your consideration, whether you agree with his conclusions or not.</p>\n<p>And on one point, Alex is always right. Having one browser engine on iOS is a mistake. Quite apart from being an anti-trust suit in the waiting, the entire web capability of the platform is locked down to the decisions made in a single meeting room in Cupertino. Fairs fair, that weekly backlog meeting of project managers pretty much delivered the mobile web -- fully formed -- back in 2007 and has continued to push it forward. But now it’s time to let others have a competing voice.</p>\n<p>If we also had Chromium on iOS, we wouldn’t be celebrating finally using &quot;real&quot; GoogleDocs in 2019, because we’d have had it years ago. We might also have 4K YouTube and devtools. And so would Safari, probably (because; competition). All of that would mean selling more iPads to pros. And Safari would still rule for most iPad users because even for a default it’s capable, fast, has low battery consumption, and it’s the webview in every single social app that you own. Do it, you cowards (it’s a meme, I don’t really talk or think like that).</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-5.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-5-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-5-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-5-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"429\" class=\"post__img__img\" />\n            </picture>\n          </a><p>We live in an imperfect world. The 9 month old crack on my 10.5&quot;. At least it’s undetectable by touch over most of the screen. Here’s hoping the 2020 iPad Pro is coming soon.</p>\n\n        </figure><h3 id=\"methods-to-develop-sites-on-ipad\">Methods to develop sites on iPad <a class=\"direct-link\" href=\"#methods-to-develop-sites-on-ipad\">#</a></h3>\n<p>Enough of the fundamentals. Let’s take some apps, some projects in source control, and mash them up into a workflow.</p>\n<p>There are plenty of apps that carry out individual parts of a developer’s workflow just fine. This – after all – is how you often string together a workflow on a desktop OS; an editor, a browser, a git client, a server, etc. But iOS constraints mean single-function apps are often not productive. This is because if you need more than two apps in your flow, one will need to be in the background – at least part of the time – and background apps are killed ruthlessly after 3 minutes. This has lead to apps often having second or third talents that are best not to kill unexpectedly; for example editor apps having a terminal, or web server, or most often – both. It means one or two apps can stay in the foreground whilst they carry out the functions of many.</p>\n<p>Killing background processes is an artificial constraint of the OS – iPads are no longer the resource constrained devices they used to be, so it would be good if Apple allowed more categories of apps to remain in the background in some way like audio apps can.</p>\n<p>Next we also need apps to open files via the OS level &quot;edit in place&quot; API so that an IDE can work directly on files in a local repo (and just to be difficult, this API changed in iOS13, so any app that previously supported it needs an update). I consider this the basic requirement now of any pro app.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-6.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-6-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-6-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-6-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"644\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Microsoft VS Code running plug-ins on an iPad? Well, yes - kind of.</p>\n\n        </figure><p>The following list of workflows is absolutely not a prescription for the best ways of working, or even to scratch the breadth of ways to do front-end web development on an iPad. Like last year, consider them recipes – a little light inspiration to consider remixing to your own taste.</p>\n<p>And because they deserve they’re own space to understand their pros and cons, each is linked to their own article or screencast.</p>\n<ul>\n<li>Working with a remote server or Virtual Private Server (VPS)</li>\n<li>One way to get around iOS not running a a command line and a front-end tool chain like Node.js, is to work with a server hosted elsewhere. This results in workflows that are based around a remote server or a VPS.</li>\n<li>Full review: VPS, Microsoft VS Code (Hosted version), remote Git</li>\n<li>VPS, Emacs, remote Git (I don’t have much to say apart from use Blink and Mosh, they’re awesome)</li>\n<li>Full review: Continuous Deployment with Netlify, Github hooks, Working Copy, Textastic</li>\n<li>Full review: AWS S3, Panic Coda</li>\n<li>Screencast from 2018: VPS, Working Copy, Textastic (using Textastic to manually-upload)</li>\n<li>Screencast from 2018: VPS, Working Copy, Textastic (using Working Copy to auto-upload)</li>\n</ul>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-7.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-7-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-7-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-7-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"765\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Raspberry Pi 3B+ with Anker 10Ah battery pack. Pilot biro grip on the Apple Pencil.</p>\n\n        </figure><h3 id=\"working-on-a-semi-remote-server\">Working on a semi-remote server <a class=\"direct-link\" href=\"#working-on-a-semi-remote-server\">#</a></h3>\n<ul>\n<li>Full review: Raspberry Pi as a replacement for a VPS.</li>\n</ul>\n<h3 id=\"working-fully-local-on-the-ipad\">Working fully local on the iPad <a class=\"direct-link\" href=\"#working-fully-local-on-the-ipad\">#</a></h3>\n<ul>\n<li>Full review: Node.js/React: Working Copy, Play.js</li>\n<li>Full review: Flat websites: Working Copy, GoCoEdit<br>\nScreencast from 2018: Flat websites: Working Copy (preview server), Textastic</li>\n<li>Screencast from 2018: Flat websites: Working Copy (webDAV server), Textastic</li>\n<li>Screencast from 2018: Flat websites: Textastic (preview server)</li>\n<li>Screencast from 2018: Flat websites: Panic Coda (preview server)</li>\n</ul>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-8.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-8-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-8-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-8-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"625\" class=\"post__img__img\" />\n            </picture>\n          </a><p>MacBook Pro 13&quot; 2014, MacBook Air 2019, MacBook Air 11&quot; 2011, iPad Pro 10.5&quot;. Which is fastest?</p>\n\n        </figure><h3 id=\"honourable-mentions\">Honourable mentions <a class=\"direct-link\" href=\"#honourable-mentions\">#</a></h3>\n<p>There are a few other apps that have caught my eye this year, and are worth mentioning. I’m sure you could probably add many more for particular areas you work in – for instance there is a huge range of dedicated GitHub apps that let you monitor pull-requests and the like, documentation apps like <a href=\"https://kapeli.com/dash_ios\">Dash</a>, and full IDEs for languages such as Python (<a href=\"http://omz-software.com/pythonista/\">Pythonista</a>) and PHP (<a href=\"https://solesignal.com/draftcode/\">Draftcode</a>).</p>\n<ul>\n<li><a href=\"https://workingcopyapp.com/\">Working Copy</a>: still the best Git client on iOS, thankfully the most accomplished at integrating all the latest iOS APIs, because it’s the hub of most web-dev work on the iPad.</li>\n<li><a href=\"https://secureshellfish.app/\">Secure Shellfish</a>: from the developer of Working Copy, it makes SFTP servers appear as if they were just another drive in your Files app (or your app file picker).</li>\n<li><a href=\"https://apps.pdyn.net/inspect/\">Inspect browser</a>: The closest thing to Chrome dev-tools you’ll get on iOS, and getting closer all the time.</li>\n<li><a href=\"https://termius.com/\">Termius</a>, <a href=\"https://www.blink.sh/\">Blink</a>: Termius is the SSH tool for cross platform pros that prefer a GUI. Blink is for the genuine command line geeks who never want to see as much as a button, and is freakishly good at keeping a Mosh connection open -- it defies explanation.</li>\n<li><a href=\"https://kodex.app/\">Kodex</a>: A great standalone code editor. It doesn’t really fit any of my work (yet), but it’s has promise.</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-9.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-9-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-9-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-9-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"933\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Play.js running a web React project, with it’s browser showing the result on the right. This really is Node.js running locally on iPadOS -- a major step forward.</p>\n\n        </figure><h3 id=\"what-we%E2%80%99re-missing\">What we’re missing <a class=\"direct-link\" href=\"#what-we%E2%80%99re-missing\">#</a></h3>\n<p>Play.js might have finally brought Node.js and React (web) development to iOS, but it’s not (yet) a replacement for other tool chains. There’s still no way of locally running Gulp, Grunt, Rollup, Vue, Docker, K8s, etc, on an iPad, and that’s a lot of holes. If you need any of these, you’ll currently need to think about something like a VPS.</p>\n<p>In the IDE apps, we’re still missing the basic capability of multi-file text search/replace. After all, the hardest task in programming is naming things. The tag-complete/auto-suggest is of variable quality across IDEs and app extension systems will not get traction on the platform if it remains this small (Coda had one, unfortunately it didn’t have many plug-ins).</p>\n<p>All of the above things do exist in the hosted version of VS Code, as detailed above, largely because it all happens remotely on a Linux server. However it also comes with its own drawbacks – not least not currently having any keyboard shortcuts.</p>\n<p>But at least we’re getting there in the IDE space. When it comes to Browser developer tools, we’re still a way off. The great <a href=\"https://apps.pdyn.net/inspect/\">Inspect Browser</a> is still gaining new functionality steadily, but we’re still a long way from having the same insight into what a web page is doing like we have on desktop. In particular, we’re missing perf tools, heap measurements, JS debugger, indexedDB storage viewing, PWA tools, code line references in console logs, and more.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-10.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-10-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-10-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-10-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"1295\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Don’t feel locked into landscape mode -- the iPad is more flexible than that. (Textastic on screen)</p>\n\n        </figure><h3 id=\"%22the-ios-way%22\">&quot;the iOS way&quot; <a class=\"direct-link\" href=\"#%22the-ios-way%22\">#</a></h3>\n<p>Apple still doesn’t appear to see the web development industry as part of the &quot;Pro&quot; in iPad Pro. They continue to lay obstructions that discourage web developers to do much more than dabble in iOS. This is never better demonstrated than by Carlos Vidal, the author of the Play.js app where he describes the struggle to build a web development IDE, with NPM:</p>\n<blockquote>\n<p>On top of this, in an attempt to support most of the npm features, Apple threw away the work of two months by rejecting the binary and asking me to go back to the drawing board and offer that experience &quot;the iOS way&quot;. (footnote 1)</p>\n</blockquote>\n<p>Play.js is the closest thing to a local Node.js/NPM environment on iOS, and does it in a way that’s very far from carrying out <code>brew install</code> and <code>npm i</code> at a bash prompt. Write a package.json file, hit &quot;play&quot; and it’ll do the rest – it’s as close to the iOS way as you could be with a Node.js project.</p>\n<p>The positive person in me says that this hard-arse stance has actually led to new ways of looking at workflows that we never even considered reevaluating before. Play.js is the embodiment of this.</p>\n<p>Alternatively you could ask what the kind of direction is that to give. Leaving enigmatic platitudes that provide no guidance as an epitaph to months of work is not exactly going to inspire a generation of after-work app developers to enable a thriving industry and – in conclusion – sell more iPads. &quot;Help us to help you&quot;, I would plead to Apple.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-11.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-11-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-11-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-11-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"857\" class=\"post__img__img\" />\n            </picture>\n          </a><p>On the charger in our hall. its just a bread bin with some holes and a three-way socket inside.</p>\n\n        </figure><h3 id=\"conclusion%2C-and-the-question-remains.\">Conclusion, and the question remains. <a class=\"direct-link\" href=\"#conclusion%2C-and-the-question-remains.\">#</a></h3>\n<p>So with all this hassle, let’s be honest, making iOS a webdev platform is still pushing at boundaries that don’t necessarily have a need to be pushed.</p>\n<p>The latest generation of powerful ultra-light notebooks with familiar desktop OS’s (Windows, Mac, Linux) would allow you to drop your existing workflow straight into a more portable world.</p>\n<p>Microsoft Surface (or similiar) devices would give you a transformable tablet that had a heavyweight OS. <a href=\"https://www.howtogeek.com/424886/windows-10s-linux-kernel-is-now-available/\">Microsoft has embraced Linux</a> in an extraordinary way in 2019, allowing you to marry .NET development with node/NPM based front-end pipelines on a single device.</p>\n<p><a href=\"https://youtu.be/3CWUAisN-vo\">Google Chrome OS has actively courted web developers</a> with an impressive Linux based flow (Docker/Kubernates? no problem). The <a href=\"https://www.google.com/chromebook/device/google-pixelbook/\">Google Pixel</a> is still attractive, even if most ChromeOS hardware is cheap &amp; education orientated and their experiment in building a convertible slate has had <a href=\"https://youtu.be/HOh6d_r63Bw\">crushingly bad reviews</a>.</p>\n<p>So with all these alternative options already available, the question remains. Why bother trying to stretch the envelope of iOS to do web development when even Apple seem to be actively discouraging it?</p>\n<p>It’s not an easy one to logically explain away. But I find it a pleasure to use an iPad. It’s genuinely light, connected and increasingly capable of most tasks, plus Windows and ChromeOS (and their app ecosystems) suck at being tablets. So if the iPad is my preferred device to grab and go – whether to the Coffee shop or Columbia – why would I want to also take another computer on the off-chance I need to fix a bug and re-deploy, or even build that project from scratch that I’ve been itching to try? My iPad is definitely powerful enough, so why not?</p>\n<p>The truth is that most good ideas in tech were just fanboys playing around with what were considered &quot;bad&quot; ideas, until they reached a tipping point and suddenly everyone was doing it. So who’s to say we don’t discover a &quot;new norm&quot; here? God knows we could do with rethinking web-dev tooling and abstracting some of it away. That’s exactly what play.js has done.</p>\n<p>This could still be an evolutionary dead-end – but we don’t know that until we push and see how far we get. And with the progress I’ve seen in the last few years, I believe we could soon see a point when Apple understands what the iPad’s place is in this industry (just as they did with writing, photography and film).</p>\n<p>If that happens, all bets are off.</p>\n<h3 id=\"links\">Links <a class=\"direct-link\" href=\"#links\">#</a></h3>\n<ul>\n<li><a href=\"https://christine.website/blog/coding-on-an-ipad-2018-04-14-2018\">Christine Dodrill’s 2018 article on Emacs and Textastic on the iPad</a></li>\n<li><a href=\"https://link.medium.com/J1C6zSKgU2\">Shane Dowling’s 2018 article on using GoCoEdit, Vim &amp; Emacs on the iPad</a></li>\n<li><a href=\"https://jann.is/ipad-pro-for-programming/\">Jannis Hermanns 2017 article on developing remotely with an iPad</a></li>\n<li><a href=\"http://typicalprogrammer.com/working-on-an-ipad-pro-as-my-main-computer\">Greg Jorgensen’s 2018 article about coding on the iPad…</a></li>\n<li><a href=\"https://news.ycombinator.com/item?id=16741522\">… and the Hacker News thread it resulted in.</a></li>\n<li><a href=\"https://reddit.com/r/iPadPro\">iPad Pro Reddit</a></li>\n<li><a href=\"https://stories.appbot.co/hey-apple-i-tried-the-ipad-pro-as-a-dev-machine-its-almost-awesome-830e424bbed3\">Stuart Hall’s 2016 article that started it all off (for me)</a></li>\n<li><a href=\"https://www.youtube.com/channel/UCT-GpMtIFhX9EMA0Eauevhw\">Tech Craft YouTube channel, covering Pro iPad usage</a></li>\n<li><a href=\"https://ipadpros.net/\">iPadPros Podcast</a></li>\n<li><a href=\"https://theuntitledsite.com/\">Christopher Lawley’s tech/YouTube blog &quot;The untitled site&quot;, which often covers coding on the iPad</a></li>\n<li><a href=\"https://medium.com/@pixelthing/a-perfect-ipad-keyboard-doesnt-exist-a4cbcc127bfa\">My own article on the tricky business of choosing an iPad keyboard</a></li>\n</ul>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-12-xl.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-12-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-12-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-12-xl.jpeg\" loading=\"lazy\" width=\"4000\" height=\"2685\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Apple Magic Keyboard in a Fintie wrap &amp; stand with an iPad Pro 10.5&quot;</p>\n\n        </figure><h3 id=\"footnotes\">Footnotes <a class=\"direct-link\" href=\"#footnotes\">#</a></h3>\n<p>Quote is directly taken from a Patreon page which is not currently live on the web -- but is reproduced with kind permission from the author.</p>\n<aside class=\"aside--less aside--bottom\">\n<p>Be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n",
      "date_published": "2020-01-05T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2020-01-ipad-webdev19-mag/",
      "url": "https://pixelthing.se/posts/2020-01-ipad-webdev19-mag/",
      "title": "FE webdev on iPad (2019)",
      "content_html": "<aside class=\"aside--less\">\n<p>Be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n<p>What a difference a year makes.</p>\n<p>Last year I lead the 2018 round-up by saying that I could not recommend iOS for doing front-end web-dev unless your project fitted a very narrow list of criteria. A year later and that list of use-cases is not only wider, but the work you can get done is far deeper. We’re getting there.</p>\n<p>What has changed has been a combination of things. iPadOS has – for sure – solved a lot of the fundamental problems that previously infuriated the simplest of workflows. But apps (almost exclusively one-person indie apps) have been incrementally developing to fill the gaps, and the innovative workflows discovered by iPad users have been pretty amazing.</p>\n<p>Don’t be fooled – if I was coming to this platform for the first time as a professional web developer, I would still find iOS extremely limited and frustrating. But having seen where we’ve come from, I’m much more positive about the future.</p>\n<p>This is a journey that – as yet – still has no clear destination. But it’s getting more pleasant by the month.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-1-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-1-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"617\" class=\"post__img__img\" />\n            </picture>\n          </a><p>GoCoEdit and a Brydge 10.5&quot; (the best keyboard for using on your lap)</p>\n\n        </figure><h3 id=\"hardware\">Hardware <a class=\"direct-link\" href=\"#hardware\">#</a></h3>\n<p>In 2019, the regular iPads have essentially jumped a tier. All non-pro iPads are now different price-point compromises of the old 10.5&quot; pro, with out-of-the-box keyboard and pen support. The 2019 iPad Air in particular is a Pro in all but name, but they are all &quot;real-work&quot; ready.</p>\n<p>In the iPad Pro range, the top-end has remained unchanged. Or has it? Because the promised USB-C ecosystem is finally emerging and has collided with the new iPadOS. You can now plug your iPad into 5k monitors, hard drives, mice, microphones, USB-sticks, Raspberry Pis, plus a multitude of cheap, powerful, compact power supplies. And with either store-shelf or iPad-bespoke hubs, even with several peripherals at the same time. Your year-old iPad Pro had a free hardware upgrade in 2019.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-2-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-2-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"696\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Felt iPad carry case with dongles (HDMI, USB3.0, SD card) and Moko foldable stand.</p>\n\n        </figure><h3 id=\"ios-is-forked-for-the-ipad\">iOS is forked for the iPad <a class=\"direct-link\" href=\"#ios-is-forked-for-the-ipad\">#</a></h3>\n<p>iPadOS13 made the biggest difference to our ability to get things done this year. We’ve already talked about how the USB-C IO upgrades were nice for those with the latest iPad Pros. And the files app finally understands that you need to get files on and off your iPad in multiple ways. So many smaller details have made life easier for a developer, from the icons not re-arranging on rotating the screen, to Siri shortcuts being supercharged, to no-lag text selection, to keyboard commands everywhere.</p>\n<p>But the biggest plus is the new Safari, not just purely for it’s &quot;desktop class browsing&quot; but because of the multitude of online tools that this has enabled. From <a href=\"https://www.atlassian.com/software/jira\">Jira</a> and <a href=\"https://analytics.google.com/\">Google Analytics</a> to <a href=\"https://glitch.com/\">glitch.com</a> and the hosted version of Visual Code, it’s made the iPad exponentially more capable. It’s like suddenly getting 80% of a ChromeOS tablet on top of your iPad.</p>\n<p>Not everything is super rosey. The multi-tasking is powerful but cognitively taxing. The sandboxing means that apps still have to jump through crazy hoops to work together in a logical way. Background processes are still killed ridiculously early. iPad Pro RAM is unrealistically low compared to the cheapest of laptops. The command line is still <em>verboten</em>. App Store rules are still vague and punitive.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-3.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-3-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-3-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-3-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"631\" class=\"post__img__img\" />\n            </picture>\n          </a><p>A reminder to myself.</p>\n\n        </figure><h3 id=\"one-browser%2C-and-still-only-one\">One browser, and still only one <a class=\"direct-link\" href=\"#one-browser%2C-and-still-only-one\">#</a></h3>\n<p>One thing that didn’t change this year was the range of browsers on the platform. WebKit is still the only rendering engine available on iOS, Safari still has no devtools and you still can’t have Safari Technical Preview on iOS.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-4.png\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-4-sm.png\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-4-lg.png\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-4-xl.png\" loading=\"lazy\" width=\"1169\" height=\"512\" class=\"post__img__img\" />\n            </picture>\n          </a>\n        </figure><p>The <a href=\"https://twitter.com/slightlylate\">Google engineer Alex Russell</a> has strong views on Safari and iOS – and a lot of fan boys (like me) can get twitter-rage as a response. But although I might not always agree, I like Alex. Not only is he smart but he backs up points with data, and that should always deserve your consideration, whether you agree with his conclusions or not.</p>\n<p>And on one point, Alex is always right. Having one browser engine on iOS is a mistake. Quite apart from being an anti-trust suit in the waiting, the entire web capability of the platform is locked down to the decisions made in a single meeting room in Cupertino. Fairs fair, that weekly backlog meeting of project managers pretty much delivered the mobile web -- fully formed -- back in 2007 and has continued to push it forward. But now it’s time to let others have a competing voice.</p>\n<p>If we also had Chromium on iOS, we wouldn’t be celebrating finally using &quot;real&quot; GoogleDocs in 2019, because we’d have had it years ago. We might also have 4K YouTube and devtools. And so would Safari, probably (because; competition). All of that would mean selling more iPads to pros. And Safari would still rule for most iPad users because even for a default it’s capable, fast, has low battery consumption, and it’s the webview in every single social app that you own. Do it, you cowards (it’s a meme, I don’t really talk or think like that).</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-5.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-5-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-5-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-5-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"429\" class=\"post__img__img\" />\n            </picture>\n          </a><p>We live in an imperfect world. The 9 month old crack on my 10.5&quot;. At least it’s undetectable by touch over most of the screen. Here’s hoping the 2020 iPad Pro is coming soon.</p>\n\n        </figure><h3 id=\"methods-to-develop-sites-on-ipad\">Methods to develop sites on iPad <a class=\"direct-link\" href=\"#methods-to-develop-sites-on-ipad\">#</a></h3>\n<p>Enough of the fundamentals. Let’s take some apps, some projects in source control, and mash them up into a workflow.</p>\n<p>There are plenty of apps that carry out individual parts of a developer’s workflow just fine. This – after all – is how you often string together a workflow on a desktop OS; an editor, a browser, a git client, a server, etc. But iOS constraints mean single-function apps are often not productive. This is because if you need more than two apps in your flow, one will need to be in the background – at least part of the time – and background apps are killed ruthlessly after 3 minutes. This has lead to apps often having second or third talents that are best not to kill unexpectedly; for example editor apps having a terminal, or web server, or most often – both. It means one or two apps can stay in the foreground whilst they carry out the functions of many.</p>\n<p>Killing background processes is an artificial constraint of the OS – iPads are no longer the resource constrained devices they used to be, so it would be good if Apple allowed more categories of apps to remain in the background in some way like audio apps can.</p>\n<p>Next we also need apps to open files via the OS level &quot;edit in place&quot; API so that an IDE can work directly on files in a local repo (and just to be difficult, this API changed in iOS13, so any app that previously supported it needs an update). I consider this the basic requirement now of any pro app.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-6.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-6-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-6-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-6-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"644\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Microsoft VS Code running plug-ins on an iPad? Well, yes - kind of.</p>\n\n        </figure><p>The following list of workflows is absolutely not a prescription for the best ways of working, or even to scratch the breadth of ways to do front-end web development on an iPad. Like last year, consider them recipes – a little light inspiration to consider remixing to your own taste.</p>\n<p>And because they deserve they’re own space to understand their pros and cons, each is linked to their own article or screencast.</p>\n<ul>\n<li>Working with a remote server or Virtual Private Server (VPS)</li>\n<li>One way to get around iOS not running a a command line and a front-end tool chain like Node.js, is to work with a server hosted elsewhere. This results in workflows that are based around a remote server or a VPS.</li>\n<li>Full review: VPS, Microsoft VS Code (Hosted version), remote Git</li>\n<li>VPS, Emacs, remote Git (I don’t have much to say apart from use Blink and Mosh, they’re awesome)</li>\n<li>Full review: Continuous Deployment with Netlify, Github hooks, Working Copy, Textastic</li>\n<li>Full review: AWS S3, Panic Coda</li>\n<li>Screencast from 2018: VPS, Working Copy, Textastic (using Textastic to manually-upload)</li>\n<li>Screencast from 2018: VPS, Working Copy, Textastic (using Working Copy to auto-upload)</li>\n</ul>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-7.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-7-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-7-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-7-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"765\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Raspberry Pi 3B+ with Anker 10Ah battery pack. Pilot biro grip on the Apple Pencil.</p>\n\n        </figure><h3 id=\"working-on-a-semi-remote-server\">Working on a semi-remote server <a class=\"direct-link\" href=\"#working-on-a-semi-remote-server\">#</a></h3>\n<ul>\n<li>Full review: Raspberry Pi as a replacement for a VPS.</li>\n</ul>\n<h3 id=\"working-fully-local-on-the-ipad\">Working fully local on the iPad <a class=\"direct-link\" href=\"#working-fully-local-on-the-ipad\">#</a></h3>\n<ul>\n<li>Full review: Node.js/React: Working Copy, Play.js</li>\n<li>Full review: Flat websites: Working Copy, GoCoEdit<br>\nScreencast from 2018: Flat websites: Working Copy (preview server), Textastic</li>\n<li>Screencast from 2018: Flat websites: Working Copy (webDAV server), Textastic</li>\n<li>Screencast from 2018: Flat websites: Textastic (preview server)</li>\n<li>Screencast from 2018: Flat websites: Panic Coda (preview server)</li>\n</ul>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-8.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-8-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-8-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-8-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"625\" class=\"post__img__img\" />\n            </picture>\n          </a><p>MacBook Pro 13&quot; 2014, MacBook Air 2019, MacBook Air 11&quot; 2011, iPad Pro 10.5&quot;. Which is fastest?</p>\n\n        </figure><h3 id=\"honourable-mentions\">Honourable mentions <a class=\"direct-link\" href=\"#honourable-mentions\">#</a></h3>\n<p>There are a few other apps that have caught my eye this year, and are worth mentioning. I’m sure you could probably add many more for particular areas you work in – for instance there is a huge range of dedicated GitHub apps that let you monitor pull-requests and the like, documentation apps like <a href=\"https://kapeli.com/dash_ios\">Dash</a>, and full IDEs for languages such as Python (<a href=\"http://omz-software.com/pythonista/\">Pythonista</a>) and PHP (<a href=\"https://solesignal.com/draftcode/\">Draftcode</a>).</p>\n<ul>\n<li><a href=\"https://workingcopyapp.com/\">Working Copy</a>: still the best Git client on iOS, thankfully the most accomplished at integrating all the latest iOS APIs, because it’s the hub of most web-dev work on the iPad.</li>\n<li><a href=\"https://secureshellfish.app/\">Secure Shellfish</a>: from the developer of Working Copy, it makes SFTP servers appear as if they were just another drive in your Files app (or your app file picker).</li>\n<li><a href=\"https://apps.pdyn.net/inspect/\">Inspect browser</a>: The closest thing to Chrome dev-tools you’ll get on iOS, and getting closer all the time.</li>\n<li><a href=\"https://termius.com/\">Termius</a>, <a href=\"https://www.blink.sh/\">Blink</a>: Termius is the SSH tool for cross platform pros that prefer a GUI. Blink is for the genuine command line geeks who never want to see as much as a button, and is freakishly good at keeping a Mosh connection open -- it defies explanation.</li>\n<li><a href=\"https://kodex.app/\">Kodex</a>: A great standalone code editor. It doesn’t really fit any of my work (yet), but it’s has promise.</li>\n</ul>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-9.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-9-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-9-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-9-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"933\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Play.js running a web React project, with it’s browser showing the result on the right. This really is Node.js running locally on iPadOS -- a major step forward.</p>\n\n        </figure><h3 id=\"what-we%E2%80%99re-missing\">What we’re missing <a class=\"direct-link\" href=\"#what-we%E2%80%99re-missing\">#</a></h3>\n<p>Play.js might have finally brought Node.js and React (web) development to iOS, but it’s not (yet) a replacement for other tool chains. There’s still no way of locally running Gulp, Grunt, Rollup, Vue, Docker, K8s, etc, on an iPad, and that’s a lot of holes. If you need any of these, you’ll currently need to think about something like a VPS.</p>\n<p>In the IDE apps, we’re still missing the basic capability of multi-file text search/replace. After all, the hardest task in programming is naming things. The tag-complete/auto-suggest is of variable quality across IDEs and app extension systems will not get traction on the platform if it remains this small (Coda had one, unfortunately it didn’t have many plug-ins).</p>\n<p>All of the above things do exist in the hosted version of VS Code, as detailed above, largely because it all happens remotely on a Linux server. However it also comes with its own drawbacks – not least not currently having any keyboard shortcuts.</p>\n<p>But at least we’re getting there in the IDE space. When it comes to Browser developer tools, we’re still a way off. The great <a href=\"https://apps.pdyn.net/inspect/\">Inspect Browser</a> is still gaining new functionality steadily, but we’re still a long way from having the same insight into what a web page is doing like we have on desktop. In particular, we’re missing perf tools, heap measurements, JS debugger, indexedDB storage viewing, PWA tools, code line references in console logs, and more.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-10.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-10-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-10-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-10-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"1295\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Don’t feel locked into landscape mode -- the iPad is more flexible than that. (Textastic on screen)</p>\n\n        </figure><h3 id=\"%22the-ios-way%22\">&quot;the iOS way&quot; <a class=\"direct-link\" href=\"#%22the-ios-way%22\">#</a></h3>\n<p>Apple still doesn’t appear to see the web development industry as part of the &quot;Pro&quot; in iPad Pro. They continue to lay obstructions that discourage web developers to do much more than dabble in iOS. This is never better demonstrated than by Carlos Vidal, the author of the Play.js app where he describes the struggle to build a web development IDE, with NPM:</p>\n<blockquote>\n<p>On top of this, in an attempt to support most of the npm features, Apple threw away the work of two months by rejecting the binary and asking me to go back to the drawing board and offer that experience &quot;the iOS way&quot;. (footnote 1)</p>\n</blockquote>\n<p>Play.js is the closest thing to a local Node.js/NPM environment on iOS, and does it in a way that’s very far from carrying out <code>brew install</code> and <code>npm i</code> at a bash prompt. Write a package.json file, hit &quot;play&quot; and it’ll do the rest – it’s as close to the iOS way as you could be with a Node.js project.</p>\n<p>The positive person in me says that this hard-arse stance has actually led to new ways of looking at workflows that we never even considered reevaluating before. Play.js is the embodiment of this.</p>\n<p>Alternatively you could ask what the kind of direction is that to give. Leaving enigmatic platitudes that provide no guidance as an epitaph to months of work is not exactly going to inspire a generation of after-work app developers to enable a thriving industry and – in conclusion – sell more iPads. &quot;Help us to help you&quot;, I would plead to Apple.</p>\n\n        <figure class=\"post__img\">\n          <a href=\"../../img/2020-01-ipad-webdev19-11.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-11-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-11-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-11-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"857\" class=\"post__img__img\" />\n            </picture>\n          </a><p>On the charger in our hall. its just a bread bin with some holes and a three-way socket inside.</p>\n\n        </figure><h3 id=\"conclusion%2C-and-the-question-remains.\">Conclusion, and the question remains. <a class=\"direct-link\" href=\"#conclusion%2C-and-the-question-remains.\">#</a></h3>\n<p>So with all this hassle, let’s be honest, making iOS a webdev platform is still pushing at boundaries that don’t necessarily have a need to be pushed.</p>\n<p>The latest generation of powerful ultra-light notebooks with familiar desktop OS’s (Windows, Mac, Linux) would allow you to drop your existing workflow straight into a more portable world.</p>\n<p>Microsoft Surface (or similiar) devices would give you a transformable tablet that had a heavyweight OS. <a href=\"https://www.howtogeek.com/424886/windows-10s-linux-kernel-is-now-available/\">Microsoft has embraced Linux</a> in an extraordinary way in 2019, allowing you to marry .NET development with node/NPM based front-end pipelines on a single device.</p>\n<p><a href=\"https://youtu.be/3CWUAisN-vo\">Google Chrome OS has actively courted web developers</a> with an impressive Linux based flow (Docker/Kubernates? no problem). The <a href=\"https://www.google.com/chromebook/device/google-pixelbook/\">Google Pixel</a> is still attractive, even if most ChromeOS hardware is cheap &amp; education orientated and their experiment in building a convertible slate has had <a href=\"https://youtu.be/HOh6d_r63Bw\">crushingly bad reviews</a>.</p>\n<p>So with all these alternative options already available, the question remains. Why bother trying to stretch the envelope of iOS to do web development when even Apple seem to be actively discouraging it?</p>\n<p>It’s not an easy one to logically explain away. But I find it a pleasure to use an iPad. It’s genuinely light, connected and increasingly capable of most tasks, plus Windows and ChromeOS (and their app ecosystems) suck at being tablets. So if the iPad is my preferred device to grab and go – whether to the Coffee shop or Columbia – why would I want to also take another computer on the off-chance I need to fix a bug and re-deploy, or even build that project from scratch that I’ve been itching to try? My iPad is definitely powerful enough, so why not?</p>\n<p>The truth is that most good ideas in tech were just fanboys playing around with what were considered &quot;bad&quot; ideas, until they reached a tipping point and suddenly everyone was doing it. So who’s to say we don’t discover a &quot;new norm&quot; here? God knows we could do with rethinking web-dev tooling and abstracting some of it away. That’s exactly what play.js has done.</p>\n<p>This could still be an evolutionary dead-end – but we don’t know that until we push and see how far we get. And with the progress I’ve seen in the last few years, I believe we could soon see a point when Apple understands what the iPad’s place is in this industry (just as they did with writing, photography and film).</p>\n<p>If that happens, all bets are off.</p>\n<h3 id=\"links\">Links <a class=\"direct-link\" href=\"#links\">#</a></h3>\n<ul>\n<li><a href=\"https://christine.website/blog/coding-on-an-ipad-2018-04-14-2018\">Christine Dodrill’s 2018 article on Emacs and Textastic on the iPad</a></li>\n<li><a href=\"https://link.medium.com/J1C6zSKgU2\">Shane Dowling’s 2018 article on using GoCoEdit, Vim &amp; Emacs on the iPad</a></li>\n<li><a href=\"https://jann.is/ipad-pro-for-programming/\">Jannis Hermanns 2017 article on developing remotely with an iPad</a></li>\n<li><a href=\"http://typicalprogrammer.com/working-on-an-ipad-pro-as-my-main-computer\">Greg Jorgensen’s 2018 article about coding on the iPad…</a></li>\n<li><a href=\"https://news.ycombinator.com/item?id=16741522\">… and the Hacker News thread it resulted in.</a></li>\n<li><a href=\"https://reddit.com/r/iPadPro\">iPad Pro Reddit</a></li>\n<li><a href=\"https://stories.appbot.co/hey-apple-i-tried-the-ipad-pro-as-a-dev-machine-its-almost-awesome-830e424bbed3\">Stuart Hall’s 2016 article that started it all off (for me)</a></li>\n<li><a href=\"https://www.youtube.com/channel/UCT-GpMtIFhX9EMA0Eauevhw\">Tech Craft YouTube channel, covering Pro iPad usage</a></li>\n<li><a href=\"https://ipadpros.net/\">iPadPros Podcast</a></li>\n<li><a href=\"https://theuntitledsite.com/\">Christopher Lawley’s tech/YouTube blog &quot;The untitled site&quot;, which often covers coding on the iPad</a></li>\n<li><a href=\"https://medium.com/@pixelthing/a-perfect-ipad-keyboard-doesnt-exist-a4cbcc127bfa\">My own article on the tricky business of choosing an iPad keyboard</a></li>\n</ul>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2020-01-ipad-webdev19-12-xl.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2020-01-ipad-webdev19-12-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2020-01-ipad-webdev19-12-lg.jpeg\" />\n              <img src=\"../../img/2020-01-ipad-webdev19-12-xl.jpeg\" loading=\"lazy\" width=\"4000\" height=\"2685\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Apple Magic Keyboard in a Fintie wrap &amp; stand with an iPad Pro 10.5&quot;</p>\n\n        </figure><h3 id=\"footnotes\">Footnotes <a class=\"direct-link\" href=\"#footnotes\">#</a></h3>\n<p>Quote is directly taken from a Patreon page which is not currently live on the web -- but is reproduced with kind permission from the author.</p>\n<aside class=\"aside--less aside--bottom\">\n<p>Be sure to check out the 2020 version of front-end web dev on iPad.</p>\n</aside>\n",
      "date_published": "2020-01-05T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2019-08-rc-cars-frog/",
      "url": "https://pixelthing.se/posts/2019-08-rc-cars-frog/",
      "title": "My long journey with the Tamiya Frog",
      "content_html": "<p>In 1987 I bought a second-hand Tamiya Frog from a friend of a friend.</p>\n<h2 id=\"1.-marlboro-man\">1. Marlboro man <a class=\"direct-link\" href=\"#1.-marlboro-man\">#</a></h2>\n\n      <section class=\"list gallery \">\n        \n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-1-lg.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-1-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article><h2 id=\"2.-chenworth-disaster\">2. Chenworth disaster <a class=\"direct-link\" href=\"#2.-chenworth-disaster\">#</a></h2>\n\n      <section class=\"list gallery \">\n        \n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-1a-lg.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-1a-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article><h2 id=\"3.-second-chance\">3. Second chance <a class=\"direct-link\" href=\"#3.-second-chance\">#</a></h2>\n\n      <section class=\"list gallery \">\n        \n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-2-xl.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-2-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article>\n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-2a-lg.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-2a-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article><h2 id=\"4.-gearbox-hyjinx\">4. Gearbox hyjinx <a class=\"direct-link\" href=\"#4.-gearbox-hyjinx\">#</a></h2>\n\n      <section class=\"list gallery \">\n        \n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-3a-lg.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-3a-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article>\n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-3b-lg.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-3b-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article><h2 id=\"5.-the-ultimate\">5. The ultimate <a class=\"direct-link\" href=\"#5.-the-ultimate\">#</a></h2>\n\n      <section class=\"list gallery \">\n        \n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-4a-xl.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-4a-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article>\n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-4b-lg.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-4b-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article>\n        <article class=\"list__item gallery__img\">\n          <a href=\"../../img/2019-08-rc-cars-frog-photo-4c-xl.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link  post__gallery__link\">\n            <img src=\"../../img/2019-08-rc-cars-frog-photo-4c-tb.jpeg\" loading=\"lazy\" width=\"665\" height=\"500\" class=\"post__gallery__img__img\" />\n          </a>\n        </article><p>this is the outro</p>\n",
      "date_published": "2019-08-01T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2016-04-seiko-pomo/",
      "url": "https://pixelthing.se/posts/2016-04-seiko-pomo/",
      "title": "My Seiko SNK Po-mo",
      "content_html": "<p>I don’t scuba, or pilot a plane, or skipper a ship.</p>\n<p>That being so, &quot;tool watches&quot; (as watch enthusiasts call them) such as true divers’, aviators’ or sailors’ watches would be lost on me -- or at least merely a bit of fantasy on my part. That’s not to say their core features aren’t useful to me, but being waterproof doesn’t mean I need a watch to withstand diving to great depths, just as being easy-to-read in the dark doesn’t mean I need NATO standard radioactive promethium coated minute hands. Or the associated price.</p>\n<p>But if I could be presumptuous for a moment, I’d add a new tool watch category -- the &quot;parent watch&quot;. The requirements are many but not too demanding; it has be splash proof, to be readable all through the night to separate &quot;go back to bed&quot; from &quot;we’ll get up soon&quot;. It should be comfortable enough to wear 24 hours-a-day and to be discrete enough that playing with your kids doesn’t risk accidentally leaving them with the imprint of a 45mm gnarled bezel on their heads. Oh, and it should be cheap enough to not cause panic attacks when it becomes splattered in porridge.</p>\n<p>So I made one. But how did I get here?</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2016-06-seiko-pomo-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2016-06-seiko-pomo-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2016-06-seiko-pomo-1-lg.jpeg\" />\n              <img src=\"../../img/2016-06-seiko-pomo-1-xl.jpeg\" loading=\"lazy\" width=\"1920\" height=\"738\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The luminous dial and hands start with an astonishing brightness, but within minutes settle down to a readable glow for the whole night.</p>\n\n        </figure><h2 id=\"the-background\">The background <a class=\"direct-link\" href=\"#the-background\">#</a></h2>\n<p>I’m one of those people that was drawn into the world of mechanical watches because I was interested in the Apple watch. Wait, what?</p>\n<p><em>Let me explain.</em></p>\n<p>Before this moment, I’d worn a Swatch chrono on my wrist for over a decade and never even bothered to ask what the buttons did. But the Apple watch was launched with much referential talk of &quot;horology&quot;, &quot;complications&quot; and &quot;milanese bands&quot; that was hard to ignore. It’s almost as though Apple wanted not just nerds like me, but Omega Speedmaster owners to take their little touch-screen seriously. Which of course, Apple did. In any case, all that romantic talk of precision and craft sparked my need to find out more about this arcane world.</p>\n<p>To be honest, I am neither rich, nor insane, so Swiss classics are out of my budget. So if you’re looking for a mechanical automatic watch and happen to also be a cheapskate, you have two routes. You either buy a Chinese &quot;homage&quot; or you look at a Seiko.</p>\n<p>To cut a long story short, I learned of the Seiko &quot;modding&quot; sub-culture where people swap out watch components to make new twists on existing designs. It appealed on a number of levels; the watches that served as the donor were well-regarded but pretty cheap, a custom watch has your own personal touch, and best of all it makes you feel more skilled than you actually are.</p>\n<hr>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2016-06-seiko-pomo-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2016-06-seiko-pomo-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2016-06-seiko-pomo-2-lg.jpeg\" />\n              <img src=\"../../img/2016-06-seiko-pomo-2-xl.jpeg\" loading=\"lazy\" width=\"1920\" height=\"1116\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The 37mm Seiko SNK against the 43mm Seiko SKX. Same face, different effect.</p>\n\n        </figure><h2 id=\"the-pre-cursor\">The pre-cursor <a class=\"direct-link\" href=\"#the-pre-cursor\">#</a></h2>\n<p>So here’s the confession. Along the way I did succumb to buying the classic Seiko divers watch -- the SKX007. It was a bargain and I hadn’t yet convinced myself I could even attempt to modify a watch of my own.</p>\n<p>It’s known for it’s highly legible display with super bright indices and hands that glow far into the night.</p>\n<p>And I love it -- but… it’s after owning the SKX I realised I didn’t want to always look like I had a big, flash watch on my wrist. I also often felt quite aware that I had a heavy chunk of steel which was somewhat awkward under a shirt sleeve, as well as quite the accidental weapon when tumbling around with the kids.</p>\n<p>But more than that, something never quite sat right with me about the design. The indices are so geometric, so simple. They seem at odds with the elaborate chromed arrow hands, and the visual clutter of the chapter ring and bezel. Also, the centre area seemed fussy with the simple black disc of the second hand on top of a mess of different chrome shapes. Hmm…</p>\n<p>The sweep of a mechanical watch is rather nice compared to the ticking seconds of a quartz.</p>\n<hr>\n<h2 id=\"the-watch\">The watch <a class=\"direct-link\" href=\"#the-watch\">#</a></h2>\n<p>The bill of parts:</p>\n<ul>\n<li>Seiko SNK809K2 from Amazon</li>\n<li>Dial from a Seiko SKX009 from eBay</li>\n<li>Hour and minute hands from Dagaz watches with C3 lume</li>\n<li>Second hand from a Seiko SKX009 (came with the dial)</li>\n<li>Cheap grey NATO-style nylon strap from eBay</li>\n</ul>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2016-06-seiko-pomo-3.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2016-06-seiko-pomo-3-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2016-06-seiko-pomo-3-lg.jpeg\" />\n              <img src=\"../../img/2016-06-seiko-pomo-3-xl.jpeg\" loading=\"lazy\" width=\"452\" height=\"250\" class=\"post__img__img\" />\n            </picture>\n          </a><p>An original Seiko SNK809K2</p>\n\n        </figure><p>The SNK809 is a smallish (37mm) &quot;Fleiger&quot; aviator style watch with a nasty-ish fabric strap and a self-winding automatic 7S26C movement. It’s ridiculously cheap and yet still quite well regarded among watch people. Personally, I don’t like the face, the hands or the strap. But the case is a different matter, it’s a clean, simple design with a nice matt finish and a windowed &quot;display back&quot; so you can see the mechanism moving.</p>\n<p>The dial I chose is a direct swap from an SKX diver like mine. Well, actually it was from an SKX009, not a 007, hence the very slight blueish colour. This diver’s face looks bigger in the smaller SNK body, and the design is even more minimal without the minute markings on the chapter ring of the dive watch. Incidentally, I chose the SNK809 as the donor because it’s the only SNK that has a black day/date rotor. It’s actually harder to read than the more normal (and cheaper) white day/date model, but to hell with it, it looks great under the black dial.</p>\n<p>Some people get annoyed by issues like this dial having &quot;Divers 200m&quot; printed on it, when it’s actually more like 5m in this watch. I can’t say I care too much about what it says here, any more than when it was on a real diver’s watch. I’ve never seen 5m deep, let alone 200m.</p>\n<blockquote>\n<p>having bright white hands and off-white indices would just remind me that this was a mish-mash</p>\n</blockquote>\n<p>The hour and minute hands are from Dagaz, who make a bewildering array of modding items for watches like this. I wanted hands that were geometrically clean and easy to tell-apart with an orange-red minute hand to match the text on the dial. I also wanted to them to have close to the same type of luminescent paint as used on the Seiko dial. This was just a detail tick of mine, not only would the glow of the dial and hands match, but in sunlight they’d have the same very slightly pale green appearance. It's not a big deal, but having bright white hands and off-white indices would just remind me that this was a mish-mash. No thanks.</p>\n<p>It’s the second hand that brings it all together. The one that came with the custom hands from Dagaz was rejected for it’s fussy design. The original one from the SNK had a red tip that just added too much colour when partnered with the minute hand. But the SKX second hand was perfect. It has a simple tapered black and white design and a lumed &quot;lollipop&quot; that almost appears to hover in the middle of no-where. Also, the second hand’s centre disc seemed made for this combination, just hiding the conjunction, but highlighting the shape of the brighter coloured hands below it.</p>\n<p>The crystal is unchanged Seiko mineral glass. I like the look of the slightly domed SNK mods, but it seemed like one job too many for this first attempt. Besides, it failed the cost vs worth test, as well as requiring me to buy more tools.</p>\n<p>The current strap is a cheap NATO-style nylon strap. It’s comfortable, secure, waterproof (or at least quick-dry) and so cheap it’s practically disposable.</p>\n<hr>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2016-06-seiko-pomo-4.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2016-06-seiko-pomo-4-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2016-06-seiko-pomo-4-lg.jpeg\" />\n              <img src=\"../../img/2016-06-seiko-pomo-4-xl.jpeg\" loading=\"lazy\" width=\"1920\" height=\"701\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Cheap tools from Amazon and eBay made it all possible.</p>\n\n        </figure><h2 id=\"building-the-watch\">Building the watch <a class=\"direct-link\" href=\"#building-the-watch\">#</a></h2>\n<p>It still rattles my mind that when I was a kid, discovering anything extra-curricular was largely down to the pure chance of stumbling onto a book in my small-town library. Actively researching something was hoping for an act of divine intervention.</p>\n<p>Back to the present day, and within a couple of hours I’d watched enough YouTube videos to know the process, the tools and the potential pitfalls of taking a watch and swapping parts around, plus decided on a design from doing searches on Pinterest and the like. Amazon and eBay supplied the base model, hands, dial and tools, all for well under €150. Getting a dial and hands from an SKX is easy. It’s the most common model to modify, so unwanted stock parts are often on eBay.</p>\n<p>The first attempt felt like victory, before reminding me that doing anything the night before you go on holiday is never a good idea. Basically, it looked nice but didn’t work. Finding another quiet couple of hours to fix it in a regular home with two lovely kids meant waiting another month. But eventually, time was found, and round-two proved more successful.</p>\n<p>The process didn’t require a craftsman level of skill, but did take a bit of nerve as -- unsurprisingly -- watches are very small things, made of even smaller things. A steady hand, or alternatively many, many attempts and quiet swearing (plus cups of tea), were needed to accurately place the new hands without wrecking them or the dial.</p>\n<p>My first attempt went wrong because I was proudly looking at my handiwork from the top, not the side. I’d missed that the hour and minute hand rubbed very slightly when they crossed, so the watch started by losing a bit of time, and after the spring wound down a bit and wasn’t so powerful, it stopped. It didn’t even last a night, let alone have the advertised &quot;40 hour power reserve&quot;. The second attempt required some fettling to remove, re-set and lightly bend all the hands so they cleared each other, but it resulted in a watch that at least reached the minimum requirement; to tell the time.</p>\n<p>I’m so glad the mechanism is tough, because it’s been in and out of it’s case so many times. The only two other things that took getting used to were the fear of dust and the fear of moving the winding rotor and having to wait for the damn spring to wind-down again. I can see the real craft in this is getting a workflow to reduce these fears and not find yourself holding a delicate device with two hands and nowhere dust-free to place it.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2016-06-seiko-pomo-5.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2016-06-seiko-pomo-5-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2016-06-seiko-pomo-5-lg.jpeg\" />\n              <img src=\"../../img/2016-06-seiko-pomo-5-xl.jpeg\" loading=\"lazy\" width=\"1920\" height=\"958\" class=\"post__img__img\" />\n            </picture>\n          </a><p>My Seiko SNK Po-mo</p>\n\n        </figure><h2 id=\"the-conclusion\">The conclusion <a class=\"direct-link\" href=\"#the-conclusion\">#</a></h2>\n<p>If becoming interested in watches has taught me anything, it’s that no amount of ideas or photos will tell you what it really looks like until it’s in front of you, on your own wrist.</p>\n<p>My little Seiko has turned out more post-modern-style -- hence po-mo -- than I imagined. The simple shapes and bright duo-tone colours give it an almost toy-like appearance. Happily, it also appeared much, much more finished than even I had hoped; to my eyes it doesn’t look like the frankenstein of parts that it is (a common pitfall of many modded watches). The dial design is echoed in the profile of the hands, and the colours and lume fit together like there were from the same pots of paint.</p>\n<p>The watch continues to do sterling duty, keeping good time, staying bright at night, and generally making me smile. Come to think of it, maybe that’s the real reason I want to call it a &quot;parent watch&quot;; it’s a product of my very own – other watches are fine, but a prick of pride tells me that &quot;yes, but they’re not like mine&quot;.</p>\n",
      "date_published": "2016-04-17T00:00:00+00:00"
    },{
      "id": "https://pixelthing.se/posts/2015-04-few-dollars-less/",
      "url": "https://pixelthing.se/posts/2015-04-few-dollars-less/",
      "title": "For a few dollars less.",
      "content_html": "<p>But let’s focus on the ingenuity and pragmatism of some unknown manufacturing engineers and the signatures they left in the chairs they made.</p>\n<p>This is a story about the Eames DSW side chair design. Ray and Charles Eames were renowned designers in the 1940s and 50s, producing many objects, buildings and films that often have the word &quot;iconic&quot; attached to them. Among their most popular designs are a series of plastic <strong>†</strong> side chairs that you’ve doubtless seen, sat-in or even bought, with various bases made out of different combinations of wire and wood. The range was designed at the end of the 1940’s for a Museum of Modern Art low-cost furniture competition, and they embody the Eames’ goal of &quot;Getting the most of the best to the greatest number of people for the least&quot; .</p>\n<p>The &quot;DSW plastic side chair&quot; you see here is often referred to as a wooden eiffel, and with it’s combination of pale maple wood, comfortable curves and intricate wires, it will grace a photoshoot somewhere in any damned interior design magazine you happen to pick up. I’m not even kidding.</p>\n<p>The patents for most Eames furniture remain with Herman Miller in the states, and Vitra in Europe, and they still distribute most of the plastic side chair range. You can buy an &quot;original&quot; DSW plastic side chair -- evolved from the 65 year-old design -- today for around £280/$440.</p>\n<h2 id=\"enter-the-pirates\">Enter the pirates <a class=\"direct-link\" href=\"#enter-the-pirates\">#</a></h2>\n<p>Pricing like this gives rise to the sort of laws of supply and demand that are not often taught in business schools. A plastic side chair that costs you over a £1000 to complete even a small table, is being displayed to a hungry, decadent middle class, over and over in perfect kitchens and delightful dining rooms. The inherent design of the chair makes it easy to copy and mass produce at low cost (that was, after all, it’s purpose). Enter the pirates.</p>\n<p>It’s not clear if it started with companies in China, but it soon became the most obvious place to produce copies. Various faceless factories started shipping copies of design classics like the DSW in huge quantities at a fraction of the original price.</p>\n<p>The design industry is trying to clamp down on this business, with some effect. But it still hangs around for the moment.</p>\n<p>Six years ago, I wanted a piece of this design-life to be my-life in London. I bought a &quot;knock-off&quot; Eames DSW as a desk chair for £60/$90. Now I’m living in Sweden, and I’ve just bought four more (shipped from the UK) for our dining table, for £30/$45 each. That’s quite a saving. Meanwhile, I can still admire the full-cost, real thing at the office of my day-job.</p>\n<blockquote>\n<p>And with these three chairs, I can see the story behind the object.</p>\n</blockquote>\n<p>Looking at all three, I imagine a timeline of decisions and cost-savings. They are the results of continuous feedback and market demands. And I can’t help applauding the engineers involved, who took decisions about what compromises consumers will accept, whilst shaving serious money off production costs.</p>\n<p>Lets walk through these three chairs and see what that extra money buys you (discounting the intellectual property cost -- and I know how that sounds -- to concentrate on the production design aspect). We’ll call them <strong>Mr Vitra</strong> (£280/$440), <strong>Mr Cheap</strong> (£60/$90) and <strong>Mr Pennies</strong> (£30/$45).</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2015-06-few-dollars-less-1.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2015-06-few-dollars-less-1-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2015-06-few-dollars-less-1-lg.jpeg\" />\n              <img src=\"../../img/2015-06-few-dollars-less-1-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"533\" class=\"post__img__img\" />\n            </picture>\n          </a><p>These are not just &quot;inspired by&quot; repros, it’s clear these share the exact same dimensions and design. These are copies.</p>\n\n        </figure><p>The plastic shell is the first stop. The shell on Mr Pennies is not quite the nice original chalky colour, more a brilliant white -- but it’s clean and consistent across all four chairs.</p>\n<p>Lets talk about colour fade. Mr Vitra is said to never change colour. But at least in the reproductions, it’s such a common problem that it should be considered an expectation <strong>✢</strong>. I actually look at the cream tinted Mr cheap now and feel it has more character than the brand new Mr Pennies -- a little like leather furniture does after time. You may feel differently.</p>\n<p>Mr Pennies has a smoother satin texture than the others, but all three have identical dimensions and shapes. To sit on, you’d never tell the difference, and the suspension effect of the base means that none of the chairs will ever be unbalanced once you sit down. And they all creak in pretty much the same way when you sit on them.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2015-06-few-dollars-less-2.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2015-06-few-dollars-less-2-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2015-06-few-dollars-less-2-lg.jpeg\" />\n              <img src=\"../../img/2015-06-few-dollars-less-2-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"533\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Injection moulding nub, clearly visible on Mr Vitra and Mr Pennies</p>\n\n        </figure><p>Mr Vitra has clear manufacturer stamps on the bottom with a serial and date of production, as well a faint injection moulding nub, where the plastic entered the mould. Mr Pennies has a similar nub in the same place, although rougher and much more obvious. So what we have here is production tooling designed to give large scale production, consistent quality and a quick turn-around -- inject, cool, snap-off, repeat.</p>\n<p>Strangely, the middle cost chair has no visible nub so I can only assume it’s somehow hidden and/or machined off. Was this a case of a production engineer feeling they could improve on the original? Whatever the reason, it would inherently add extra time and an extra process so it’s unsurprising that in the later, cheaper, Mr Pennies, the nub returned to somewhere uglier, quicker and less likely to cause rejects.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2015-06-few-dollars-less-3.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2015-06-few-dollars-less-3-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2015-06-few-dollars-less-3-lg.jpeg\" />\n              <img src=\"../../img/2015-06-few-dollars-less-3-xl.jpeg\" loading=\"lazy\" width=\"2000\" height=\"762\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Sink holes, where the leg joints cool at a different rate to the rest of the shell</p>\n\n        </figure><p>All three variations have visible sink holes on the top surface where the leg joints cool at a different rate to the thin skinned shell, although they’re less visible on Mr Cheap.</p>\n<blockquote>\n<p>it’s neat where it’s visible, and cheap and quick where it’s hidden.</p>\n</blockquote>\n<p>The legs on Mr Vitra are nicely finished in maple with all the chamfers and slots smoothly cut. The finishing on the reproductions’ wooden legs are quite frankly close to that of the dearer cousin, but Mr Pennies is much more pink colour which is obviously not maple. In addition, both the cheaper chairs have rough cuts to fit the top brackets, which are also clearly of lower quality than Mr Vitra. Like the other parts of the reproductions, it’s neat where it’s visible, and cheap and quick where it’s hidden.</p>\n<p>Legs bolts vary massively between the chairs. As with all photography, different light can alter the apparent colour, and Mr Pennies’ legs do not generally appear as pink as they appear here.</p>\n<p>The outside leg fixings (above) show the clearest differences between the three. Mr Vitra has black powder-coated cross head bolts that match the rest of the fixings (Herman Miller versions often use chrome instead). The bolts on Mr Cheap are different -- but not unattractive -- allen bolts in more of a dark steel colour. On Mr Pennies however, the bolts are quite clearly cheap, chromed allen bolts that don’t fill the holes as nicely as the others.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2015-06-few-dollars-less-4.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2015-06-few-dollars-less-4-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2015-06-few-dollars-less-4-lg.jpeg\" />\n              <img src=\"../../img/2015-06-few-dollars-less-4-xl.jpeg\" loading=\"lazy\" width=\"2000\" height=\"762\" class=\"post__img__img\" />\n            </picture>\n          </a><p>The inner leg nuts show the different production design descisions</p>\n\n        </figure><blockquote>\n<p>Here’s where Mr Pennies has a stroke of evil genius.</p>\n</blockquote>\n<p>But it’s the nuts on the inside of the base (above) that tell the real story. The bolts on Mr Vitra are capped with black powder-coated locking nuts. Mr Cheap can’t stretch to the additional cost of colour, but instead has some smart stainless steel domed nuts. And as the legs are tapered, both chairs have a shorter bolt at the top where the leg is thinner, and longer bolts at the lower, thicker, anchor point.</p>\n<p>Here’s where Mr Pennies has a stroke of evil genius. It replaces the expensive coloured or domed nut with a cheaper locking nut and a black plastic cap to make it look like a domed nut <strong>✧</strong>. As well as costing peanuts, this has the second pay-off of allowing the bolt to be the same length top and bottom, as it hides the excess thread in the cap. Less variations of bolts used, bigger economies of scales, less buckets of different size bolts to keep track of on the shop floor and less mistakes on the production line. As an aesthetic choice, it sucks (if you look close enough). But as a production trade-off, it rocks hard.</p>\n<p>Before you feel that these engineers are putting their profit above all morals, I’d point out that even the cheapest chair still makes some concessions to having a reasonably long life, and to sticking to the original design. The factories could make further savings by not using locking nuts, the wire trellis is still neatly welded and painted, and those nasty plastic nut covers still resemble expensive domed nuts at a distance. These are all places that further savings could be made, but are deemed to move the design too far from the purpose or reduce the usefulness -- and longevity -- one step too far.</p>\n<p>So for £30, Mr Pennies essentially gives you crappy fixings. You could go to the shops and buy better ones -- and still be in profit -- if you cared enough. It’s worth noting that when it comes to cutting corners for profit, all three chairs have the exact same same bill-of-materials, the repros haven’t tried to fabricate the trellis in one casting, or reduce components by combining the leg bracket with the joint in the seat. It’s only the choice of components and process that differ.</p>\n<hr>\n<p>The production doesn’t end at the finished chair, because at the end of any production line is where the goods are packaged. The packaging for Mr Pennies has it’s own story, which spoke of continuous feedback from distributors about what survives the journey and what doesn’t. The bolt points underneath the plastic shells came with not only plastic transit caps, but a felt pad as well -- so you could plastic wrap the shells and then quickly, loosely stack them in a box, still not risking scratching them between factory and showroom. The bases of the chairs also had just enough packaging the allow for safe stacking, boxing and transporting in shipping containers that can reach freezing or scorching temperatures on the long, slow journey to Europe.</p>\n<p>When a box of four chairs has such a small profit margin, you know you can’t give an unboxing experience like an Apple product, but it’s also clear you can’t afford too many returns eating up your margins. All of these small packing measures mean more shopfloor bins of film and foam that could stop a production line if they ran out, and more people and processes to eat away at your bottom line. This balance of packaging quality versus returns is a finely tuned equation echoed through the whole chair.</p>\n\n        <figure class=\"post__img post__img--wide\">\n          <a href=\"../../img/2015-06-few-dollars-less-6.jpeg\" target=\"_blank\" rel=\"noopener\" class=\"post__link\">\n            <picture class=\"post__img__picture\">\n              <source media=\"(max-width:599px)\" srcset=\"../../img/2015-06-few-dollars-less-6-sm.jpeg\" />\n              <source media=\"(min-width:600px)\" srcset=\"../../img/2015-06-few-dollars-less-6-lg.jpeg\" />\n              <img src=\"../../img/2015-06-few-dollars-less-6-xl.jpeg\" loading=\"lazy\" width=\"1400\" height=\"533\" class=\"post__img__img\" />\n            </picture>\n          </a><p>Three contestants for your interior-design money</p>\n\n        </figure><p>Am I annoyed at the compromises and cheapness of my four £30 chairs? Not really. I knew how much I was paying, and and I consider the trade-offs worth making -- some people have clearly put much thought into how to make the chairs look genuine at first glance to all but the hardened aficionado, whilst shaving every cost they can. And nothing short of an original would please people that dislike repros. I totally believe in the right to buy £300 side-chairs with pedigree and quality, but I’m afraid I can’t aspire to be one of them. The good people at Vitra haven’t lost my money -- at ten times the cost, I’m sad to say I never would have been able justify buying an original.</p>\n<p>If you tripled the price of Mr Pennies to guarantee a raise in wages, component quality, patent costs and environmental considerations, would I be less tempted by a £30 repro? Quite possibly, but as everything below a Vitra is currently tarred as a low-quality repro, I’m not sure how you could trust any claims of one chair to be &quot;better&quot; than the others <strong>‡</strong>.</p>\n<blockquote>\n<p>I think Charles and Ray Eames might secretly be giggling somewhere</p>\n</blockquote>\n<p>If somone sold these to me as originals, or they were sold at a price in-between £100-£300, I’d be furious, although partly at myself for not researching enough. In the modern google world, it doesn’t take much time to spot a bargain from a con.</p>\n<p>No -- I enjoy these chairs for what they are. They’re comfortable, attractive and reasonably priced. They allow me to kid myself I have some taste without the sticker shock. I’ve enjoyed seeing a glimpse of the story behind the production of the object and I like the &quot;missing-link&quot; feel of my £60 desk-chair. I still appreciate the quality and heritage of the Vitra &quot;originals&quot;, but I think Charles and Ray Eames might secretly be giggling somewhere that their design is finally a genuine mass-produced chair for the people.</p>\n<hr>\n<aside>\n<p>† The original chair shells were actually fibreglass, but in 1993, they transitioned to thermoplastic to be more recyclable.</p>\n<p>✢ If you buy an ABS white chair, it will change colour after prolonged UV exposure whether it is dyed-through or not -- and if you have directly sunlight on it, either think again about it’s colour or rotate it with others, to try not to leave annoying sun-tan marks.</p>\n<p>✧ Pro-tip: don’t try and tighten the leg nuts by putting pliers around the plastic capped nuts. Take the caps off and grab or socket the actual nut, as the caps mark easily and the finally just fall off as the nut still turns inside it, removing any grip it had on the nut.</p>\n<p>‡ Just to be clear, if you buy a £60 DSW repro today, I believe there’s a greater possibility you’re buying the £30 chair at a marked-up price than the £60 chair you see here. Many different factories produce these chairs and you will certainly find many variations of finish and materials, but this market has two certainties -- the cheap chair is cheap because it’s made in huge numbers, and the resellers’ mark-up varies from profitable to downright scandalous. There could be &quot;good&quot; repros out there, but make sure you know what you’re getting before you believe claims.</p>\n</aside>\n<aside class=\"aside--update\">\n<h3 id=\"2021-06-01\">2021-06-01 <a class=\"direct-link\" href=\"#2021-06-01\">#</a></h3>\n<p>If you wondered how long the chairs would last - a pandemic where I was working full-time from home - every day - on these chairs gives us the answer. This year, 12 years after I bought <strong>Mr Cheap</strong>, it started showing cracks across the base of the back-rest, which became a split. Swapping it for a <strong>Mr Pennies</strong> seat, it did the same after a couple of months (this seat was 6 years old at this point).</p>\n<p>It's worth saying that the <strong>Mr Pennies</strong> seat that my partner sits on (she also spent quite a lot of the year working from home) shows no cracks, so I guess fidgeting/leaning-back + over-use is the torture test that reduces the plastic fatigue life, unsurprisingly.</p>\n</aside>\n",
      "date_published": "2015-04-28T00:00:00+00:00"
    }
  ]
}
